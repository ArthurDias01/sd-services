{"version":3,"sources":["../../../../src/components/sign-in-google.tsx","../../../../src/components/loader.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { toast } from \"sonner\";\n\nimport { authClient } from \"@/lib/auth-client\";\nimport Loader from \"./loader\";\n\nconst GoogleIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" aria-hidden className=\"size-5\">\n    <path\n      d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n      fill=\"#4285F4\"\n    />\n    <path\n      d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n      fill=\"#34A853\"\n    />\n    <path\n      d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z\"\n      fill=\"#FBBC05\"\n    />\n    <path\n      d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n      fill=\"#EA4335\"\n    />\n  </svg>\n);\n\nexport default function SignInGoogle() {\n  const router = useRouter();\n  const { data: session, isPending } = authClient.useSession();\n\n  useEffect(() => {\n    if (session?.user) {\n      router.replace(\"/cms/projects\");\n    }\n  }, [session, router]);\n\n  if (isPending || session?.user) {\n    return (\n      <div className=\"flex min-h-dvh items-center justify-center bg-[var(--p-cream)]\">\n        <Loader />\n      </div>\n    );\n  }\n\n  const handleSignIn = () => {\n    const callbackURL =\n      typeof window !== \"undefined\"\n        ? `${window.location.origin}/cms/projects`\n        : \"/cms/projects\";\n\n    authClient.signIn.social(\n      { provider: \"google\", callbackURL },\n      {\n        onError: (error) => {\n          toast.error(\n            (error as { error?: { message?: string; statusText?: string } })\n              .error?.message ??\n              (error as { error?: { statusText?: string } }).error?.statusText ??\n              \"Sign in failed\",\n          );\n        },\n      },\n    );\n  };\n\n  return (\n    <div className=\"flex min-h-dvh\">\n      {/* Left panel — brand */}\n      <div className=\"hidden flex-1 flex-col justify-between bg-[var(--p-deep-walnut)] p-12 lg:flex\">\n        <div>\n          <span className=\"text-xs font-semibold uppercase tracking-widest text-[var(--p-tan)]\">\n            Content Studio\n          </span>\n        </div>\n        <div>\n          <p className=\"text-3xl font-bold leading-snug text-balance text-[var(--p-white)]\">\n            &ldquo;Craftsmanship is not a shortcut. It is the long way done\n            right.&rdquo;\n          </p>\n          <div className=\"mt-6 h-px w-12 bg-[var(--p-tan)]\" aria-hidden />\n          <p className=\"mt-4 text-xs font-medium uppercase tracking-widest text-[var(--p-tan)]\">\n            Custom Cabinetry\n          </p>\n        </div>\n        <div>\n          <p className=\"text-xs text-[var(--p-white)]/40\">\n            Authorised access only\n          </p>\n        </div>\n      </div>\n\n      {/* Right panel — sign in */}\n      <div className=\"flex flex-1 flex-col items-center justify-center bg-[var(--p-cream)] px-6 py-12\">\n        <div className=\"w-full max-w-sm\">\n          {/* Mobile-only label */}\n          <span className=\"mb-6 block text-xs font-semibold uppercase tracking-widest text-[var(--p-toffee)] lg:hidden\">\n            Content Studio\n          </span>\n\n          <h1 className=\"text-2xl font-bold text-balance text-[var(--p-deep-walnut)]\">\n            Sign in\n          </h1>\n          <div className=\"mt-3 h-px w-10 bg-[var(--p-tan)]\" aria-hidden />\n          <p className=\"mt-4 text-sm text-pretty text-[var(--p-coffee-bean)]\">\n            Use your Google account to access the content management area.\n          </p>\n\n          <div className=\"mt-8\">\n            <button\n              type=\"button\"\n              onClick={handleSignIn}\n              className=\"flex w-full items-center justify-center gap-3 border border-[var(--p-tan)] bg-[var(--p-white)] px-5 py-3 text-sm font-semibold text-[var(--p-deep-walnut)] outline-none transition-shadow hover:shadow-sm focus-visible:ring-2 focus-visible:ring-[var(--p-deep-walnut)] focus-visible:ring-offset-2\"\n            >\n              <GoogleIcon />\n              Continue with Google\n            </button>\n          </div>\n\n          <p className=\"mt-8 text-center text-xs text-[var(--p-toffee)]/70\">\n            Only authorised administrators can access this area.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { Loader2 } from \"lucide-react\";\n\nexport default function Loader() {\n  return (\n    <div className=\"flex h-full items-center justify-center pt-8\">\n      <Loader2 className=\"animate-spin\" />\n    </div>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,wBCJe,SAAS,IACtB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,kBAGzB,CDCA,IAAM,EAAa,IACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAM,6BAA6B,QAAQ,YAAY,aAAW,CAAA,CAAA,EAAC,UAAU,mBAChF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,EAAE,0HACF,KAAK,YAEP,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,EAAE,wIACF,KAAK,YAEP,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,EAAE,yHACF,KAAK,YAEP,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,EAAE,sIACF,KAAK,eAKI,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAE,KAAM,CAAO,WAAE,CAAS,CAAE,CAAG,EAAA,UAAU,CAAC,UAAU,SAQ1D,CANA,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACJ,GAAS,MAAM,AACjB,EAAO,OAAO,CAAC,gBAEnB,EAAG,CAAC,EAAS,EAAO,EAEhB,GAAa,GAAS,MAAM,AAE5B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,KA2BL,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+EAAsE,qBAIxF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8EAAqE,sEAIlF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCAAmC,aAAW,CAAA,CAAA,IAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kFAAyE,wBAIxF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAmC,gCAOpD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uGAA8F,mBAI9G,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uEAA8D,YAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCAAmC,aAAW,CAAA,CAAA,IAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gEAAuD,mEAIpE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,KAAK,SACL,QAlES,CAkEA,IA5DnB,EAAA,UAAU,CAAC,MAAM,CAAC,MAAM,CACtB,CAAE,SAAU,SAAU,YAHlB,eAG8B,EAClC,CACE,QAAS,AAAC,IACR,EAAA,KAAK,CAAC,KAAK,CACR,EACE,KAAK,EAAE,SACP,EAA8C,KAAK,EAAE,YACtD,iBAEN,CACF,EAEJ,EAgDY,UAAU,iTAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GAAa,4BAKlB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8DAAqD,gEAO5E"}