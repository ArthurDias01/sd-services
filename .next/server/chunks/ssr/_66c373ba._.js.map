{"version":3,"sources":["../../../../node_modules/%40tanstack/react-query/src/QueryClientProvider.tsx","../../../../node_modules/%40orpc/shared/dist/index.mjs","../../../../node_modules/%40orpc/client/dist/shared/client.BF1R3smX.mjs","../../../../node_modules/%40orpc/standard-server/dist/index.mjs","../../../../node_modules/%40orpc/client/dist/shared/client.BLtwTQUg.mjs","../../../../node_modules/%40orpc/client/dist/index.mjs","../../../../node_modules/%40orpc/standard-server-fetch/dist/index.mjs","../../../../node_modules/%40orpc/client/dist/shared/client.BcDRUyT-.mjs","../../../../node_modules/%40orpc/client/dist/adapters/fetch/index.mjs","../../../../node_modules/%40tanstack/query-core/src/timeoutManager.ts","../../../../node_modules/%40tanstack/query-core/src/utils.ts","../../../../node_modules/%40orpc/tanstack-query/dist/index.mjs","../../../../node_modules/%40tanstack/query-core/src/notifyManager.ts","../../../../node_modules/%40tanstack/query-core/src/subscribable.ts","../../../../node_modules/%40tanstack/query-core/src/focusManager.ts","../../../../node_modules/%40tanstack/query-core/build/modern/onlineManager.js","../../../../node_modules/%40tanstack/query-core/build/modern/retryer.js","../../../../node_modules/%40tanstack/query-core/build/modern/thenable.js","../../../../node_modules/%40tanstack/query-core/src/removable.ts","../../../../node_modules/%40tanstack/query-core/src/query.ts","../../../../node_modules/%40tanstack/query-core/src/queryCache.ts","../../../../node_modules/%40tanstack/query-core/src/mutation.ts","../../../../node_modules/%40tanstack/query-core/build/modern/mutationCache.js","../../../../node_modules/%40tanstack/query-core/build/modern/queryClient.js","../../../../src/utils/orpc.ts","../../../../node_modules/%40tanstack/query-core/build/modern/infiniteQueryBehavior.js"],"sourcesContent":["'use client'\nimport * as React from 'react'\n\nimport type { QueryClient } from '@tanstack/query-core'\n\nexport const QueryClientContext = React.createContext<QueryClient | undefined>(\n  undefined,\n)\n\nexport const useQueryClient = (queryClient?: QueryClient) => {\n  const client = React.useContext(QueryClientContext)\n\n  if (queryClient) {\n    return queryClient\n  }\n\n  if (!client) {\n    throw new Error('No QueryClient set, use QueryClientProvider to set one')\n  }\n\n  return client\n}\n\nexport type QueryClientProviderProps = {\n  client: QueryClient\n  children?: React.ReactNode\n}\n\nexport const QueryClientProvider = ({\n  client,\n  children,\n}: QueryClientProviderProps): React.JSX.Element => {\n  React.useEffect(() => {\n    client.mount()\n    return () => {\n      client.unmount()\n    }\n  }, [client])\n\n  return (\n    <QueryClientContext.Provider value={client}>\n      {children}\n    </QueryClientContext.Provider>\n  )\n}\n","export { group, guard, mapEntries, mapValues, omit, retry, sleep } from 'radash';\n\nfunction resolveMaybeOptionalOptions(rest) {\n  return rest[0] ?? {};\n}\n\nfunction toArray(value) {\n  return Array.isArray(value) ? value : value === void 0 || value === null ? [] : [value];\n}\nfunction splitInHalf(arr) {\n  const half = Math.ceil(arr.length / 2);\n  return [arr.slice(0, half), arr.slice(half)];\n}\n\nfunction readAsBuffer(source) {\n  if (typeof source.bytes === \"function\") {\n    return source.bytes();\n  }\n  return source.arrayBuffer();\n}\n\nconst ORPC_NAME = \"orpc\";\nconst ORPC_SHARED_PACKAGE_NAME = \"@orpc/shared\";\nconst ORPC_SHARED_PACKAGE_VERSION = \"1.13.5\";\n\nclass AbortError extends Error {\n  constructor(...rest) {\n    super(...rest);\n    this.name = \"AbortError\";\n  }\n}\n\nfunction once(fn) {\n  let cached;\n  return () => {\n    if (cached) {\n      return cached.result;\n    }\n    const result = fn();\n    cached = { result };\n    return result;\n  };\n}\nfunction sequential(fn) {\n  let lastOperationPromise = Promise.resolve();\n  return (...args) => {\n    return lastOperationPromise = lastOperationPromise.catch(() => {\n    }).then(() => {\n      return fn(...args);\n    });\n  };\n}\nfunction defer(callback) {\n  if (typeof setTimeout === \"function\") {\n    setTimeout(callback, 0);\n  } else {\n    Promise.resolve().then(() => Promise.resolve().then(() => Promise.resolve().then(callback)));\n  }\n}\n\nconst SPAN_ERROR_STATUS = 2;\nconst GLOBAL_OTEL_CONFIG_KEY = `__${ORPC_SHARED_PACKAGE_NAME}@${ORPC_SHARED_PACKAGE_VERSION}/otel/config__`;\nfunction setGlobalOtelConfig(config) {\n  globalThis[GLOBAL_OTEL_CONFIG_KEY] = config;\n}\nfunction getGlobalOtelConfig() {\n  return globalThis[GLOBAL_OTEL_CONFIG_KEY];\n}\nfunction startSpan(name, options = {}, context) {\n  const tracer = getGlobalOtelConfig()?.tracer;\n  return tracer?.startSpan(name, options, context);\n}\nfunction setSpanError(span, error, options = {}) {\n  if (!span) {\n    return;\n  }\n  const exception = toOtelException(error);\n  span.recordException(exception);\n  if (!options.signal?.aborted || options.signal.reason !== error) {\n    span.setStatus({\n      code: SPAN_ERROR_STATUS,\n      message: exception.message\n    });\n  }\n}\nfunction setSpanAttribute(span, key, value) {\n  if (!span || value === void 0) {\n    return;\n  }\n  span.setAttribute(key, value);\n}\nfunction toOtelException(error) {\n  if (error instanceof Error) {\n    const exception = {\n      message: error.message,\n      name: error.name,\n      stack: error.stack\n    };\n    if (\"code\" in error && (typeof error.code === \"string\" || typeof error.code === \"number\")) {\n      exception.code = error.code;\n    }\n    return exception;\n  }\n  return { message: String(error) };\n}\nfunction toSpanAttributeValue(data) {\n  if (data === void 0) {\n    return \"undefined\";\n  }\n  try {\n    return JSON.stringify(data, (_, value) => {\n      if (typeof value === \"bigint\") {\n        return value.toString();\n      }\n      if (value instanceof Map || value instanceof Set) {\n        return Array.from(value);\n      }\n      return value;\n    });\n  } catch {\n    return String(data);\n  }\n}\nasync function runWithSpan({ name, context, ...options }, fn) {\n  const tracer = getGlobalOtelConfig()?.tracer;\n  if (!tracer) {\n    return fn();\n  }\n  const callback = async (span) => {\n    try {\n      return await fn(span);\n    } catch (e) {\n      setSpanError(span, e, options);\n      throw e;\n    } finally {\n      span.end();\n    }\n  };\n  if (context) {\n    return tracer.startActiveSpan(name, options, context, callback);\n  } else {\n    return tracer.startActiveSpan(name, options, callback);\n  }\n}\nasync function runInSpanContext(span, fn) {\n  const otelConfig = getGlobalOtelConfig();\n  if (!span || !otelConfig) {\n    return fn();\n  }\n  const ctx = otelConfig.trace.setSpan(otelConfig.context.active(), span);\n  return otelConfig.context.with(ctx, fn);\n}\n\nclass AsyncIdQueue {\n  openIds = /* @__PURE__ */ new Set();\n  queues = /* @__PURE__ */ new Map();\n  waiters = /* @__PURE__ */ new Map();\n  get length() {\n    return this.openIds.size;\n  }\n  get waiterIds() {\n    return Array.from(this.waiters.keys());\n  }\n  hasBufferedItems(id) {\n    return Boolean(this.queues.get(id)?.length);\n  }\n  open(id) {\n    this.openIds.add(id);\n  }\n  isOpen(id) {\n    return this.openIds.has(id);\n  }\n  push(id, item) {\n    this.assertOpen(id);\n    const pending = this.waiters.get(id);\n    if (pending?.length) {\n      pending.shift()[0](item);\n      if (pending.length === 0) {\n        this.waiters.delete(id);\n      }\n    } else {\n      const items = this.queues.get(id);\n      if (items) {\n        items.push(item);\n      } else {\n        this.queues.set(id, [item]);\n      }\n    }\n  }\n  async pull(id) {\n    this.assertOpen(id);\n    const items = this.queues.get(id);\n    if (items?.length) {\n      const item = items.shift();\n      if (items.length === 0) {\n        this.queues.delete(id);\n      }\n      return item;\n    }\n    return new Promise((resolve, reject) => {\n      const waitingPulls = this.waiters.get(id);\n      const pending = [resolve, reject];\n      if (waitingPulls) {\n        waitingPulls.push(pending);\n      } else {\n        this.waiters.set(id, [pending]);\n      }\n    });\n  }\n  close({ id, reason } = {}) {\n    if (id === void 0) {\n      this.waiters.forEach((pendingPulls, id2) => {\n        const error2 = reason ?? new AbortError(`[AsyncIdQueue] Queue[${id2}] was closed or aborted while waiting for pulling.`);\n        pendingPulls.forEach(([, reject]) => reject(error2));\n      });\n      this.waiters.clear();\n      this.openIds.clear();\n      this.queues.clear();\n      return;\n    }\n    const error = reason ?? new AbortError(`[AsyncIdQueue] Queue[${id}] was closed or aborted while waiting for pulling.`);\n    this.waiters.get(id)?.forEach(([, reject]) => reject(error));\n    this.waiters.delete(id);\n    this.openIds.delete(id);\n    this.queues.delete(id);\n  }\n  assertOpen(id) {\n    if (!this.isOpen(id)) {\n      throw new Error(`[AsyncIdQueue] Cannot access queue[${id}] because it is not open or aborted.`);\n    }\n  }\n}\n\nfunction isAsyncIteratorObject(maybe) {\n  if (!maybe || typeof maybe !== \"object\") {\n    return false;\n  }\n  return \"next\" in maybe && typeof maybe.next === \"function\" && Symbol.asyncIterator in maybe && typeof maybe[Symbol.asyncIterator] === \"function\";\n}\nconst fallbackAsyncDisposeSymbol = Symbol.for(\"asyncDispose\");\nconst asyncDisposeSymbol = Symbol.asyncDispose ?? fallbackAsyncDisposeSymbol;\nclass AsyncIteratorClass {\n  #isDone = false;\n  #isExecuteComplete = false;\n  #cleanup;\n  #next;\n  constructor(next, cleanup) {\n    this.#cleanup = cleanup;\n    this.#next = sequential(async () => {\n      if (this.#isDone) {\n        return { done: true, value: void 0 };\n      }\n      try {\n        const result = await next();\n        if (result.done) {\n          this.#isDone = true;\n        }\n        return result;\n      } catch (err) {\n        this.#isDone = true;\n        throw err;\n      } finally {\n        if (this.#isDone && !this.#isExecuteComplete) {\n          this.#isExecuteComplete = true;\n          await this.#cleanup(\"next\");\n        }\n      }\n    });\n  }\n  next() {\n    return this.#next();\n  }\n  async return(value) {\n    this.#isDone = true;\n    if (!this.#isExecuteComplete) {\n      this.#isExecuteComplete = true;\n      await this.#cleanup(\"return\");\n    }\n    return { done: true, value };\n  }\n  async throw(err) {\n    this.#isDone = true;\n    if (!this.#isExecuteComplete) {\n      this.#isExecuteComplete = true;\n      await this.#cleanup(\"throw\");\n    }\n    throw err;\n  }\n  /**\n   * asyncDispose symbol only available in esnext, we should fallback to Symbol.for('asyncDispose')\n   */\n  async [asyncDisposeSymbol]() {\n    this.#isDone = true;\n    if (!this.#isExecuteComplete) {\n      this.#isExecuteComplete = true;\n      await this.#cleanup(\"dispose\");\n    }\n  }\n  [Symbol.asyncIterator]() {\n    return this;\n  }\n}\nfunction replicateAsyncIterator(source, count) {\n  const queue = new AsyncIdQueue();\n  const ids = Array.from({ length: count }, (_, i) => i.toString());\n  let isSourceFinished = false;\n  const start = once(async () => {\n    try {\n      while (true) {\n        const item = await source.next();\n        ids.forEach((id) => {\n          if (queue.isOpen(id)) {\n            queue.push(id, { next: item });\n          }\n        });\n        if (item.done) {\n          break;\n        }\n      }\n    } catch (error) {\n      ids.forEach((id) => {\n        if (queue.isOpen(id)) {\n          queue.push(id, { error });\n        }\n      });\n    } finally {\n      isSourceFinished = true;\n    }\n  });\n  const replicated = ids.map((id) => {\n    queue.open(id);\n    return new AsyncIteratorClass(\n      async () => {\n        start();\n        const item = await queue.pull(id);\n        if (item.next) {\n          return item.next;\n        }\n        throw item.error;\n      },\n      async (reason) => {\n        queue.close({ id });\n        if (reason !== \"next\" && !queue.length && !isSourceFinished) {\n          isSourceFinished = true;\n          await source?.return?.();\n        }\n      }\n    );\n  });\n  return replicated;\n}\nfunction asyncIteratorWithSpan({ name, ...options }, iterator) {\n  let span;\n  return new AsyncIteratorClass(\n    async () => {\n      span ??= startSpan(name);\n      try {\n        const result = await runInSpanContext(span, () => iterator.next());\n        span?.addEvent(result.done ? \"completed\" : \"yielded\");\n        return result;\n      } catch (err) {\n        setSpanError(span, err, options);\n        throw err;\n      }\n    },\n    async (reason) => {\n      try {\n        if (reason !== \"next\") {\n          await runInSpanContext(span, () => iterator.return?.());\n        }\n      } catch (err) {\n        setSpanError(span, err, options);\n        throw err;\n      } finally {\n        span?.end();\n      }\n    }\n  );\n}\n\nclass EventPublisher {\n  #listenersMap = /* @__PURE__ */ new Map();\n  #maxBufferedEvents;\n  constructor(options = {}) {\n    this.#maxBufferedEvents = options.maxBufferedEvents ?? 100;\n  }\n  get size() {\n    return this.#listenersMap.size;\n  }\n  /**\n   * Emits an event and delivers the payload to all subscribed listeners.\n   */\n  publish(event, payload) {\n    const listeners = this.#listenersMap.get(event);\n    if (!listeners) {\n      return;\n    }\n    for (const listener of listeners) {\n      listener(payload);\n    }\n  }\n  subscribe(event, listenerOrOptions) {\n    if (typeof listenerOrOptions === \"function\") {\n      let listeners = this.#listenersMap.get(event);\n      if (!listeners) {\n        this.#listenersMap.set(event, listeners = []);\n      }\n      listeners.push(listenerOrOptions);\n      return once(() => {\n        listeners.splice(listeners.indexOf(listenerOrOptions), 1);\n        if (listeners.length === 0) {\n          this.#listenersMap.delete(event);\n        }\n      });\n    }\n    const signal = listenerOrOptions?.signal;\n    const maxBufferedEvents = listenerOrOptions?.maxBufferedEvents ?? this.#maxBufferedEvents;\n    signal?.throwIfAborted();\n    const bufferedEvents = [];\n    const pullResolvers = [];\n    const unsubscribe = this.subscribe(event, (payload) => {\n      const resolver = pullResolvers.shift();\n      if (resolver) {\n        resolver[0]({ done: false, value: payload });\n      } else {\n        bufferedEvents.push(payload);\n        if (bufferedEvents.length > maxBufferedEvents) {\n          bufferedEvents.shift();\n        }\n      }\n    });\n    const abortListener = (event2) => {\n      unsubscribe();\n      pullResolvers.forEach((resolver) => resolver[1](event2.target.reason));\n      pullResolvers.length = 0;\n      bufferedEvents.length = 0;\n    };\n    signal?.addEventListener(\"abort\", abortListener, { once: true });\n    return new AsyncIteratorClass(async () => {\n      if (signal?.aborted) {\n        throw signal.reason;\n      }\n      if (bufferedEvents.length > 0) {\n        return { done: false, value: bufferedEvents.shift() };\n      }\n      return new Promise((resolve, reject) => {\n        pullResolvers.push([resolve, reject]);\n      });\n    }, async () => {\n      unsubscribe();\n      signal?.removeEventListener(\"abort\", abortListener);\n      pullResolvers.forEach((resolver) => resolver[0]({ done: true, value: void 0 }));\n      pullResolvers.length = 0;\n      bufferedEvents.length = 0;\n    });\n  }\n}\n\nclass SequentialIdGenerator {\n  index = BigInt(1);\n  generate() {\n    const id = this.index.toString(36);\n    this.index++;\n    return id;\n  }\n}\nfunction compareSequentialIds(a, b) {\n  if (a.length !== b.length) {\n    return a.length - b.length;\n  }\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\nfunction onStart(callback) {\n  return async (options, ...rest) => {\n    await callback(options, ...rest);\n    return await options.next();\n  };\n}\nfunction onSuccess(callback) {\n  return async (options, ...rest) => {\n    const result = await options.next();\n    await callback(result, options, ...rest);\n    return result;\n  };\n}\nfunction onError(callback) {\n  return async (options, ...rest) => {\n    try {\n      return await options.next();\n    } catch (error) {\n      await callback(error, options, ...rest);\n      throw error;\n    }\n  };\n}\nfunction onFinish(callback) {\n  let state;\n  return async (options, ...rest) => {\n    try {\n      const result = await options.next();\n      state = [null, result, true];\n      return result;\n    } catch (error) {\n      state = [error, void 0, false];\n      throw error;\n    } finally {\n      await callback(state, options, ...rest);\n    }\n  };\n}\nfunction intercept(interceptors, options, main) {\n  const next = (options2, index) => {\n    const interceptor = interceptors[index];\n    if (!interceptor) {\n      return main(options2);\n    }\n    return interceptor({\n      ...options2,\n      next: (newOptions = options2) => next(newOptions, index + 1)\n    });\n  };\n  return next(options, 0);\n}\n\nfunction parseEmptyableJSON(text) {\n  if (!text) {\n    return void 0;\n  }\n  return JSON.parse(text);\n}\nfunction stringifyJSON(value) {\n  return JSON.stringify(value);\n}\n\nfunction findDeepMatches(check, payload, segments = [], maps = [], values = []) {\n  if (check(payload)) {\n    maps.push(segments);\n    values.push(payload);\n  } else if (Array.isArray(payload)) {\n    payload.forEach((v, i) => {\n      findDeepMatches(check, v, [...segments, i], maps, values);\n    });\n  } else if (isObject(payload)) {\n    for (const key in payload) {\n      findDeepMatches(check, payload[key], [...segments, key], maps, values);\n    }\n  }\n  return { maps, values };\n}\nfunction getConstructor(value) {\n  if (!isTypescriptObject(value)) {\n    return null;\n  }\n  return Object.getPrototypeOf(value)?.constructor;\n}\nfunction isObject(value) {\n  if (!value || typeof value !== \"object\") {\n    return false;\n  }\n  const proto = Object.getPrototypeOf(value);\n  return proto === Object.prototype || !proto || !proto.constructor;\n}\nfunction isTypescriptObject(value) {\n  return !!value && (typeof value === \"object\" || typeof value === \"function\");\n}\nfunction clone(value) {\n  if (Array.isArray(value)) {\n    return value.map(clone);\n  }\n  if (isObject(value)) {\n    const result = {};\n    for (const key in value) {\n      result[key] = clone(value[key]);\n    }\n    for (const sym of Object.getOwnPropertySymbols(value)) {\n      result[sym] = clone(value[sym]);\n    }\n    return result;\n  }\n  return value;\n}\nfunction get(object, path) {\n  let current = object;\n  for (const key of path) {\n    if (!isTypescriptObject(current)) {\n      return void 0;\n    }\n    current = current[key];\n  }\n  return current;\n}\nfunction isPropertyKey(value) {\n  const type = typeof value;\n  return type === \"string\" || type === \"number\" || type === \"symbol\";\n}\nconst NullProtoObj = /* @__PURE__ */ (() => {\n  const e = function() {\n  };\n  e.prototype = /* @__PURE__ */ Object.create(null);\n  Object.freeze(e.prototype);\n  return e;\n})();\n\nfunction value(value2, ...args) {\n  if (typeof value2 === \"function\") {\n    return value2(...args);\n  }\n  return value2;\n}\nfunction fallback(value2, fallback2) {\n  return value2 === void 0 ? fallback2 : value2;\n}\n\nfunction preventNativeAwait(target) {\n  return new Proxy(target, {\n    get(target2, prop, receiver) {\n      const value2 = Reflect.get(target2, prop, receiver);\n      if (prop !== \"then\" || typeof value2 !== \"function\") {\n        return value2;\n      }\n      return new Proxy(value2, {\n        apply(targetFn, thisArg, args) {\n          if (args.length !== 2 || args.some((arg) => !isNativeFunction(arg))) {\n            return Reflect.apply(targetFn, thisArg, args);\n          }\n          let shouldOmit = true;\n          args[0].call(thisArg, preventNativeAwait(new Proxy(target2, {\n            get: (target3, prop2, receiver2) => {\n              if (shouldOmit && prop2 === \"then\") {\n                shouldOmit = false;\n                return void 0;\n              }\n              return Reflect.get(target3, prop2, receiver2);\n            }\n          })));\n        }\n      });\n    }\n  });\n}\nconst NATIVE_FUNCTION_REGEX = /^\\s*function\\s*\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}\\s*$/;\nfunction isNativeFunction(fn) {\n  return typeof fn === \"function\" && NATIVE_FUNCTION_REGEX.test(fn.toString());\n}\nfunction overlayProxy(target, partial) {\n  const proxy = new Proxy(typeof target === \"function\" ? partial : target, {\n    get(_, prop) {\n      const targetValue = prop in partial ? partial : value(target);\n      const v = Reflect.get(targetValue, prop);\n      return typeof v === \"function\" ? v.bind(targetValue) : v;\n    },\n    has(_, prop) {\n      return Reflect.has(partial, prop) || Reflect.has(value(target), prop);\n    }\n  });\n  return proxy;\n}\n\nfunction streamToAsyncIteratorClass(stream) {\n  const reader = stream.getReader();\n  return new AsyncIteratorClass(\n    async () => {\n      return reader.read();\n    },\n    async () => {\n      await reader.cancel();\n    }\n  );\n}\nfunction asyncIteratorToStream(iterator) {\n  return new ReadableStream({\n    async pull(controller) {\n      const { done, value } = await iterator.next();\n      if (done) {\n        controller.close();\n      } else {\n        controller.enqueue(value);\n      }\n    },\n    async cancel() {\n      await iterator.return?.();\n    }\n  });\n}\nfunction asyncIteratorToUnproxiedDataStream(iterator) {\n  return new ReadableStream({\n    async pull(controller) {\n      const { done, value } = await iterator.next();\n      if (done) {\n        controller.close();\n      } else {\n        const unproxied = isObject(value) ? { ...value } : Array.isArray(value) ? value.map((i) => i) : value;\n        controller.enqueue(unproxied);\n      }\n    },\n    async cancel() {\n      await iterator.return?.();\n    }\n  });\n}\n\nfunction tryDecodeURIComponent(value) {\n  try {\n    return decodeURIComponent(value);\n  } catch {\n    return value;\n  }\n}\n\nexport { AbortError, AsyncIdQueue, AsyncIteratorClass, EventPublisher, NullProtoObj, ORPC_NAME, ORPC_SHARED_PACKAGE_NAME, ORPC_SHARED_PACKAGE_VERSION, SequentialIdGenerator, asyncIteratorToStream, asyncIteratorToUnproxiedDataStream, asyncIteratorWithSpan, clone, compareSequentialIds, defer, fallback, findDeepMatches, get, getConstructor, getGlobalOtelConfig, intercept, isAsyncIteratorObject, isObject, isPropertyKey, isTypescriptObject, onError, onFinish, onStart, onSuccess, once, overlayProxy, parseEmptyableJSON, preventNativeAwait, readAsBuffer, replicateAsyncIterator, resolveMaybeOptionalOptions, runInSpanContext, runWithSpan, sequential, setGlobalOtelConfig, setSpanAttribute, setSpanError, splitInHalf, startSpan, streamToAsyncIteratorClass, stringifyJSON, toArray, toOtelException, toSpanAttributeValue, tryDecodeURIComponent, value };\n","import { resolveMaybeOptionalOptions, getConstructor, isObject } from '@orpc/shared';\n\nconst ORPC_CLIENT_PACKAGE_NAME = \"@orpc/client\";\nconst ORPC_CLIENT_PACKAGE_VERSION = \"1.13.5\";\n\nconst COMMON_ORPC_ERROR_DEFS = {\n  BAD_REQUEST: {\n    status: 400,\n    message: \"Bad Request\"\n  },\n  UNAUTHORIZED: {\n    status: 401,\n    message: \"Unauthorized\"\n  },\n  FORBIDDEN: {\n    status: 403,\n    message: \"Forbidden\"\n  },\n  NOT_FOUND: {\n    status: 404,\n    message: \"Not Found\"\n  },\n  METHOD_NOT_SUPPORTED: {\n    status: 405,\n    message: \"Method Not Supported\"\n  },\n  NOT_ACCEPTABLE: {\n    status: 406,\n    message: \"Not Acceptable\"\n  },\n  TIMEOUT: {\n    status: 408,\n    message: \"Request Timeout\"\n  },\n  CONFLICT: {\n    status: 409,\n    message: \"Conflict\"\n  },\n  PRECONDITION_FAILED: {\n    status: 412,\n    message: \"Precondition Failed\"\n  },\n  PAYLOAD_TOO_LARGE: {\n    status: 413,\n    message: \"Payload Too Large\"\n  },\n  UNSUPPORTED_MEDIA_TYPE: {\n    status: 415,\n    message: \"Unsupported Media Type\"\n  },\n  UNPROCESSABLE_CONTENT: {\n    status: 422,\n    message: \"Unprocessable Content\"\n  },\n  TOO_MANY_REQUESTS: {\n    status: 429,\n    message: \"Too Many Requests\"\n  },\n  CLIENT_CLOSED_REQUEST: {\n    status: 499,\n    message: \"Client Closed Request\"\n  },\n  INTERNAL_SERVER_ERROR: {\n    status: 500,\n    message: \"Internal Server Error\"\n  },\n  NOT_IMPLEMENTED: {\n    status: 501,\n    message: \"Not Implemented\"\n  },\n  BAD_GATEWAY: {\n    status: 502,\n    message: \"Bad Gateway\"\n  },\n  SERVICE_UNAVAILABLE: {\n    status: 503,\n    message: \"Service Unavailable\"\n  },\n  GATEWAY_TIMEOUT: {\n    status: 504,\n    message: \"Gateway Timeout\"\n  }\n};\nfunction fallbackORPCErrorStatus(code, status) {\n  return status ?? COMMON_ORPC_ERROR_DEFS[code]?.status ?? 500;\n}\nfunction fallbackORPCErrorMessage(code, message) {\n  return message || COMMON_ORPC_ERROR_DEFS[code]?.message || code;\n}\nconst GLOBAL_ORPC_ERROR_CONSTRUCTORS_SYMBOL = Symbol.for(`__${ORPC_CLIENT_PACKAGE_NAME}@${ORPC_CLIENT_PACKAGE_VERSION}/error/ORPC_ERROR_CONSTRUCTORS__`);\nvoid (globalThis[GLOBAL_ORPC_ERROR_CONSTRUCTORS_SYMBOL] ??= /* @__PURE__ */ new WeakSet());\nconst globalORPCErrorConstructors = globalThis[GLOBAL_ORPC_ERROR_CONSTRUCTORS_SYMBOL];\nclass ORPCError extends Error {\n  defined;\n  code;\n  status;\n  data;\n  constructor(code, ...rest) {\n    const options = resolveMaybeOptionalOptions(rest);\n    if (options.status !== void 0 && !isORPCErrorStatus(options.status)) {\n      throw new Error(\"[ORPCError] Invalid error status code.\");\n    }\n    const message = fallbackORPCErrorMessage(code, options.message);\n    super(message, options);\n    this.code = code;\n    this.status = fallbackORPCErrorStatus(code, options.status);\n    this.defined = options.defined ?? false;\n    this.data = options.data;\n  }\n  toJSON() {\n    return {\n      defined: this.defined,\n      code: this.code,\n      status: this.status,\n      message: this.message,\n      data: this.data\n    };\n  }\n  /**\n   * Workaround for Next.js where different contexts use separate\n   * dependency graphs, causing multiple ORPCError constructors existing and breaking\n   * `instanceof` checks across contexts.\n   *\n   * This is particularly problematic with \"Optimized SSR\", where orpc-client\n   * executes in one context but is invoked from another. When an error is thrown\n   * in the execution context, `instanceof ORPCError` checks fail in the\n   * invocation context due to separate class constructors.\n   *\n   * @todo Remove this and related code if Next.js resolves the multiple dependency graph issue.\n   */\n  static [Symbol.hasInstance](instance) {\n    if (globalORPCErrorConstructors.has(this)) {\n      const constructor = getConstructor(instance);\n      if (constructor && globalORPCErrorConstructors.has(constructor)) {\n        return true;\n      }\n    }\n    return super[Symbol.hasInstance](instance);\n  }\n}\nglobalORPCErrorConstructors.add(ORPCError);\nfunction isDefinedError(error) {\n  return error instanceof ORPCError && error.defined;\n}\nfunction toORPCError(error) {\n  return error instanceof ORPCError ? error : new ORPCError(\"INTERNAL_SERVER_ERROR\", {\n    message: \"Internal server error\",\n    cause: error\n  });\n}\nfunction isORPCErrorStatus(status) {\n  return status < 200 || status >= 400;\n}\nfunction isORPCErrorJson(json) {\n  if (!isObject(json)) {\n    return false;\n  }\n  const validKeys = [\"defined\", \"code\", \"status\", \"message\", \"data\"];\n  if (Object.keys(json).some((k) => !validKeys.includes(k))) {\n    return false;\n  }\n  return \"defined\" in json && typeof json.defined === \"boolean\" && \"code\" in json && typeof json.code === \"string\" && \"status\" in json && typeof json.status === \"number\" && isORPCErrorStatus(json.status) && \"message\" in json && typeof json.message === \"string\";\n}\nfunction createORPCErrorFromJson(json, options = {}) {\n  return new ORPCError(json.code, {\n    ...options,\n    ...json\n  });\n}\n\nexport { COMMON_ORPC_ERROR_DEFS as C, ORPC_CLIENT_PACKAGE_NAME as O, ORPC_CLIENT_PACKAGE_VERSION as a, fallbackORPCErrorMessage as b, ORPCError as c, isORPCErrorStatus as d, isORPCErrorJson as e, fallbackORPCErrorStatus as f, createORPCErrorFromJson as g, isDefinedError as i, toORPCError as t };\n","import { isTypescriptObject, AsyncIteratorClass, tryDecodeURIComponent, toArray, once, isAsyncIteratorObject, replicateAsyncIterator } from '@orpc/shared';\n\nclass EventEncoderError extends TypeError {\n}\nclass EventDecoderError extends TypeError {\n}\nclass ErrorEvent extends Error {\n  data;\n  constructor(options) {\n    super(options?.message ?? \"An error event was received\", options);\n    this.data = options?.data;\n  }\n}\n\nfunction decodeEventMessage(encoded) {\n  const lines = encoded.replace(/\\n+$/, \"\").split(/\\n/);\n  const message = {\n    data: void 0,\n    event: void 0,\n    id: void 0,\n    retry: void 0,\n    comments: []\n  };\n  for (const line of lines) {\n    const index = line.indexOf(\":\");\n    const key = index === -1 ? line : line.slice(0, index);\n    const value = index === -1 ? \"\" : line.slice(index + 1).replace(/^\\s/, \"\");\n    if (index === 0) {\n      message.comments.push(value);\n    } else if (key === \"data\") {\n      message.data ??= \"\";\n      message.data += `${value}\n`;\n    } else if (key === \"event\") {\n      message.event = value;\n    } else if (key === \"id\") {\n      message.id = value;\n    } else if (key === \"retry\") {\n      const maybeInteger = Number.parseInt(value);\n      if (Number.isInteger(maybeInteger) && maybeInteger >= 0 && maybeInteger.toString() === value) {\n        message.retry = maybeInteger;\n      }\n    }\n  }\n  message.data = message.data?.replace(/\\n$/, \"\");\n  return message;\n}\nclass EventDecoder {\n  constructor(options = {}) {\n    this.options = options;\n  }\n  incomplete = \"\";\n  feed(chunk) {\n    this.incomplete += chunk;\n    const lastCompleteIndex = this.incomplete.lastIndexOf(\"\\n\\n\");\n    if (lastCompleteIndex === -1) {\n      return;\n    }\n    const completes = this.incomplete.slice(0, lastCompleteIndex).split(/\\n\\n/);\n    this.incomplete = this.incomplete.slice(lastCompleteIndex + 2);\n    for (const encoded of completes) {\n      const message = decodeEventMessage(`${encoded}\n\n`);\n      if (this.options.onEvent) {\n        this.options.onEvent(message);\n      }\n    }\n  }\n  end() {\n    if (this.incomplete) {\n      throw new EventDecoderError(\"Event Iterator ended before complete\");\n    }\n  }\n}\nclass EventDecoderStream extends TransformStream {\n  constructor() {\n    let decoder;\n    super({\n      start(controller) {\n        decoder = new EventDecoder({\n          onEvent: (event) => {\n            controller.enqueue(event);\n          }\n        });\n      },\n      transform(chunk) {\n        decoder.feed(chunk);\n      },\n      flush() {\n        decoder.end();\n      }\n    });\n  }\n}\n\nfunction assertEventId(id) {\n  if (id.includes(\"\\n\")) {\n    throw new EventEncoderError(\"Event's id must not contain a newline character\");\n  }\n}\nfunction assertEventName(event) {\n  if (event.includes(\"\\n\")) {\n    throw new EventEncoderError(\"Event's event must not contain a newline character\");\n  }\n}\nfunction assertEventRetry(retry) {\n  if (!Number.isInteger(retry) || retry < 0) {\n    throw new EventEncoderError(\"Event's retry must be a integer and >= 0\");\n  }\n}\nfunction assertEventComment(comment) {\n  if (comment.includes(\"\\n\")) {\n    throw new EventEncoderError(\"Event's comment must not contain a newline character\");\n  }\n}\nfunction encodeEventData(data) {\n  const lines = data?.split(/\\n/) ?? [];\n  let output = \"\";\n  for (const line of lines) {\n    output += `data: ${line}\n`;\n  }\n  return output;\n}\nfunction encodeEventComments(comments) {\n  let output = \"\";\n  for (const comment of comments ?? []) {\n    assertEventComment(comment);\n    output += `: ${comment}\n`;\n  }\n  return output;\n}\nfunction encodeEventMessage(message) {\n  let output = \"\";\n  output += encodeEventComments(message.comments);\n  if (message.event !== void 0) {\n    assertEventName(message.event);\n    output += `event: ${message.event}\n`;\n  }\n  if (message.retry !== void 0) {\n    assertEventRetry(message.retry);\n    output += `retry: ${message.retry}\n`;\n  }\n  if (message.id !== void 0) {\n    assertEventId(message.id);\n    output += `id: ${message.id}\n`;\n  }\n  output += encodeEventData(message.data);\n  output += \"\\n\";\n  return output;\n}\n\nconst EVENT_SOURCE_META_SYMBOL = Symbol(\"ORPC_EVENT_SOURCE_META\");\nfunction withEventMeta(container, meta) {\n  if (meta.id === void 0 && meta.retry === void 0 && !meta.comments?.length) {\n    return container;\n  }\n  if (meta.id !== void 0) {\n    assertEventId(meta.id);\n  }\n  if (meta.retry !== void 0) {\n    assertEventRetry(meta.retry);\n  }\n  if (meta.comments !== void 0) {\n    for (const comment of meta.comments) {\n      assertEventComment(comment);\n    }\n  }\n  return new Proxy(container, {\n    get(target, prop, receiver) {\n      if (prop === EVENT_SOURCE_META_SYMBOL) {\n        return meta;\n      }\n      return Reflect.get(target, prop, receiver);\n    }\n  });\n}\nfunction getEventMeta(container) {\n  return isTypescriptObject(container) ? Reflect.get(container, EVENT_SOURCE_META_SYMBOL) : void 0;\n}\n\nclass HibernationEventIterator extends AsyncIteratorClass {\n  /**\n   * this property is not transferred to the client, so it should be optional for type safety\n   */\n  hibernationCallback;\n  constructor(hibernationCallback) {\n    super(async () => {\n      throw new Error(\"Cannot iterate over hibernating iterator directly\");\n    }, async (reason) => {\n      if (reason !== \"next\") {\n        throw new Error(\"Cannot cleanup hibernating iterator directly\");\n      }\n    });\n    this.hibernationCallback = hibernationCallback;\n  }\n}\n\nfunction generateContentDisposition(filename) {\n  const escapedFileName = filename.replace(/\"/g, '\\\\\"');\n  const encodedFilenameStar = encodeURIComponent(filename).replace(/['()*]/g, (c) => `%${c.charCodeAt(0).toString(16).toUpperCase()}`).replace(/%(7C|60|5E)/g, (str, hex) => String.fromCharCode(Number.parseInt(hex, 16)));\n  return `inline; filename=\"${escapedFileName}\"; filename*=utf-8''${encodedFilenameStar}`;\n}\nfunction getFilenameFromContentDisposition(contentDisposition) {\n  const encodedFilenameStarMatch = contentDisposition.match(/filename\\*=(UTF-8'')?([^;]*)/i);\n  if (encodedFilenameStarMatch && typeof encodedFilenameStarMatch[2] === \"string\") {\n    return tryDecodeURIComponent(encodedFilenameStarMatch[2]);\n  }\n  const encodedFilenameMatch = contentDisposition.match(/filename=\"((?:\\\\\"|[^\"])*)\"/i);\n  if (encodedFilenameMatch && typeof encodedFilenameMatch[1] === \"string\") {\n    return encodedFilenameMatch[1].replace(/\\\\\"/g, '\"');\n  }\n}\nfunction mergeStandardHeaders(a, b) {\n  const merged = { ...a };\n  for (const key in b) {\n    if (Array.isArray(b[key])) {\n      merged[key] = [...toArray(merged[key]), ...b[key]];\n    } else if (b[key] !== void 0) {\n      if (Array.isArray(merged[key])) {\n        merged[key] = [...merged[key], b[key]];\n      } else if (merged[key] !== void 0) {\n        merged[key] = [merged[key], b[key]];\n      } else {\n        merged[key] = b[key];\n      }\n    }\n  }\n  return merged;\n}\nfunction flattenHeader(header) {\n  if (typeof header === \"string\" || header === void 0) {\n    return header;\n  }\n  if (header.length === 0) {\n    return void 0;\n  }\n  return header.join(\", \");\n}\nfunction replicateStandardLazyResponse(response, count) {\n  const replicated = [];\n  let bodyPromise;\n  let replicatedAsyncIteratorObjects;\n  for (let i = 0; i < count; i++) {\n    replicated.push({\n      ...response,\n      body: once(async () => {\n        const body = await (bodyPromise ??= response.body());\n        if (!isAsyncIteratorObject(body)) {\n          return body;\n        }\n        replicatedAsyncIteratorObjects ??= replicateAsyncIterator(body, count);\n        return replicatedAsyncIteratorObjects.shift();\n      })\n    });\n  }\n  return replicated;\n}\nfunction isEventIteratorHeaders(headers) {\n  return Boolean(flattenHeader(headers[\"content-type\"])?.startsWith(\"text/event-stream\") && flattenHeader(headers[\"content-disposition\"]) === void 0);\n}\n\nexport { ErrorEvent, EventDecoder, EventDecoderError, EventDecoderStream, EventEncoderError, HibernationEventIterator, assertEventComment, assertEventId, assertEventName, assertEventRetry, decodeEventMessage, encodeEventComments, encodeEventData, encodeEventMessage, flattenHeader, generateContentDisposition, getEventMeta, getFilenameFromContentDisposition, isEventIteratorHeaders, mergeStandardHeaders, replicateStandardLazyResponse, withEventMeta };\n","import { AsyncIteratorClass, isTypescriptObject } from '@orpc/shared';\nimport { getEventMeta, withEventMeta } from '@orpc/standard-server';\n\nfunction mapEventIterator(iterator, maps) {\n  const mapError = async (error) => {\n    let mappedError = await maps.error(error);\n    if (mappedError !== error) {\n      const meta = getEventMeta(error);\n      if (meta && isTypescriptObject(mappedError)) {\n        mappedError = withEventMeta(mappedError, meta);\n      }\n    }\n    return mappedError;\n  };\n  return new AsyncIteratorClass(async () => {\n    const { done, value } = await (async () => {\n      try {\n        return await iterator.next();\n      } catch (error) {\n        throw await mapError(error);\n      }\n    })();\n    let mappedValue = await maps.value(value, done);\n    if (mappedValue !== value) {\n      const meta = getEventMeta(value);\n      if (meta && isTypescriptObject(mappedValue)) {\n        mappedValue = withEventMeta(mappedValue, meta);\n      }\n    }\n    return { done, value: mappedValue };\n  }, async () => {\n    try {\n      await iterator.return?.();\n    } catch (error) {\n      throw await mapError(error);\n    }\n  });\n}\n\nexport { mapEventIterator as m };\n","import { preventNativeAwait, isTypescriptObject } from '@orpc/shared';\nexport { AsyncIteratorClass, EventPublisher, asyncIteratorToStream as eventIteratorToStream, asyncIteratorToUnproxiedDataStream as eventIteratorToUnproxiedDataStream, onError, onFinish, onStart, onSuccess, streamToAsyncIteratorClass as streamToEventIterator } from '@orpc/shared';\nimport { i as isDefinedError } from './shared/client.BF1R3smX.mjs';\nexport { C as COMMON_ORPC_ERROR_DEFS, c as ORPCError, O as ORPC_CLIENT_PACKAGE_NAME, a as ORPC_CLIENT_PACKAGE_VERSION, g as createORPCErrorFromJson, b as fallbackORPCErrorMessage, f as fallbackORPCErrorStatus, e as isORPCErrorJson, d as isORPCErrorStatus, t as toORPCError } from './shared/client.BF1R3smX.mjs';\nexport { m as mapEventIterator } from './shared/client.BLtwTQUg.mjs';\nexport { ErrorEvent } from '@orpc/standard-server';\n\nasync function safe(promise) {\n  try {\n    const output = await promise;\n    return Object.assign(\n      [null, output, false, true],\n      { error: null, data: output, isDefined: false, isSuccess: true }\n    );\n  } catch (e) {\n    const error = e;\n    if (isDefinedError(error)) {\n      return Object.assign(\n        [error, void 0, true, false],\n        { error, data: void 0, isDefined: true, isSuccess: false }\n      );\n    }\n    return Object.assign(\n      [error, void 0, false, false],\n      { error, data: void 0, isDefined: false, isSuccess: false }\n    );\n  }\n}\nfunction resolveFriendlyClientOptions(options) {\n  return {\n    ...options,\n    context: options.context ?? {}\n    // Context only optional if all fields are optional\n  };\n}\nfunction consumeEventIterator(iterator, options) {\n  void (async () => {\n    let onFinishState;\n    try {\n      const resolvedIterator = await iterator;\n      while (true) {\n        const { done, value } = await resolvedIterator.next();\n        if (done) {\n          const realValue = value;\n          onFinishState = [null, realValue, true];\n          options.onSuccess?.(realValue);\n          break;\n        }\n        options.onEvent(value);\n      }\n    } catch (error) {\n      onFinishState = [error, void 0, false];\n      if (!options.onError && !options.onFinish) {\n        throw error;\n      }\n      options.onError?.(error);\n    } finally {\n      options.onFinish?.(onFinishState);\n    }\n  })();\n  return async () => {\n    await (await iterator)?.return?.();\n  };\n}\n\nfunction createORPCClient(link, options = {}) {\n  const path = options.path ?? [];\n  const procedureClient = async (...[input, options2 = {}]) => {\n    return await link.call(path, input, resolveFriendlyClientOptions(options2));\n  };\n  const recursive = new Proxy(procedureClient, {\n    get(target, key) {\n      if (typeof key !== \"string\") {\n        return Reflect.get(target, key);\n      }\n      return createORPCClient(link, {\n        ...options,\n        path: [...path, key]\n      });\n    }\n  });\n  return preventNativeAwait(recursive);\n}\n\nfunction createSafeClient(client) {\n  const proxy = new Proxy((...args) => safe(client(...args)), {\n    get(_, prop, receiver) {\n      const value = Reflect.get(client, prop, receiver);\n      if (typeof prop !== \"string\") {\n        return value;\n      }\n      if (!isTypescriptObject(value)) {\n        return value;\n      }\n      return createSafeClient(value);\n    }\n  });\n  return proxy;\n}\n\nclass DynamicLink {\n  constructor(linkResolver) {\n    this.linkResolver = linkResolver;\n  }\n  async call(path, input, options) {\n    const resolvedLink = await this.linkResolver(options, path, input);\n    const output = await resolvedLink.call(path, input, options);\n    return output;\n  }\n}\n\nexport { DynamicLink, consumeEventIterator, createORPCClient, createSafeClient, isDefinedError, resolveFriendlyClientOptions, safe };\n","import { AsyncIteratorClass, startSpan, runInSpanContext, AbortError, parseEmptyableJSON, isTypescriptObject, setSpanError, stringifyJSON, runWithSpan, isAsyncIteratorObject, once } from '@orpc/shared';\nimport { EventDecoderStream, withEventMeta, ErrorEvent, encodeEventMessage, getEventMeta, getFilenameFromContentDisposition, generateContentDisposition } from '@orpc/standard-server';\n\nfunction toEventIterator(stream, options = {}) {\n  const eventStream = stream?.pipeThrough(new TextDecoderStream()).pipeThrough(new EventDecoderStream());\n  const reader = eventStream?.getReader();\n  let span;\n  let isCancelled = false;\n  return new AsyncIteratorClass(async () => {\n    span ??= startSpan(\"consume_event_iterator_stream\");\n    try {\n      while (true) {\n        if (reader === void 0) {\n          return { done: true, value: void 0 };\n        }\n        const { done, value } = await runInSpanContext(span, () => reader.read());\n        if (done) {\n          if (isCancelled) {\n            throw new AbortError(\"Stream was cancelled\");\n          }\n          return { done: true, value: void 0 };\n        }\n        switch (value.event) {\n          case \"message\": {\n            let message = parseEmptyableJSON(value.data);\n            if (isTypescriptObject(message)) {\n              message = withEventMeta(message, value);\n            }\n            span?.addEvent(\"message\");\n            return { done: false, value: message };\n          }\n          case \"error\": {\n            let error = new ErrorEvent({\n              data: parseEmptyableJSON(value.data)\n            });\n            error = withEventMeta(error, value);\n            span?.addEvent(\"error\");\n            throw error;\n          }\n          case \"done\": {\n            let done2 = parseEmptyableJSON(value.data);\n            if (isTypescriptObject(done2)) {\n              done2 = withEventMeta(done2, value);\n            }\n            span?.addEvent(\"done\");\n            return { done: true, value: done2 };\n          }\n          default: {\n            span?.addEvent(\"maybe_keepalive\");\n          }\n        }\n      }\n    } catch (e) {\n      if (!(e instanceof ErrorEvent)) {\n        setSpanError(span, e, options);\n      }\n      throw e;\n    }\n  }, async (reason) => {\n    try {\n      if (reason !== \"next\") {\n        isCancelled = true;\n        span?.addEvent(\"cancelled\");\n      }\n      await runInSpanContext(span, () => reader?.cancel());\n    } catch (e) {\n      setSpanError(span, e, options);\n      throw e;\n    } finally {\n      span?.end();\n    }\n  });\n}\nfunction toEventStream(iterator, options = {}) {\n  const keepAliveEnabled = options.eventIteratorKeepAliveEnabled ?? true;\n  const keepAliveInterval = options.eventIteratorKeepAliveInterval ?? 5e3;\n  const keepAliveComment = options.eventIteratorKeepAliveComment ?? \"\";\n  const initialCommentEnabled = options.eventIteratorInitialCommentEnabled ?? true;\n  const initialComment = options.eventIteratorInitialComment ?? \"\";\n  let cancelled = false;\n  let timeout;\n  let span;\n  const stream = new ReadableStream({\n    start(controller) {\n      span = startSpan(\"stream_event_iterator\");\n      if (initialCommentEnabled) {\n        controller.enqueue(encodeEventMessage({\n          comments: [initialComment]\n        }));\n      }\n    },\n    async pull(controller) {\n      try {\n        if (keepAliveEnabled) {\n          timeout = setInterval(() => {\n            controller.enqueue(encodeEventMessage({\n              comments: [keepAliveComment]\n            }));\n            span?.addEvent(\"keepalive\");\n          }, keepAliveInterval);\n        }\n        const value = await runInSpanContext(span, () => iterator.next());\n        clearInterval(timeout);\n        if (cancelled) {\n          return;\n        }\n        const meta = getEventMeta(value.value);\n        if (!value.done || value.value !== void 0 || meta !== void 0) {\n          const event = value.done ? \"done\" : \"message\";\n          controller.enqueue(encodeEventMessage({\n            ...meta,\n            event,\n            data: stringifyJSON(value.value)\n          }));\n          span?.addEvent(event);\n        }\n        if (value.done) {\n          controller.close();\n          span?.end();\n        }\n      } catch (err) {\n        clearInterval(timeout);\n        if (cancelled) {\n          return;\n        }\n        if (err instanceof ErrorEvent) {\n          controller.enqueue(encodeEventMessage({\n            ...getEventMeta(err),\n            event: \"error\",\n            data: stringifyJSON(err.data)\n          }));\n          span?.addEvent(\"error\");\n          controller.close();\n        } else {\n          setSpanError(span, err);\n          controller.error(err);\n        }\n        span?.end();\n      }\n    },\n    async cancel() {\n      try {\n        cancelled = true;\n        clearInterval(timeout);\n        span?.addEvent(\"cancelled\");\n        await runInSpanContext(span, () => iterator.return?.());\n      } catch (e) {\n        setSpanError(span, e);\n        throw e;\n      } finally {\n        span?.end();\n      }\n    }\n  }).pipeThrough(new TextEncoderStream());\n  return stream;\n}\n\nfunction toStandardBody(re, options = {}) {\n  return runWithSpan(\n    { name: \"parse_standard_body\", signal: options.signal },\n    async () => {\n      const contentDisposition = re.headers.get(\"content-disposition\");\n      if (typeof contentDisposition === \"string\") {\n        const fileName = getFilenameFromContentDisposition(contentDisposition) ?? \"blob\";\n        const blob2 = await re.blob();\n        return new File([blob2], fileName, {\n          type: blob2.type\n        });\n      }\n      const contentType = re.headers.get(\"content-type\");\n      if (!contentType || contentType.startsWith(\"application/json\")) {\n        const text = await re.text();\n        return parseEmptyableJSON(text);\n      }\n      if (contentType.startsWith(\"multipart/form-data\")) {\n        return await re.formData();\n      }\n      if (contentType.startsWith(\"application/x-www-form-urlencoded\")) {\n        const text = await re.text();\n        return new URLSearchParams(text);\n      }\n      if (contentType.startsWith(\"text/event-stream\")) {\n        return toEventIterator(re.body, options);\n      }\n      if (contentType.startsWith(\"text/plain\")) {\n        return await re.text();\n      }\n      const blob = await re.blob();\n      return new File([blob], \"blob\", {\n        type: blob.type\n      });\n    }\n  );\n}\nfunction toFetchBody(body, headers, options = {}) {\n  const currentContentDisposition = headers.get(\"content-disposition\");\n  headers.delete(\"content-type\");\n  headers.delete(\"content-disposition\");\n  if (body === void 0) {\n    return void 0;\n  }\n  if (body instanceof Blob) {\n    headers.set(\"content-type\", body.type);\n    headers.set(\"content-length\", body.size.toString());\n    headers.set(\n      \"content-disposition\",\n      currentContentDisposition ?? generateContentDisposition(body instanceof File ? body.name : \"blob\")\n    );\n    return body;\n  }\n  if (body instanceof FormData) {\n    return body;\n  }\n  if (body instanceof URLSearchParams) {\n    return body;\n  }\n  if (isAsyncIteratorObject(body)) {\n    headers.set(\"content-type\", \"text/event-stream\");\n    return toEventStream(body, options);\n  }\n  headers.set(\"content-type\", \"application/json\");\n  return stringifyJSON(body);\n}\n\nfunction toStandardHeaders(headers, standardHeaders = {}) {\n  headers.forEach((value, key) => {\n    if (Array.isArray(standardHeaders[key])) {\n      standardHeaders[key].push(value);\n    } else if (standardHeaders[key] !== void 0) {\n      standardHeaders[key] = [standardHeaders[key], value];\n    } else {\n      standardHeaders[key] = value;\n    }\n  });\n  return standardHeaders;\n}\nfunction toFetchHeaders(headers, fetchHeaders = new Headers()) {\n  for (const [key, value] of Object.entries(headers)) {\n    if (Array.isArray(value)) {\n      for (const v of value) {\n        fetchHeaders.append(key, v);\n      }\n    } else if (value !== void 0) {\n      fetchHeaders.append(key, value);\n    }\n  }\n  return fetchHeaders;\n}\n\nfunction toStandardLazyRequest(request) {\n  return {\n    url: new URL(request.url),\n    signal: request.signal,\n    method: request.method,\n    body: once(() => toStandardBody(request, { signal: request.signal })),\n    get headers() {\n      const headers = toStandardHeaders(request.headers);\n      Object.defineProperty(this, \"headers\", { value: headers, writable: true });\n      return headers;\n    },\n    set headers(value) {\n      Object.defineProperty(this, \"headers\", { value, writable: true });\n    }\n  };\n}\nfunction toFetchRequest(request, options = {}) {\n  const headers = toFetchHeaders(request.headers);\n  const body = toFetchBody(request.body, headers, options);\n  return new Request(request.url, {\n    signal: request.signal,\n    method: request.method,\n    headers,\n    body\n  });\n}\n\nfunction toFetchResponse(response, options = {}) {\n  const headers = toFetchHeaders(response.headers);\n  const body = toFetchBody(response.body, headers, options);\n  return new Response(body, { headers, status: response.status });\n}\nfunction toStandardLazyResponse(response, options = {}) {\n  return {\n    body: once(() => toStandardBody(response, options)),\n    status: response.status,\n    get headers() {\n      const headers = toStandardHeaders(response.headers);\n      Object.defineProperty(this, \"headers\", { value: headers, writable: true });\n      return headers;\n    },\n    set headers(value) {\n      Object.defineProperty(this, \"headers\", { value, writable: true });\n    }\n  };\n}\n\nexport { toEventIterator, toEventStream, toFetchBody, toFetchHeaders, toFetchRequest, toFetchResponse, toStandardBody, toStandardHeaders, toStandardLazyRequest, toStandardLazyResponse };\n","import { toArray, runWithSpan, ORPC_NAME, isAsyncIteratorObject, asyncIteratorWithSpan, intercept, getGlobalOtelConfig, isObject, value, stringifyJSON } from '@orpc/shared';\nimport { mergeStandardHeaders, ErrorEvent } from '@orpc/standard-server';\nimport { C as COMMON_ORPC_ERROR_DEFS, d as isORPCErrorStatus, e as isORPCErrorJson, g as createORPCErrorFromJson, c as ORPCError, t as toORPCError } from './client.BF1R3smX.mjs';\nimport { toStandardHeaders as toStandardHeaders$1 } from '@orpc/standard-server-fetch';\nimport { m as mapEventIterator } from './client.BLtwTQUg.mjs';\n\nclass CompositeStandardLinkPlugin {\n  plugins;\n  constructor(plugins = []) {\n    this.plugins = [...plugins].sort((a, b) => (a.order ?? 0) - (b.order ?? 0));\n  }\n  init(options) {\n    for (const plugin of this.plugins) {\n      plugin.init?.(options);\n    }\n  }\n}\n\nclass StandardLink {\n  constructor(codec, sender, options = {}) {\n    this.codec = codec;\n    this.sender = sender;\n    const plugin = new CompositeStandardLinkPlugin(options.plugins);\n    plugin.init(options);\n    this.interceptors = toArray(options.interceptors);\n    this.clientInterceptors = toArray(options.clientInterceptors);\n  }\n  interceptors;\n  clientInterceptors;\n  call(path, input, options) {\n    return runWithSpan(\n      { name: `${ORPC_NAME}.${path.join(\"/\")}`, signal: options.signal },\n      (span) => {\n        span?.setAttribute(\"rpc.system\", ORPC_NAME);\n        span?.setAttribute(\"rpc.method\", path.join(\".\"));\n        if (isAsyncIteratorObject(input)) {\n          input = asyncIteratorWithSpan(\n            { name: \"consume_event_iterator_input\", signal: options.signal },\n            input\n          );\n        }\n        return intercept(this.interceptors, { ...options, path, input }, async ({ path: path2, input: input2, ...options2 }) => {\n          const otelConfig = getGlobalOtelConfig();\n          let otelContext;\n          const currentSpan = otelConfig?.trace.getActiveSpan() ?? span;\n          if (currentSpan && otelConfig) {\n            otelContext = otelConfig?.trace.setSpan(otelConfig.context.active(), currentSpan);\n          }\n          const request = await runWithSpan(\n            { name: \"encode_request\", context: otelContext },\n            () => this.codec.encode(path2, input2, options2)\n          );\n          const response = await intercept(\n            this.clientInterceptors,\n            { ...options2, input: input2, path: path2, request },\n            ({ input: input3, path: path3, request: request2, ...options3 }) => {\n              return runWithSpan(\n                { name: \"send_request\", signal: options3.signal, context: otelContext },\n                () => this.sender.call(request2, options3, path3, input3)\n              );\n            }\n          );\n          const output = await runWithSpan(\n            { name: \"decode_response\", context: otelContext },\n            () => this.codec.decode(response, options2, path2, input2)\n          );\n          if (isAsyncIteratorObject(output)) {\n            return asyncIteratorWithSpan(\n              { name: \"consume_event_iterator_output\", signal: options2.signal },\n              output\n            );\n          }\n          return output;\n        });\n      }\n    );\n  }\n}\n\nconst STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES = {\n  BIGINT: 0,\n  DATE: 1,\n  NAN: 2,\n  UNDEFINED: 3,\n  URL: 4,\n  REGEXP: 5,\n  SET: 6,\n  MAP: 7\n};\nclass StandardRPCJsonSerializer {\n  customSerializers;\n  constructor(options = {}) {\n    this.customSerializers = options.customJsonSerializers ?? [];\n    if (this.customSerializers.length !== new Set(this.customSerializers.map((custom) => custom.type)).size) {\n      throw new Error(\"Custom serializer type must be unique.\");\n    }\n  }\n  serialize(data, segments = [], meta = [], maps = [], blobs = []) {\n    for (const custom of this.customSerializers) {\n      if (custom.condition(data)) {\n        const result = this.serialize(custom.serialize(data), segments, meta, maps, blobs);\n        meta.push([custom.type, ...segments]);\n        return result;\n      }\n    }\n    if (data instanceof Blob) {\n      maps.push(segments);\n      blobs.push(data);\n      return [data, meta, maps, blobs];\n    }\n    if (typeof data === \"bigint\") {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.BIGINT, ...segments]);\n      return [data.toString(), meta, maps, blobs];\n    }\n    if (data instanceof Date) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.DATE, ...segments]);\n      if (Number.isNaN(data.getTime())) {\n        return [null, meta, maps, blobs];\n      }\n      return [data.toISOString(), meta, maps, blobs];\n    }\n    if (Number.isNaN(data)) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.NAN, ...segments]);\n      return [null, meta, maps, blobs];\n    }\n    if (data instanceof URL) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.URL, ...segments]);\n      return [data.toString(), meta, maps, blobs];\n    }\n    if (data instanceof RegExp) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.REGEXP, ...segments]);\n      return [data.toString(), meta, maps, blobs];\n    }\n    if (data instanceof Set) {\n      const result = this.serialize(Array.from(data), segments, meta, maps, blobs);\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.SET, ...segments]);\n      return result;\n    }\n    if (data instanceof Map) {\n      const result = this.serialize(Array.from(data.entries()), segments, meta, maps, blobs);\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.MAP, ...segments]);\n      return result;\n    }\n    if (Array.isArray(data)) {\n      const json = data.map((v, i) => {\n        if (v === void 0) {\n          meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.UNDEFINED, ...segments, i]);\n          return v;\n        }\n        return this.serialize(v, [...segments, i], meta, maps, blobs)[0];\n      });\n      return [json, meta, maps, blobs];\n    }\n    if (isObject(data)) {\n      const json = {};\n      for (const k in data) {\n        if (k === \"toJSON\" && typeof data[k] === \"function\") {\n          continue;\n        }\n        json[k] = this.serialize(data[k], [...segments, k], meta, maps, blobs)[0];\n      }\n      return [json, meta, maps, blobs];\n    }\n    return [data, meta, maps, blobs];\n  }\n  deserialize(json, meta, maps, getBlob) {\n    const ref = { data: json };\n    if (maps && getBlob) {\n      maps.forEach((segments, i) => {\n        let currentRef = ref;\n        let preSegment = \"data\";\n        segments.forEach((segment) => {\n          currentRef = currentRef[preSegment];\n          preSegment = segment;\n        });\n        currentRef[preSegment] = getBlob(i);\n      });\n    }\n    for (const item of meta) {\n      const type = item[0];\n      let currentRef = ref;\n      let preSegment = \"data\";\n      for (let i = 1; i < item.length; i++) {\n        currentRef = currentRef[preSegment];\n        preSegment = item[i];\n      }\n      for (const custom of this.customSerializers) {\n        if (custom.type === type) {\n          currentRef[preSegment] = custom.deserialize(currentRef[preSegment]);\n          break;\n        }\n      }\n      switch (type) {\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.BIGINT:\n          currentRef[preSegment] = BigInt(currentRef[preSegment]);\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.DATE:\n          currentRef[preSegment] = new Date(currentRef[preSegment] ?? \"Invalid Date\");\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.NAN:\n          currentRef[preSegment] = Number.NaN;\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.UNDEFINED:\n          currentRef[preSegment] = void 0;\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.URL:\n          currentRef[preSegment] = new URL(currentRef[preSegment]);\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.REGEXP: {\n          const [, pattern, flags] = currentRef[preSegment].match(/^\\/(.*)\\/([a-z]*)$/);\n          currentRef[preSegment] = new RegExp(pattern, flags);\n          break;\n        }\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.SET:\n          currentRef[preSegment] = new Set(currentRef[preSegment]);\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.MAP:\n          currentRef[preSegment] = new Map(currentRef[preSegment]);\n          break;\n      }\n    }\n    return ref.data;\n  }\n}\n\nfunction toHttpPath(path) {\n  return `/${path.map(encodeURIComponent).join(\"/\")}`;\n}\nfunction toStandardHeaders(headers) {\n  if (typeof headers.forEach === \"function\") {\n    return toStandardHeaders$1(headers);\n  }\n  return headers;\n}\nfunction getMalformedResponseErrorCode(status) {\n  return Object.entries(COMMON_ORPC_ERROR_DEFS).find(([, def]) => def.status === status)?.[0] ?? \"MALFORMED_ORPC_ERROR_RESPONSE\";\n}\n\nclass StandardRPCLinkCodec {\n  constructor(serializer, options) {\n    this.serializer = serializer;\n    this.baseUrl = options.url;\n    this.maxUrlLength = options.maxUrlLength ?? 2083;\n    this.fallbackMethod = options.fallbackMethod ?? \"POST\";\n    this.expectedMethod = options.method ?? this.fallbackMethod;\n    this.headers = options.headers ?? {};\n  }\n  baseUrl;\n  maxUrlLength;\n  fallbackMethod;\n  expectedMethod;\n  headers;\n  async encode(path, input, options) {\n    let headers = toStandardHeaders(await value(this.headers, options, path, input));\n    if (options.lastEventId !== void 0) {\n      headers = mergeStandardHeaders(headers, { \"last-event-id\": options.lastEventId });\n    }\n    const expectedMethod = await value(this.expectedMethod, options, path, input);\n    const baseUrl = await value(this.baseUrl, options, path, input);\n    const url = new URL(baseUrl);\n    url.pathname = `${url.pathname.replace(/\\/$/, \"\")}${toHttpPath(path)}`;\n    const serialized = this.serializer.serialize(input);\n    if (expectedMethod === \"GET\" && !(serialized instanceof FormData) && !isAsyncIteratorObject(serialized)) {\n      const maxUrlLength = await value(this.maxUrlLength, options, path, input);\n      const getUrl = new URL(url);\n      getUrl.searchParams.append(\"data\", stringifyJSON(serialized));\n      if (getUrl.toString().length <= maxUrlLength) {\n        return {\n          body: void 0,\n          method: expectedMethod,\n          headers,\n          url: getUrl,\n          signal: options.signal\n        };\n      }\n    }\n    return {\n      url,\n      method: expectedMethod === \"GET\" ? this.fallbackMethod : expectedMethod,\n      headers,\n      body: serialized,\n      signal: options.signal\n    };\n  }\n  async decode(response) {\n    const isOk = !isORPCErrorStatus(response.status);\n    const deserialized = await (async () => {\n      let isBodyOk = false;\n      try {\n        const body = await response.body();\n        isBodyOk = true;\n        return this.serializer.deserialize(body);\n      } catch (error) {\n        if (!isBodyOk) {\n          throw new Error(\"Cannot parse response body, please check the response body and content-type.\", {\n            cause: error\n          });\n        }\n        throw new Error(\"Invalid RPC response format.\", {\n          cause: error\n        });\n      }\n    })();\n    if (!isOk) {\n      if (isORPCErrorJson(deserialized)) {\n        throw createORPCErrorFromJson(deserialized);\n      }\n      throw new ORPCError(getMalformedResponseErrorCode(response.status), {\n        status: response.status,\n        data: { ...response, body: deserialized }\n      });\n    }\n    return deserialized;\n  }\n}\n\nclass StandardRPCSerializer {\n  constructor(jsonSerializer) {\n    this.jsonSerializer = jsonSerializer;\n  }\n  serialize(data) {\n    if (isAsyncIteratorObject(data)) {\n      return mapEventIterator(data, {\n        value: async (value) => this.#serialize(value, false),\n        error: async (e) => {\n          return new ErrorEvent({\n            data: this.#serialize(toORPCError(e).toJSON(), false),\n            cause: e\n          });\n        }\n      });\n    }\n    return this.#serialize(data, true);\n  }\n  #serialize(data, enableFormData) {\n    const [json, meta_, maps, blobs] = this.jsonSerializer.serialize(data);\n    const meta = meta_.length === 0 ? void 0 : meta_;\n    if (!enableFormData || blobs.length === 0) {\n      return {\n        json,\n        meta\n      };\n    }\n    const form = new FormData();\n    form.set(\"data\", stringifyJSON({ json, meta, maps }));\n    blobs.forEach((blob, i) => {\n      form.set(i.toString(), blob);\n    });\n    return form;\n  }\n  deserialize(data) {\n    if (isAsyncIteratorObject(data)) {\n      return mapEventIterator(data, {\n        value: async (value) => this.#deserialize(value),\n        error: async (e) => {\n          if (!(e instanceof ErrorEvent)) {\n            return e;\n          }\n          const deserialized = this.#deserialize(e.data);\n          if (isORPCErrorJson(deserialized)) {\n            return createORPCErrorFromJson(deserialized, { cause: e });\n          }\n          return new ErrorEvent({\n            data: deserialized,\n            cause: e\n          });\n        }\n      });\n    }\n    return this.#deserialize(data);\n  }\n  #deserialize(data) {\n    if (data === void 0) {\n      return void 0;\n    }\n    if (!(data instanceof FormData)) {\n      return this.jsonSerializer.deserialize(data.json, data.meta ?? []);\n    }\n    const serialized = JSON.parse(data.get(\"data\"));\n    return this.jsonSerializer.deserialize(\n      serialized.json,\n      serialized.meta ?? [],\n      serialized.maps,\n      (i) => data.get(i.toString())\n    );\n  }\n}\n\nclass StandardRPCLink extends StandardLink {\n  constructor(linkClient, options) {\n    const jsonSerializer = new StandardRPCJsonSerializer(options);\n    const serializer = new StandardRPCSerializer(jsonSerializer);\n    const linkCodec = new StandardRPCLinkCodec(serializer, options);\n    super(linkCodec, linkClient, options);\n  }\n}\n\nexport { CompositeStandardLinkPlugin as C, StandardLink as S, STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES as a, StandardRPCJsonSerializer as b, StandardRPCLink as c, StandardRPCLinkCodec as d, StandardRPCSerializer as e, toStandardHeaders as f, getMalformedResponseErrorCode as g, toHttpPath as t };\n","import { toArray, intercept } from '@orpc/shared';\nimport { toFetchRequest, toStandardLazyResponse } from '@orpc/standard-server-fetch';\nimport { C as CompositeStandardLinkPlugin, c as StandardRPCLink } from '../../shared/client.BcDRUyT-.mjs';\nimport '@orpc/standard-server';\nimport '../../shared/client.BF1R3smX.mjs';\nimport '../../shared/client.BLtwTQUg.mjs';\n\nclass CompositeLinkFetchPlugin extends CompositeStandardLinkPlugin {\n  initRuntimeAdapter(options) {\n    for (const plugin of this.plugins) {\n      plugin.initRuntimeAdapter?.(options);\n    }\n  }\n}\n\nclass LinkFetchClient {\n  fetch;\n  toFetchRequestOptions;\n  adapterInterceptors;\n  constructor(options) {\n    const plugin = new CompositeLinkFetchPlugin(options.plugins);\n    plugin.initRuntimeAdapter(options);\n    this.fetch = options.fetch ?? globalThis.fetch.bind(globalThis);\n    this.toFetchRequestOptions = options;\n    this.adapterInterceptors = toArray(options.adapterInterceptors);\n  }\n  async call(standardRequest, options, path, input) {\n    const request = toFetchRequest(standardRequest, this.toFetchRequestOptions);\n    const fetchResponse = await intercept(\n      this.adapterInterceptors,\n      { ...options, request, path, input, init: { redirect: \"manual\" } },\n      ({ request: request2, path: path2, input: input2, init, ...options2 }) => this.fetch(request2, init, options2, path2, input2)\n    );\n    const lazyResponse = toStandardLazyResponse(fetchResponse, { signal: request.signal });\n    return lazyResponse;\n  }\n}\n\nclass RPCLink extends StandardRPCLink {\n  constructor(options) {\n    const linkClient = new LinkFetchClient(options);\n    super(linkClient, options);\n  }\n}\n\nexport { LinkFetchClient, RPCLink };\n","/**\n * {@link TimeoutManager} does not support passing arguments to the callback.\n *\n * `(_: void)` is the argument type inferred by TypeScript's default typings for\n * `setTimeout(cb, number)`.\n * If we don't accept a single void argument, then\n * `new Promise(resolve => timeoutManager.setTimeout(resolve, N))` is a type error.\n */\nexport type TimeoutCallback = (_: void) => void\n\n/**\n * Wrapping `setTimeout` is awkward from a typing perspective because platform\n * typings may extend the return type of `setTimeout`. For example, NodeJS\n * typings add `NodeJS.Timeout`; but a non-default `timeoutManager` may not be\n * able to return such a type.\n */\nexport type ManagedTimerId = number | { [Symbol.toPrimitive]: () => number }\n\n/**\n * Backend for timer functions.\n */\nexport type TimeoutProvider<TTimerId extends ManagedTimerId = ManagedTimerId> =\n  {\n    readonly setTimeout: (callback: TimeoutCallback, delay: number) => TTimerId\n    readonly clearTimeout: (timeoutId: TTimerId | undefined) => void\n\n    readonly setInterval: (callback: TimeoutCallback, delay: number) => TTimerId\n    readonly clearInterval: (intervalId: TTimerId | undefined) => void\n  }\n\nexport const defaultTimeoutProvider: TimeoutProvider<\n  ReturnType<typeof setTimeout>\n> = {\n  // We need the wrapper function syntax below instead of direct references to\n  // global setTimeout etc.\n  //\n  // BAD: `setTimeout: setTimeout`\n  // GOOD: `setTimeout: (cb, delay) => setTimeout(cb, delay)`\n  //\n  // If we use direct references here, then anything that wants to spy on or\n  // replace the global setTimeout (like tests) won't work since we'll already\n  // have a hard reference to the original implementation at the time when this\n  // file was imported.\n  setTimeout: (callback, delay) => setTimeout(callback, delay),\n  clearTimeout: (timeoutId) => clearTimeout(timeoutId),\n\n  setInterval: (callback, delay) => setInterval(callback, delay),\n  clearInterval: (intervalId) => clearInterval(intervalId),\n}\n\n/**\n * Allows customization of how timeouts are created.\n *\n * @tanstack/query-core makes liberal use of timeouts to implement `staleTime`\n * and `gcTime`. The default TimeoutManager provider uses the platform's global\n * `setTimeout` implementation, which is known to have scalability issues with\n * thousands of timeouts on the event loop.\n *\n * If you hit this limitation, consider providing a custom TimeoutProvider that\n * coalesces timeouts.\n */\nexport class TimeoutManager implements Omit<TimeoutProvider, 'name'> {\n  // We cannot have TimeoutManager<T> as we must instantiate it with a concrete\n  // type at app boot; and if we leave that type, then any new timer provider\n  // would need to support ReturnType<typeof setTimeout>, which is infeasible.\n  //\n  // We settle for type safety for the TimeoutProvider type, and accept that\n  // this class is unsafe internally to allow for extension.\n  #provider: TimeoutProvider<any> = defaultTimeoutProvider\n  #providerCalled = false\n\n  setTimeoutProvider<TTimerId extends ManagedTimerId>(\n    provider: TimeoutProvider<TTimerId>,\n  ): void {\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.#providerCalled && provider !== this.#provider) {\n        // After changing providers, `clearTimeout` will not work as expected for\n        // timeouts from the previous provider.\n        //\n        // Since they may allocate the same timeout ID, clearTimeout may cancel an\n        // arbitrary different timeout, or unexpected no-op.\n        //\n        // We could protect against this by mixing the timeout ID bits\n        // deterministically with some per-provider bits.\n        //\n        // We could internally queue `setTimeout` calls to `TimeoutManager` until\n        // some API call to set the initial provider.\n        console.error(\n          `[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.`,\n          { previous: this.#provider, provider },\n        )\n      }\n    }\n\n    this.#provider = provider\n    if (process.env.NODE_ENV !== 'production') {\n      this.#providerCalled = false\n    }\n  }\n\n  setTimeout(callback: TimeoutCallback, delay: number): ManagedTimerId {\n    if (process.env.NODE_ENV !== 'production') {\n      this.#providerCalled = true\n    }\n    return this.#provider.setTimeout(callback, delay)\n  }\n\n  clearTimeout(timeoutId: ManagedTimerId | undefined): void {\n    this.#provider.clearTimeout(timeoutId)\n  }\n\n  setInterval(callback: TimeoutCallback, delay: number): ManagedTimerId {\n    if (process.env.NODE_ENV !== 'production') {\n      this.#providerCalled = true\n    }\n    return this.#provider.setInterval(callback, delay)\n  }\n\n  clearInterval(intervalId: ManagedTimerId | undefined): void {\n    this.#provider.clearInterval(intervalId)\n  }\n}\n\nexport const timeoutManager = new TimeoutManager()\n\n/**\n * In many cases code wants to delay to the next event loop tick; this is not\n * mediated by {@link timeoutManager}.\n *\n * This function is provided to make auditing the `tanstack/query-core` for\n * incorrect use of system `setTimeout` easier.\n */\nexport function systemSetTimeoutZero(callback: TimeoutCallback): void {\n  setTimeout(callback, 0)\n}\n","import { timeoutManager } from './timeoutManager'\nimport type {\n  DefaultError,\n  Enabled,\n  FetchStatus,\n  MutationKey,\n  MutationStatus,\n  QueryFunction,\n  QueryKey,\n  QueryOptions,\n  StaleTime,\n  StaleTimeFunction,\n} from './types'\nimport type { Mutation } from './mutation'\nimport type { FetchOptions, Query } from './query'\n\n// TYPES\n\ntype DropLast<T extends ReadonlyArray<unknown>> = T extends readonly [\n  ...infer R,\n  unknown,\n]\n  ? readonly [...R]\n  : never\n\ntype TuplePrefixes<T extends ReadonlyArray<unknown>> = T extends readonly []\n  ? readonly []\n  : TuplePrefixes<DropLast<T>> | T\n\nexport interface QueryFilters<TQueryKey extends QueryKey = QueryKey> {\n  /**\n   * Filter to active queries, inactive queries or all queries\n   */\n  type?: QueryTypeFilter\n  /**\n   * Match query key exactly\n   */\n  exact?: boolean\n  /**\n   * Include queries matching this predicate function\n   */\n  predicate?: (query: Query) => boolean\n  /**\n   * Include queries matching this query key\n   */\n  queryKey?: TQueryKey | TuplePrefixes<TQueryKey>\n  /**\n   * Include or exclude stale queries\n   */\n  stale?: boolean\n  /**\n   * Include queries matching their fetchStatus\n   */\n  fetchStatus?: FetchStatus\n}\n\nexport interface MutationFilters<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = unknown,\n  TOnMutateResult = unknown,\n> {\n  /**\n   * Match mutation key exactly\n   */\n  exact?: boolean\n  /**\n   * Include mutations matching this predicate function\n   */\n  predicate?: (\n    mutation: Mutation<TData, TError, TVariables, TOnMutateResult>,\n  ) => boolean\n  /**\n   * Include mutations matching this mutation key\n   */\n  mutationKey?: TuplePrefixes<MutationKey>\n  /**\n   * Filter by mutation status\n   */\n  status?: MutationStatus\n}\n\nexport type Updater<TInput, TOutput> = TOutput | ((input: TInput) => TOutput)\n\nexport type QueryTypeFilter = 'all' | 'active' | 'inactive'\n\n// UTILS\n\nexport const isServer = typeof window === 'undefined' || 'Deno' in globalThis\n\nexport function noop(): void\nexport function noop(): undefined\nexport function noop() {}\n\nexport function functionalUpdate<TInput, TOutput>(\n  updater: Updater<TInput, TOutput>,\n  input: TInput,\n): TOutput {\n  return typeof updater === 'function'\n    ? (updater as (_: TInput) => TOutput)(input)\n    : updater\n}\n\nexport function isValidTimeout(value: unknown): value is number {\n  return typeof value === 'number' && value >= 0 && value !== Infinity\n}\n\nexport function timeUntilStale(updatedAt: number, staleTime?: number): number {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0)\n}\n\nexport function resolveStaleTime<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  staleTime:\n    | undefined\n    | StaleTimeFunction<TQueryFnData, TError, TData, TQueryKey>,\n  query: Query<TQueryFnData, TError, TData, TQueryKey>,\n): StaleTime | undefined {\n  return typeof staleTime === 'function' ? staleTime(query) : staleTime\n}\n\nexport function resolveEnabled<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  enabled: undefined | Enabled<TQueryFnData, TError, TData, TQueryKey>,\n  query: Query<TQueryFnData, TError, TData, TQueryKey>,\n): boolean | undefined {\n  return typeof enabled === 'function' ? enabled(query) : enabled\n}\n\nexport function matchQuery(\n  filters: QueryFilters,\n  query: Query<any, any, any, any>,\n): boolean {\n  const {\n    type = 'all',\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale,\n  } = filters\n\n  if (queryKey) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false\n    }\n  }\n\n  if (type !== 'all') {\n    const isActive = query.isActive()\n    if (type === 'active' && !isActive) {\n      return false\n    }\n    if (type === 'inactive' && isActive) {\n      return false\n    }\n  }\n\n  if (typeof stale === 'boolean' && query.isStale() !== stale) {\n    return false\n  }\n\n  if (fetchStatus && fetchStatus !== query.state.fetchStatus) {\n    return false\n  }\n\n  if (predicate && !predicate(query)) {\n    return false\n  }\n\n  return true\n}\n\nexport function matchMutation(\n  filters: MutationFilters,\n  mutation: Mutation<any, any>,\n): boolean {\n  const { exact, status, predicate, mutationKey } = filters\n  if (mutationKey) {\n    if (!mutation.options.mutationKey) {\n      return false\n    }\n    if (exact) {\n      if (hashKey(mutation.options.mutationKey) !== hashKey(mutationKey)) {\n        return false\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false\n    }\n  }\n\n  if (status && mutation.state.status !== status) {\n    return false\n  }\n\n  if (predicate && !predicate(mutation)) {\n    return false\n  }\n\n  return true\n}\n\nexport function hashQueryKeyByOptions<TQueryKey extends QueryKey = QueryKey>(\n  queryKey: TQueryKey,\n  options?: Pick<QueryOptions<any, any, any, any>, 'queryKeyHashFn'>,\n): string {\n  const hashFn = options?.queryKeyHashFn || hashKey\n  return hashFn(queryKey)\n}\n\n/**\n * Default query & mutation keys hash function.\n * Hashes the value into a stable hash.\n */\nexport function hashKey(queryKey: QueryKey | MutationKey): string {\n  return JSON.stringify(queryKey, (_, val) =>\n    isPlainObject(val)\n      ? Object.keys(val)\n          .sort()\n          .reduce((result, key) => {\n            result[key] = val[key]\n            return result\n          }, {} as any)\n      : val,\n  )\n}\n\n/**\n * Checks if key `b` partially matches with key `a`.\n */\nexport function partialMatchKey(a: QueryKey, b: QueryKey): boolean\nexport function partialMatchKey(a: any, b: any): boolean {\n  if (a === b) {\n    return true\n  }\n\n  if (typeof a !== typeof b) {\n    return false\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    return Object.keys(b).every((key) => partialMatchKey(a[key], b[key]))\n  }\n\n  return false\n}\n\nconst hasOwn = Object.prototype.hasOwnProperty\n\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\nexport function replaceEqualDeep<T>(a: unknown, b: T, depth?: number): T\nexport function replaceEqualDeep(a: any, b: any, depth = 0): any {\n  if (a === b) {\n    return a\n  }\n\n  if (depth > 500) return b\n\n  const array = isPlainArray(a) && isPlainArray(b)\n\n  if (!array && !(isPlainObject(a) && isPlainObject(b))) return b\n\n  const aItems = array ? a : Object.keys(a)\n  const aSize = aItems.length\n  const bItems = array ? b : Object.keys(b)\n  const bSize = bItems.length\n  const copy: any = array ? new Array(bSize) : {}\n\n  let equalItems = 0\n\n  for (let i = 0; i < bSize; i++) {\n    const key: any = array ? i : bItems[i]\n    const aItem = a[key]\n    const bItem = b[key]\n\n    if (aItem === bItem) {\n      copy[key] = aItem\n      if (array ? i < aSize : hasOwn.call(a, key)) equalItems++\n      continue\n    }\n\n    if (\n      aItem === null ||\n      bItem === null ||\n      typeof aItem !== 'object' ||\n      typeof bItem !== 'object'\n    ) {\n      copy[key] = bItem\n      continue\n    }\n\n    const v = replaceEqualDeep(aItem, bItem, depth + 1)\n    copy[key] = v\n    if (v === aItem) equalItems++\n  }\n\n  return aSize === bSize && equalItems === aSize ? a : copy\n}\n\n/**\n * Shallow compare objects.\n */\nexport function shallowEqualObjects<T extends Record<string, any>>(\n  a: T,\n  b: T | undefined,\n): boolean {\n  if (!b || Object.keys(a).length !== Object.keys(b).length) {\n    return false\n  }\n\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false\n    }\n  }\n\n  return true\n}\n\nexport function isPlainArray(value: unknown): value is Array<unknown> {\n  return Array.isArray(value) && value.length === Object.keys(value).length\n}\n\n// Copied from: https://github.com/jonschlinkert/is-plain-object\nexport function isPlainObject(o: any): o is Record<PropertyKey, unknown> {\n  if (!hasObjectPrototype(o)) {\n    return false\n  }\n\n  // If has no constructor\n  const ctor = o.constructor\n  if (ctor === undefined) {\n    return true\n  }\n\n  // If has modified prototype\n  const prot = ctor.prototype\n  if (!hasObjectPrototype(prot)) {\n    return false\n  }\n\n  // If constructor does not have an Object-specific method\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false\n  }\n\n  // Handles Objects created by Object.create(<arbitrary prototype>)\n  if (Object.getPrototypeOf(o) !== Object.prototype) {\n    return false\n  }\n\n  // Most likely a plain Object\n  return true\n}\n\nfunction hasObjectPrototype(o: any): boolean {\n  return Object.prototype.toString.call(o) === '[object Object]'\n}\n\nexport function sleep(timeout: number): Promise<void> {\n  return new Promise((resolve) => {\n    timeoutManager.setTimeout(resolve, timeout)\n  })\n}\n\nexport function replaceData<\n  TData,\n  TOptions extends QueryOptions<any, any, any, any>,\n>(prevData: TData | undefined, data: TData, options: TOptions): TData {\n  if (typeof options.structuralSharing === 'function') {\n    return options.structuralSharing(prevData, data) as TData\n  } else if (options.structuralSharing !== false) {\n    if (process.env.NODE_ENV !== 'production') {\n      try {\n        return replaceEqualDeep(prevData, data)\n      } catch (error) {\n        console.error(\n          `Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${options.queryHash}]: ${error}`,\n        )\n\n        // Prevent the replaceEqualDeep from being called again down below.\n        throw error\n      }\n    }\n    // Structurally share data between prev and new data if needed\n    return replaceEqualDeep(prevData, data)\n  }\n  return data\n}\n\nexport function keepPreviousData<T>(\n  previousData: T | undefined,\n): T | undefined {\n  return previousData\n}\n\nexport function addToEnd<T>(items: Array<T>, item: T, max = 0): Array<T> {\n  const newItems = [...items, item]\n  return max && newItems.length > max ? newItems.slice(1) : newItems\n}\n\nexport function addToStart<T>(items: Array<T>, item: T, max = 0): Array<T> {\n  const newItems = [item, ...items]\n  return max && newItems.length > max ? newItems.slice(0, -1) : newItems\n}\n\nexport const skipToken = Symbol()\nexport type SkipToken = typeof skipToken\n\nexport function ensureQueryFn<\n  TQueryFnData = unknown,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: {\n    queryFn?: QueryFunction<TQueryFnData, TQueryKey> | SkipToken\n    queryHash?: string\n  },\n  fetchOptions?: FetchOptions<TQueryFnData>,\n): QueryFunction<TQueryFnData, TQueryKey> {\n  if (process.env.NODE_ENV !== 'production') {\n    if (options.queryFn === skipToken) {\n      console.error(\n        `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${options.queryHash}'`,\n      )\n    }\n  }\n\n  // if we attempt to retry a fetch that was triggered from an initialPromise\n  // when we don't have a queryFn yet, we can't retry, so we just return the already rejected initialPromise\n  // if an observer has already mounted, we will be able to retry with that queryFn\n  if (!options.queryFn && fetchOptions?.initialPromise) {\n    return () => fetchOptions.initialPromise!\n  }\n\n  if (!options.queryFn || options.queryFn === skipToken) {\n    return () =>\n      Promise.reject(new Error(`Missing queryFn: '${options.queryHash}'`))\n  }\n\n  return options.queryFn\n}\n\nexport function shouldThrowError<T extends (...args: Array<any>) => boolean>(\n  throwOnError: boolean | T | undefined,\n  params: Parameters<T>,\n): boolean {\n  // Allow throwOnError function to override throwing behavior on a per-error basis\n  if (typeof throwOnError === 'function') {\n    return throwOnError(...params)\n  }\n\n  return !!throwOnError\n}\n\nexport function addConsumeAwareSignal<T>(\n  object: T,\n  getSignal: () => AbortSignal,\n  onCancelled: VoidFunction,\n): T & { signal: AbortSignal } {\n  let consumed = false\n  let signal: AbortSignal | undefined\n\n  Object.defineProperty(object, 'signal', {\n    enumerable: true,\n    get: () => {\n      signal ??= getSignal()\n      if (consumed) {\n        return signal\n      }\n\n      consumed = true\n      if (signal.aborted) {\n        onCancelled()\n      } else {\n        signal.addEventListener('abort', onCancelled, { once: true })\n      }\n\n      return signal\n    },\n  })\n\n  return object as T & { signal: AbortSignal }\n}\n","import { stringifyJSON, isAsyncIteratorObject, toArray, get } from '@orpc/shared';\nimport { skipToken } from '@tanstack/query-core';\n\nfunction generateOperationKey(path, state = {}) {\n  return [path, {\n    ...state.input !== void 0 ? { input: state.input } : {},\n    ...state.type !== void 0 ? { type: state.type } : {},\n    ...state.fnOptions !== void 0 ? { fnOptions: state.fnOptions } : {}\n  }];\n}\n\nfunction createGeneralUtils(path) {\n  return {\n    key(options) {\n      return generateOperationKey(path, options);\n    }\n  };\n}\n\nfunction experimental_liveQuery(queryFn) {\n  return async (context) => {\n    const stream = await queryFn(context);\n    let last;\n    for await (const chunk of stream) {\n      if (context.signal.aborted) {\n        throw context.signal.reason;\n      }\n      last = { chunk };\n      context.client.setQueryData(context.queryKey, chunk);\n    }\n    if (!last) {\n      throw new Error(\n        `Live query for ${stringifyJSON(context.queryKey)} did not yield any data. Ensure the query function returns an AsyncIterable with at least one chunk.`\n      );\n    }\n    return last.chunk;\n  };\n}\n\nfunction experimental_serializableStreamedQuery(queryFn, { refetchMode = \"reset\", maxChunks = Number.POSITIVE_INFINITY } = {}) {\n  return async (context) => {\n    const query = context.client.getQueryCache().find({ queryKey: context.queryKey, exact: true });\n    const hasPreviousData = !!query && query.state.data !== void 0;\n    if (hasPreviousData) {\n      if (refetchMode === \"reset\") {\n        query.setState({\n          status: \"pending\",\n          data: void 0,\n          error: null,\n          fetchStatus: \"fetching\"\n        });\n      } else {\n        context.client.setQueryData(\n          context.queryKey,\n          (prev = []) => limitArraySize(prev, maxChunks)\n        );\n      }\n    }\n    let result = [];\n    const stream = await queryFn(context);\n    const shouldUpdateCacheDuringStream = !hasPreviousData || refetchMode !== \"replace\";\n    context.client.setQueryData(\n      context.queryKey,\n      (prev = []) => limitArraySize(prev, maxChunks)\n    );\n    for await (const chunk of stream) {\n      if (context.signal.aborted) {\n        throw context.signal.reason;\n      }\n      result.push(chunk);\n      result = limitArraySize(result, maxChunks);\n      if (shouldUpdateCacheDuringStream) {\n        context.client.setQueryData(\n          context.queryKey,\n          (prev = []) => limitArraySize([...prev, chunk], maxChunks)\n        );\n      }\n    }\n    if (!shouldUpdateCacheDuringStream) {\n      context.client.setQueryData(context.queryKey, result);\n    }\n    const cachedData = context.client.getQueryData(context.queryKey);\n    if (cachedData) {\n      return limitArraySize(cachedData, maxChunks);\n    }\n    return result;\n  };\n}\nfunction limitArraySize(items, maxSize) {\n  if (items.length <= maxSize) {\n    return items;\n  }\n  return items.slice(items.length - maxSize);\n}\n\nconst OPERATION_CONTEXT_SYMBOL = Symbol(\"ORPC_OPERATION_CONTEXT\");\n\nfunction createProcedureUtils(client, options) {\n  const utils = {\n    call: client,\n    queryKey(...[optionsIn = {}]) {\n      optionsIn = { ...options.experimental_defaults?.queryKey, ...optionsIn };\n      const queryKey = optionsIn.queryKey ?? generateOperationKey(options.path, { type: \"query\", input: optionsIn.input });\n      return queryKey;\n    },\n    queryOptions(...[optionsIn = {}]) {\n      optionsIn = { ...options.experimental_defaults?.queryOptions, ...optionsIn };\n      const queryKey = utils.queryKey(optionsIn);\n      return {\n        queryFn: ({ signal }) => {\n          if (optionsIn.input === skipToken) {\n            throw new Error(\"queryFn should not be called with skipToken used as input\");\n          }\n          return client(optionsIn.input, {\n            signal,\n            context: {\n              [OPERATION_CONTEXT_SYMBOL]: {\n                key: queryKey,\n                type: \"query\"\n              },\n              ...optionsIn.context\n            }\n          });\n        },\n        ...optionsIn.input === skipToken ? { enabled: false } : {},\n        ...optionsIn,\n        queryKey\n      };\n    },\n    experimental_streamedKey(...[optionsIn = {}]) {\n      optionsIn = { ...options.experimental_defaults?.experimental_streamedKey, ...optionsIn };\n      const queryKey = optionsIn.queryKey ?? generateOperationKey(options.path, { type: \"streamed\", input: optionsIn.input, fnOptions: optionsIn.queryFnOptions });\n      return queryKey;\n    },\n    experimental_streamedOptions(...[optionsIn = {}]) {\n      optionsIn = { ...options.experimental_defaults?.experimental_streamedOptions, ...optionsIn };\n      const queryKey = utils.experimental_streamedKey(optionsIn);\n      return {\n        queryFn: experimental_serializableStreamedQuery(\n          async ({ signal }) => {\n            if (optionsIn.input === skipToken) {\n              throw new Error(\"queryFn should not be called with skipToken used as input\");\n            }\n            const output = await client(optionsIn.input, {\n              signal,\n              context: {\n                [OPERATION_CONTEXT_SYMBOL]: {\n                  key: queryKey,\n                  type: \"streamed\"\n                },\n                ...optionsIn.context\n              }\n            });\n            if (!isAsyncIteratorObject(output)) {\n              throw new Error(\"streamedQuery requires an event iterator output\");\n            }\n            return output;\n          },\n          optionsIn.queryFnOptions\n        ),\n        ...optionsIn.input === skipToken ? { enabled: false } : {},\n        ...optionsIn,\n        queryKey\n      };\n    },\n    experimental_liveKey(...[optionsIn = {}]) {\n      optionsIn = { ...options.experimental_defaults?.experimental_liveKey, ...optionsIn };\n      const queryKey = optionsIn.queryKey ?? generateOperationKey(options.path, { type: \"live\", input: optionsIn.input });\n      return queryKey;\n    },\n    experimental_liveOptions(...[optionsIn = {}]) {\n      optionsIn = { ...options.experimental_defaults?.experimental_liveOptions, ...optionsIn };\n      const queryKey = utils.experimental_liveKey(optionsIn);\n      return {\n        queryFn: experimental_liveQuery(async ({ signal }) => {\n          if (optionsIn.input === skipToken) {\n            throw new Error(\"queryFn should not be called with skipToken used as input\");\n          }\n          const output = await client(optionsIn.input, {\n            signal,\n            context: {\n              [OPERATION_CONTEXT_SYMBOL]: {\n                key: queryKey,\n                type: \"live\"\n              },\n              ...optionsIn.context\n            }\n          });\n          if (!isAsyncIteratorObject(output)) {\n            throw new Error(\"liveQuery requires an event iterator output\");\n          }\n          return output;\n        }),\n        ...optionsIn.input === skipToken ? { enabled: false } : {},\n        ...optionsIn,\n        queryKey\n      };\n    },\n    infiniteKey(optionsIn) {\n      optionsIn = { ...options.experimental_defaults?.infiniteKey, ...optionsIn };\n      const queryKey = optionsIn.queryKey ?? generateOperationKey(options.path, {\n        type: \"infinite\",\n        input: optionsIn.input === skipToken ? skipToken : optionsIn.input(optionsIn.initialPageParam)\n      });\n      return queryKey;\n    },\n    infiniteOptions(optionsIn) {\n      optionsIn = { ...options.experimental_defaults?.infiniteOptions, ...optionsIn };\n      const queryKey = utils.infiniteKey(optionsIn);\n      return {\n        queryFn: ({ pageParam, signal }) => {\n          if (optionsIn.input === skipToken) {\n            throw new Error(\"queryFn should not be called with skipToken used as input\");\n          }\n          return client(optionsIn.input(pageParam), {\n            signal,\n            context: {\n              [OPERATION_CONTEXT_SYMBOL]: {\n                key: queryKey,\n                type: \"infinite\"\n              },\n              ...optionsIn.context\n            }\n          });\n        },\n        ...optionsIn.input === skipToken ? { enabled: false } : {},\n        ...optionsIn,\n        queryKey\n      };\n    },\n    mutationKey(...[optionsIn = {}]) {\n      optionsIn = { ...options.experimental_defaults?.mutationKey, ...optionsIn };\n      const mutationKey = optionsIn.mutationKey ?? generateOperationKey(options.path, { type: \"mutation\" });\n      return mutationKey;\n    },\n    mutationOptions(...[optionsIn = {}]) {\n      optionsIn = { ...options.experimental_defaults?.mutationOptions, ...optionsIn };\n      const mutationKey = utils.mutationKey(optionsIn);\n      return {\n        mutationFn: (input) => client(input, {\n          context: {\n            [OPERATION_CONTEXT_SYMBOL]: {\n              key: mutationKey,\n              type: \"mutation\"\n            },\n            ...optionsIn.context\n          }\n        }),\n        ...optionsIn,\n        mutationKey\n      };\n    }\n  };\n  return utils;\n}\n\nfunction createRouterUtils(client, options = {}) {\n  const path = toArray(options.path);\n  const generalUtils = createGeneralUtils(path);\n  const procedureUtils = createProcedureUtils(client, {\n    path,\n    experimental_defaults: options.experimental_defaults\n  });\n  const recursive = new Proxy({\n    ...generalUtils,\n    ...procedureUtils\n  }, {\n    get(target, prop) {\n      const value = Reflect.get(target, prop);\n      if (typeof prop !== \"string\") {\n        return value;\n      }\n      const nextUtils = createRouterUtils(client[prop], {\n        ...options,\n        path: [...path, prop],\n        experimental_defaults: get(options.experimental_defaults, [prop])\n      });\n      if (typeof value !== \"function\") {\n        return nextUtils;\n      }\n      return new Proxy(value, {\n        get(_, prop2) {\n          return Reflect.get(nextUtils, prop2);\n        }\n      });\n    }\n  });\n  return recursive;\n}\n\nexport { OPERATION_CONTEXT_SYMBOL, OPERATION_CONTEXT_SYMBOL as TANSTACK_QUERY_OPERATION_CONTEXT_SYMBOL, createGeneralUtils, createProcedureUtils, createRouterUtils, createRouterUtils as createTanstackQueryUtils, experimental_serializableStreamedQuery, generateOperationKey };\n","// TYPES\n\nimport { systemSetTimeoutZero } from './timeoutManager'\n\ntype NotifyCallback = () => void\n\ntype NotifyFunction = (callback: () => void) => void\n\ntype BatchNotifyFunction = (callback: () => void) => void\n\ntype BatchCallsCallback<T extends Array<unknown>> = (...args: T) => void\n\ntype ScheduleFunction = (callback: () => void) => void\n\nexport const defaultScheduler: ScheduleFunction = systemSetTimeoutZero\n\nexport function createNotifyManager() {\n  let queue: Array<NotifyCallback> = []\n  let transactions = 0\n  let notifyFn: NotifyFunction = (callback) => {\n    callback()\n  }\n  let batchNotifyFn: BatchNotifyFunction = (callback: () => void) => {\n    callback()\n  }\n  let scheduleFn = defaultScheduler\n\n  const schedule = (callback: NotifyCallback): void => {\n    if (transactions) {\n      queue.push(callback)\n    } else {\n      scheduleFn(() => {\n        notifyFn(callback)\n      })\n    }\n  }\n  const flush = (): void => {\n    const originalQueue = queue\n    queue = []\n    if (originalQueue.length) {\n      scheduleFn(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback)\n          })\n        })\n      })\n    }\n  }\n\n  return {\n    batch: <T>(callback: () => T): T => {\n      let result\n      transactions++\n      try {\n        result = callback()\n      } finally {\n        transactions--\n        if (!transactions) {\n          flush()\n        }\n      }\n      return result\n    },\n    /**\n     * All calls to the wrapped function will be batched.\n     */\n    batchCalls: <T extends Array<unknown>>(\n      callback: BatchCallsCallback<T>,\n    ): BatchCallsCallback<T> => {\n      return (...args) => {\n        schedule(() => {\n          callback(...args)\n        })\n      }\n    },\n    schedule,\n    /**\n     * Use this method to set a custom notify function.\n     * This can be used to for example wrap notifications with `React.act` while running tests.\n     */\n    setNotifyFunction: (fn: NotifyFunction) => {\n      notifyFn = fn\n    },\n    /**\n     * Use this method to set a custom function to batch notifications together into a single tick.\n     * By default React Query will use the batch function provided by ReactDOM or React Native.\n     */\n    setBatchNotifyFunction: (fn: BatchNotifyFunction) => {\n      batchNotifyFn = fn\n    },\n    setScheduler: (fn: ScheduleFunction) => {\n      scheduleFn = fn\n    },\n  } as const\n}\n\n// SINGLETON\nexport const notifyManager = createNotifyManager()\n","export class Subscribable<TListener extends Function> {\n  protected listeners = new Set<TListener>()\n\n  constructor() {\n    this.subscribe = this.subscribe.bind(this)\n  }\n\n  subscribe(listener: TListener): () => void {\n    this.listeners.add(listener)\n\n    this.onSubscribe()\n\n    return () => {\n      this.listeners.delete(listener)\n      this.onUnsubscribe()\n    }\n  }\n\n  hasListeners(): boolean {\n    return this.listeners.size > 0\n  }\n\n  protected onSubscribe(): void {\n    // Do nothing\n  }\n\n  protected onUnsubscribe(): void {\n    // Do nothing\n  }\n}\n","import { Subscribable } from './subscribable'\nimport { isServer } from './utils'\n\ntype Listener = (focused: boolean) => void\n\ntype SetupFn = (\n  setFocused: (focused?: boolean) => void,\n) => (() => void) | undefined\n\nexport class FocusManager extends Subscribable<Listener> {\n  #focused?: boolean\n  #cleanup?: () => void\n\n  #setup: SetupFn\n\n  constructor() {\n    super()\n    this.#setup = (onFocus) => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus()\n        // Listen to visibilitychange\n        window.addEventListener('visibilitychange', listener, false)\n\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('visibilitychange', listener)\n        }\n      }\n      return\n    }\n  }\n\n  protected onSubscribe(): void {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup)\n    }\n  }\n\n  protected onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.()\n      this.#cleanup = undefined\n    }\n  }\n\n  setEventListener(setup: SetupFn): void {\n    this.#setup = setup\n    this.#cleanup?.()\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === 'boolean') {\n        this.setFocused(focused)\n      } else {\n        this.onFocus()\n      }\n    })\n  }\n\n  setFocused(focused?: boolean): void {\n    const changed = this.#focused !== focused\n    if (changed) {\n      this.#focused = focused\n      this.onFocus()\n    }\n  }\n\n  onFocus(): void {\n    const isFocused = this.isFocused()\n    this.listeners.forEach((listener) => {\n      listener(isFocused)\n    })\n  }\n\n  isFocused(): boolean {\n    if (typeof this.#focused === 'boolean') {\n      return this.#focused\n    }\n\n    // document global can be unavailable in react native\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    return globalThis.document?.visibilityState !== 'hidden'\n  }\n}\n\nexport const focusManager = new FocusManager()\n","// src/onlineManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar OnlineManager = class extends Subscribable {\n  #online = true;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onOnline) => {\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true);\n        const offlineListener = () => onOnline(false);\n        window.addEventListener(\"online\", onlineListener, false);\n        window.addEventListener(\"offline\", offlineListener, false);\n        return () => {\n          window.removeEventListener(\"online\", onlineListener);\n          window.removeEventListener(\"offline\", offlineListener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup(this.setOnline.bind(this));\n  }\n  setOnline(online) {\n    const changed = this.#online !== online;\n    if (changed) {\n      this.#online = online;\n      this.listeners.forEach((listener) => {\n        listener(online);\n      });\n    }\n  }\n  isOnline() {\n    return this.#online;\n  }\n};\nvar onlineManager = new OnlineManager();\nexport {\n  OnlineManager,\n  onlineManager\n};\n//# sourceMappingURL=onlineManager.js.map","// src/retryer.ts\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { pendingThenable } from \"./thenable.js\";\nimport { isServer, sleep } from \"./utils.js\";\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1e3 * 2 ** failureCount, 3e4);\n}\nfunction canFetch(networkMode) {\n  return (networkMode ?? \"online\") === \"online\" ? onlineManager.isOnline() : true;\n}\nvar CancelledError = class extends Error {\n  constructor(options) {\n    super(\"CancelledError\");\n    this.revert = options?.revert;\n    this.silent = options?.silent;\n  }\n};\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let continueFn;\n  const thenable = pendingThenable();\n  const isResolved = () => thenable.status !== \"pending\";\n  const cancel = (cancelOptions) => {\n    if (!isResolved()) {\n      const error = new CancelledError(cancelOptions);\n      reject(error);\n      config.onCancel?.(error);\n    }\n  };\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n  const canContinue = () => focusManager.isFocused() && (config.networkMode === \"always\" || onlineManager.isOnline()) && config.canRun();\n  const canStart = () => canFetch(config.networkMode) && config.canRun();\n  const resolve = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.resolve(value);\n    }\n  };\n  const reject = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.reject(value);\n    }\n  };\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        if (isResolved() || canContinue()) {\n          continueResolve(value);\n        }\n      };\n      config.onPause?.();\n    }).then(() => {\n      continueFn = void 0;\n      if (!isResolved()) {\n        config.onContinue?.();\n      }\n    });\n  };\n  const run = () => {\n    if (isResolved()) {\n      return;\n    }\n    let promiseOrValue;\n    const initialPromise = failureCount === 0 ? config.initialPromise : void 0;\n    try {\n      promiseOrValue = initialPromise ?? config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n    Promise.resolve(promiseOrValue).then(resolve).catch((error) => {\n      if (isResolved()) {\n        return;\n      }\n      const retry = config.retry ?? (isServer ? 0 : 3);\n      const retryDelay = config.retryDelay ?? defaultRetryDelay;\n      const delay = typeof retryDelay === \"function\" ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === \"number\" && failureCount < retry || typeof retry === \"function\" && retry(failureCount, error);\n      if (isRetryCancelled || !shouldRetry) {\n        reject(error);\n        return;\n      }\n      failureCount++;\n      config.onFail?.(failureCount, error);\n      sleep(delay).then(() => {\n        return canContinue() ? void 0 : pause();\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  };\n  return {\n    promise: thenable,\n    status: () => thenable.status,\n    cancel,\n    continue: () => {\n      continueFn?.();\n      return thenable;\n    },\n    cancelRetry,\n    continueRetry,\n    canStart,\n    start: () => {\n      if (canStart()) {\n        run();\n      } else {\n        pause().then(run);\n      }\n      return thenable;\n    }\n  };\n}\nexport {\n  CancelledError,\n  canFetch,\n  createRetryer,\n  isCancelledError\n};\n//# sourceMappingURL=retryer.js.map","// src/thenable.ts\nimport { noop } from \"./utils.js\";\nfunction pendingThenable() {\n  let resolve;\n  let reject;\n  const thenable = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  thenable.status = \"pending\";\n  thenable.catch(() => {\n  });\n  function finalize(data) {\n    Object.assign(thenable, data);\n    delete thenable.resolve;\n    delete thenable.reject;\n  }\n  thenable.resolve = (value) => {\n    finalize({\n      status: \"fulfilled\",\n      value\n    });\n    resolve(value);\n  };\n  thenable.reject = (reason) => {\n    finalize({\n      status: \"rejected\",\n      reason\n    });\n    reject(reason);\n  };\n  return thenable;\n}\nfunction tryResolveSync(promise) {\n  let data;\n  promise.then((result) => {\n    data = result;\n    return result;\n  }, noop)?.catch(noop);\n  if (data !== void 0) {\n    return { data };\n  }\n  return void 0;\n}\nexport {\n  pendingThenable,\n  tryResolveSync\n};\n//# sourceMappingURL=thenable.js.map","import { timeoutManager } from './timeoutManager'\nimport { isServer, isValidTimeout } from './utils'\nimport type { ManagedTimerId } from './timeoutManager'\n\nexport abstract class Removable {\n  gcTime!: number\n  #gcTimeout?: ManagedTimerId\n\n  destroy(): void {\n    this.clearGcTimeout()\n  }\n\n  protected scheduleGc(): void {\n    this.clearGcTimeout()\n\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = timeoutManager.setTimeout(() => {\n        this.optionalRemove()\n      }, this.gcTime)\n    }\n  }\n\n  protected updateGcTime(newGcTime: number | undefined): void {\n    // Default to 5 minutes (Infinity for server-side) if no gcTime is set\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1000),\n    )\n  }\n\n  protected clearGcTimeout() {\n    if (this.#gcTimeout) {\n      timeoutManager.clearTimeout(this.#gcTimeout)\n      this.#gcTimeout = undefined\n    }\n  }\n\n  protected abstract optionalRemove(): void\n}\n","import {\n  ensureQueryFn,\n  noop,\n  replaceData,\n  resolveEnabled,\n  resolveStaleTime,\n  skipToken,\n  timeUntilStale,\n} from './utils'\nimport { notifyManager } from './notifyManager'\nimport { CancelledError, canFetch, createRetryer } from './retryer'\nimport { Removable } from './removable'\nimport type { QueryCache } from './queryCache'\nimport type { QueryClient } from './queryClient'\nimport type {\n  CancelOptions,\n  DefaultError,\n  FetchStatus,\n  InitialDataFunction,\n  OmitKeyof,\n  QueryFunctionContext,\n  QueryKey,\n  QueryMeta,\n  QueryOptions,\n  QueryStatus,\n  SetDataOptions,\n  StaleTime,\n} from './types'\nimport type { QueryObserver } from './queryObserver'\nimport type { Retryer } from './retryer'\n\n// TYPES\n\ninterface QueryConfig<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey = QueryKey,\n> {\n  client: QueryClient\n  queryKey: TQueryKey\n  queryHash: string\n  options?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  defaultOptions?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  state?: QueryState<TData, TError>\n}\n\nexport interface QueryState<TData = unknown, TError = DefaultError> {\n  data: TData | undefined\n  dataUpdateCount: number\n  dataUpdatedAt: number\n  error: TError | null\n  errorUpdateCount: number\n  errorUpdatedAt: number\n  fetchFailureCount: number\n  fetchFailureReason: TError | null\n  fetchMeta: FetchMeta | null\n  isInvalidated: boolean\n  status: QueryStatus\n  fetchStatus: FetchStatus\n}\n\nexport interface FetchContext<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey = QueryKey,\n> {\n  fetchFn: () => unknown | Promise<unknown>\n  fetchOptions?: FetchOptions\n  signal: AbortSignal\n  options: QueryOptions<TQueryFnData, TError, TData, any>\n  client: QueryClient\n  queryKey: TQueryKey\n  state: QueryState<TData, TError>\n}\n\nexport interface QueryBehavior<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> {\n  onFetch: (\n    context: FetchContext<TQueryFnData, TError, TData, TQueryKey>,\n    query: Query,\n  ) => void\n}\n\nexport type FetchDirection = 'forward' | 'backward'\n\nexport interface FetchMeta {\n  fetchMore?: { direction: FetchDirection }\n}\n\nexport interface FetchOptions<TData = unknown> {\n  cancelRefetch?: boolean\n  meta?: FetchMeta\n  initialPromise?: Promise<TData>\n}\n\ninterface FailedAction<TError> {\n  type: 'failed'\n  failureCount: number\n  error: TError\n}\n\ninterface FetchAction {\n  type: 'fetch'\n  meta?: FetchMeta\n}\n\ninterface SuccessAction<TData> {\n  data: TData | undefined\n  type: 'success'\n  dataUpdatedAt?: number\n  manual?: boolean\n}\n\ninterface ErrorAction<TError> {\n  type: 'error'\n  error: TError\n}\n\ninterface InvalidateAction {\n  type: 'invalidate'\n}\n\ninterface PauseAction {\n  type: 'pause'\n}\n\ninterface ContinueAction {\n  type: 'continue'\n}\n\ninterface SetStateAction<TData, TError> {\n  type: 'setState'\n  state: Partial<QueryState<TData, TError>>\n  setStateOptions?: SetStateOptions\n}\n\nexport type Action<TData, TError> =\n  | ContinueAction\n  | ErrorAction<TError>\n  | FailedAction<TError>\n  | FetchAction\n  | InvalidateAction\n  | PauseAction\n  | SetStateAction<TData, TError>\n  | SuccessAction<TData>\n\nexport interface SetStateOptions {\n  meta?: any\n}\n\n// CLASS\n\nexport class Query<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> extends Removable {\n  queryKey: TQueryKey\n  queryHash: string\n  options!: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  state: QueryState<TData, TError>\n\n  #initialState: QueryState<TData, TError>\n  #revertState?: QueryState<TData, TError>\n  #cache: QueryCache\n  #client: QueryClient\n  #retryer?: Retryer<TData>\n  observers: Array<QueryObserver<any, any, any, any, any>>\n  #defaultOptions?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  #abortSignalConsumed: boolean\n\n  constructor(config: QueryConfig<TQueryFnData, TError, TData, TQueryKey>) {\n    super()\n\n    this.#abortSignalConsumed = false\n    this.#defaultOptions = config.defaultOptions\n    this.setOptions(config.options)\n    this.observers = []\n    this.#client = config.client\n    this.#cache = this.#client.getQueryCache()\n    this.queryKey = config.queryKey\n    this.queryHash = config.queryHash\n    this.#initialState = getDefaultState(this.options)\n    this.state = config.state ?? this.#initialState\n    this.scheduleGc()\n  }\n  get meta(): QueryMeta | undefined {\n    return this.options.meta\n  }\n\n  get promise(): Promise<TData> | undefined {\n    return this.#retryer?.promise\n  }\n\n  setOptions(\n    options?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): void {\n    this.options = { ...this.#defaultOptions, ...options }\n\n    this.updateGcTime(this.options.gcTime)\n\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (this.state && this.state.data === undefined) {\n      const defaultState = getDefaultState(this.options)\n      if (defaultState.data !== undefined) {\n        this.setState(\n          successState(defaultState.data, defaultState.dataUpdatedAt),\n        )\n        this.#initialState = defaultState\n      }\n    }\n  }\n\n  protected optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === 'idle') {\n      this.#cache.remove(this)\n    }\n  }\n\n  setData(\n    newData: TData,\n    options?: SetDataOptions & { manual: boolean },\n  ): TData {\n    const data = replaceData(this.state.data, newData, this.options)\n\n    // Set data and mark it as cached\n    this.#dispatch({\n      data,\n      type: 'success',\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual,\n    })\n\n    return data\n  }\n\n  setState(\n    state: Partial<QueryState<TData, TError>>,\n    setStateOptions?: SetStateOptions,\n  ): void {\n    this.#dispatch({ type: 'setState', state, setStateOptions })\n  }\n\n  cancel(options?: CancelOptions): Promise<void> {\n    const promise = this.#retryer?.promise\n    this.#retryer?.cancel(options)\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve()\n  }\n\n  destroy(): void {\n    super.destroy()\n\n    this.cancel({ silent: true })\n  }\n\n  reset(): void {\n    this.destroy()\n    this.setState(this.#initialState)\n  }\n\n  isActive(): boolean {\n    return this.observers.some(\n      (observer) => resolveEnabled(observer.options.enabled, this) !== false,\n    )\n  }\n\n  isDisabled(): boolean {\n    if (this.getObserversCount() > 0) {\n      return !this.isActive()\n    }\n    // if a query has no observers, it should still be considered disabled if it never attempted a fetch\n    return (\n      this.options.queryFn === skipToken ||\n      this.state.dataUpdateCount + this.state.errorUpdateCount === 0\n    )\n  }\n\n  isStatic(): boolean {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) =>\n          resolveStaleTime(observer.options.staleTime, this) === 'static',\n      )\n    }\n\n    return false\n  }\n\n  isStale(): boolean {\n    // check observers first, their `isStale` has the source of truth\n    // calculated with `isStaleByTime` and it takes `enabled` into account\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => observer.getCurrentResult().isStale,\n      )\n    }\n\n    return this.state.data === undefined || this.state.isInvalidated\n  }\n\n  isStaleByTime(staleTime: StaleTime = 0): boolean {\n    // no data is always stale\n    if (this.state.data === undefined) {\n      return true\n    }\n    // static is never stale\n    if (staleTime === 'static') {\n      return false\n    }\n    // if the query is invalidated, it is stale\n    if (this.state.isInvalidated) {\n      return true\n    }\n\n    return !timeUntilStale(this.state.dataUpdatedAt, staleTime)\n  }\n\n  onFocus(): void {\n    const observer = this.observers.find((x) => x.shouldFetchOnWindowFocus())\n\n    observer?.refetch({ cancelRefetch: false })\n\n    // Continue fetch if currently paused\n    this.#retryer?.continue()\n  }\n\n  onOnline(): void {\n    const observer = this.observers.find((x) => x.shouldFetchOnReconnect())\n\n    observer?.refetch({ cancelRefetch: false })\n\n    // Continue fetch if currently paused\n    this.#retryer?.continue()\n  }\n\n  addObserver(observer: QueryObserver<any, any, any, any, any>): void {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer)\n\n      // Stop the query from being garbage collected\n      this.clearGcTimeout()\n\n      this.#cache.notify({ type: 'observerAdded', query: this, observer })\n    }\n  }\n\n  removeObserver(observer: QueryObserver<any, any, any, any, any>): void {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter((x) => x !== observer)\n\n      if (!this.observers.length) {\n        // If the transport layer does not support cancellation\n        // we'll let the query continue so the result can be cached\n        if (this.#retryer) {\n          if (this.#abortSignalConsumed) {\n            this.#retryer.cancel({ revert: true })\n          } else {\n            this.#retryer.cancelRetry()\n          }\n        }\n\n        this.scheduleGc()\n      }\n\n      this.#cache.notify({ type: 'observerRemoved', query: this, observer })\n    }\n  }\n\n  getObserversCount(): number {\n    return this.observers.length\n  }\n\n  invalidate(): void {\n    if (!this.state.isInvalidated) {\n      this.#dispatch({ type: 'invalidate' })\n    }\n  }\n\n  async fetch(\n    options?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    fetchOptions?: FetchOptions<TQueryFnData>,\n  ): Promise<TData> {\n    if (\n      this.state.fetchStatus !== 'idle' &&\n      // If the promise in the retryer is already rejected, we have to definitely\n      // re-start the fetch; there is a chance that the query is still in a\n      // pending state when that happens\n      this.#retryer?.status() !== 'rejected'\n    ) {\n      if (this.state.data !== undefined && fetchOptions?.cancelRefetch) {\n        // Silently cancel current fetch if the user wants to cancel refetch\n        this.cancel({ silent: true })\n      } else if (this.#retryer) {\n        // make sure that retries that were potentially cancelled due to unmounts can continue\n        this.#retryer.continueRetry()\n        // Return current promise if we are already fetching\n        return this.#retryer.promise\n      }\n    }\n\n    // Update config if passed, otherwise the config from the last execution is used\n    if (options) {\n      this.setOptions(options)\n    }\n\n    // Use the options from the first observer with a query function if no function is found.\n    // This can happen when the query is hydrated or created with setQueryData.\n    if (!this.options.queryFn) {\n      const observer = this.observers.find((x) => x.options.queryFn)\n      if (observer) {\n        this.setOptions(observer.options)\n      }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!Array.isArray(this.options.queryKey)) {\n        console.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`,\n        )\n      }\n    }\n\n    const abortController = new AbortController()\n\n    // Adds an enumerable signal property to the object that\n    // which sets abortSignalConsumed to true when the signal\n    // is read.\n    const addSignalProperty = (object: unknown) => {\n      Object.defineProperty(object, 'signal', {\n        enumerable: true,\n        get: () => {\n          this.#abortSignalConsumed = true\n          return abortController.signal\n        },\n      })\n    }\n\n    // Create fetch function\n    const fetchFn = () => {\n      const queryFn = ensureQueryFn(this.options, fetchOptions)\n\n      // Create query function context\n      const createQueryFnContext = (): QueryFunctionContext<TQueryKey> => {\n        const queryFnContext: OmitKeyof<\n          QueryFunctionContext<TQueryKey>,\n          'signal'\n        > = {\n          client: this.#client,\n          queryKey: this.queryKey,\n          meta: this.meta,\n        }\n        addSignalProperty(queryFnContext)\n        return queryFnContext as QueryFunctionContext<TQueryKey>\n      }\n\n      const queryFnContext = createQueryFnContext()\n\n      this.#abortSignalConsumed = false\n      if (this.options.persister) {\n        return this.options.persister(\n          queryFn,\n          queryFnContext,\n          this as unknown as Query,\n        )\n      }\n\n      return queryFn(queryFnContext)\n    }\n\n    // Trigger behavior hook\n    const createFetchContext = (): FetchContext<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey\n    > => {\n      const context: OmitKeyof<\n        FetchContext<TQueryFnData, TError, TData, TQueryKey>,\n        'signal'\n      > = {\n        fetchOptions,\n        options: this.options,\n        queryKey: this.queryKey,\n        client: this.#client,\n        state: this.state,\n        fetchFn,\n      }\n\n      addSignalProperty(context)\n      return context as FetchContext<TQueryFnData, TError, TData, TQueryKey>\n    }\n\n    const context = createFetchContext()\n\n    this.options.behavior?.onFetch(context, this as unknown as Query)\n\n    // Store state in case the current fetch needs to be reverted\n    this.#revertState = this.state\n\n    // Set to fetching state if not already in it\n    if (\n      this.state.fetchStatus === 'idle' ||\n      this.state.fetchMeta !== context.fetchOptions?.meta\n    ) {\n      this.#dispatch({ type: 'fetch', meta: context.fetchOptions?.meta })\n    }\n\n    // Try to fetch the data\n    this.#retryer = createRetryer({\n      initialPromise: fetchOptions?.initialPromise as\n        | Promise<TData>\n        | undefined,\n      fn: context.fetchFn as () => Promise<TData>,\n      onCancel: (error) => {\n        if (error instanceof CancelledError && error.revert) {\n          this.setState({\n            ...this.#revertState,\n            fetchStatus: 'idle' as const,\n          })\n        }\n        abortController.abort()\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: 'failed', failureCount, error })\n      },\n      onPause: () => {\n        this.#dispatch({ type: 'pause' })\n      },\n      onContinue: () => {\n        this.#dispatch({ type: 'continue' })\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode,\n      canRun: () => true,\n    })\n\n    try {\n      const data = await this.#retryer.start()\n      // this is more of a runtime guard\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (data === undefined) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.error(\n            `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`,\n          )\n        }\n        throw new Error(`${this.queryHash} data is undefined`)\n      }\n\n      this.setData(data)\n\n      // Notify cache callback\n      this.#cache.config.onSuccess?.(data, this as Query<any, any, any, any>)\n      this.#cache.config.onSettled?.(\n        data,\n        this.state.error as any,\n        this as Query<any, any, any, any>,\n      )\n      return data\n    } catch (error) {\n      if (error instanceof CancelledError) {\n        if (error.silent) {\n          // silent cancellation implies a new fetch is going to be started,\n          // so we piggyback onto that promise\n          return this.#retryer.promise\n        } else if (error.revert) {\n          // transform error into reverted state data\n          // if the initial fetch was cancelled, we have no data, so we have\n          // to get reject with a CancelledError\n          if (this.state.data === undefined) {\n            throw error\n          }\n          return this.state.data\n        }\n      }\n      this.#dispatch({\n        type: 'error',\n        error: error as TError,\n      })\n\n      // Notify cache callback\n      this.#cache.config.onError?.(\n        error as any,\n        this as Query<any, any, any, any>,\n      )\n      this.#cache.config.onSettled?.(\n        this.state.data,\n        error as any,\n        this as Query<any, any, any, any>,\n      )\n\n      throw error // rethrow the error for further handling\n    } finally {\n      // Schedule query gc after fetching\n      this.scheduleGc()\n    }\n  }\n\n  #dispatch(action: Action<TData, TError>): void {\n    const reducer = (\n      state: QueryState<TData, TError>,\n    ): QueryState<TData, TError> => {\n      switch (action.type) {\n        case 'failed':\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error,\n          }\n        case 'pause':\n          return {\n            ...state,\n            fetchStatus: 'paused',\n          }\n        case 'continue':\n          return {\n            ...state,\n            fetchStatus: 'fetching',\n          }\n        case 'fetch':\n          return {\n            ...state,\n            ...fetchState(state.data, this.options),\n            fetchMeta: action.meta ?? null,\n          }\n        case 'success':\n          const newState = {\n            ...state,\n            ...successState(action.data, action.dataUpdatedAt),\n            dataUpdateCount: state.dataUpdateCount + 1,\n            ...(!action.manual && {\n              fetchStatus: 'idle' as const,\n              fetchFailureCount: 0,\n              fetchFailureReason: null,\n            }),\n          }\n          // If fetching ends successfully, we don't need revertState as a fallback anymore.\n          // For manual updates, capture the state to revert to it in case of a cancellation.\n          this.#revertState = action.manual ? newState : undefined\n\n          return newState\n        case 'error':\n          const error = action.error\n          return {\n            ...state,\n            error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: 'idle',\n            status: 'error',\n            // flag existing data as invalidated if we get a background error\n            // note that \"no data\" always means stale so we can set unconditionally here\n            isInvalidated: true,\n          }\n        case 'invalidate':\n          return {\n            ...state,\n            isInvalidated: true,\n          }\n        case 'setState':\n          return {\n            ...state,\n            ...action.state,\n          }\n      }\n    }\n\n    this.state = reducer(this.state)\n\n    notifyManager.batch(() => {\n      this.observers.forEach((observer) => {\n        observer.onQueryUpdate()\n      })\n\n      this.#cache.notify({ query: this, type: 'updated', action })\n    })\n  }\n}\n\nexport function fetchState<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey,\n>(\n  data: TData | undefined,\n  options: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n) {\n  return {\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchStatus: canFetch(options.networkMode) ? 'fetching' : 'paused',\n    ...(data === undefined &&\n      ({\n        error: null,\n        status: 'pending',\n      } as const)),\n  } as const\n}\n\nfunction successState<TData>(data: TData | undefined, dataUpdatedAt?: number) {\n  return {\n    data,\n    dataUpdatedAt: dataUpdatedAt ?? Date.now(),\n    error: null,\n    isInvalidated: false,\n    status: 'success' as const,\n  }\n}\n\nfunction getDefaultState<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey,\n>(\n  options: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n): QueryState<TData, TError> {\n  const data =\n    typeof options.initialData === 'function'\n      ? (options.initialData as InitialDataFunction<TData>)()\n      : options.initialData\n\n  const hasData = data !== undefined\n\n  const initialDataUpdatedAt = hasData\n    ? typeof options.initialDataUpdatedAt === 'function'\n      ? options.initialDataUpdatedAt()\n      : options.initialDataUpdatedAt\n    : 0\n\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? (initialDataUpdatedAt ?? Date.now()) : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? 'success' : 'pending',\n    fetchStatus: 'idle',\n  }\n}\n","import { hashQueryKeyByOptions, matchQuery } from './utils'\nimport { Query } from './query'\nimport { notifyManager } from './notifyManager'\nimport { Subscribable } from './subscribable'\nimport type { QueryFilters } from './utils'\nimport type { Action, QueryState } from './query'\nimport type {\n  DefaultError,\n  NotifyEvent,\n  QueryKey,\n  QueryOptions,\n  WithRequired,\n} from './types'\nimport type { QueryClient } from './queryClient'\nimport type { QueryObserver } from './queryObserver'\n\n// TYPES\n\ninterface QueryCacheConfig {\n  onError?: (\n    error: DefaultError,\n    query: Query<unknown, unknown, unknown>,\n  ) => void\n  onSuccess?: (data: unknown, query: Query<unknown, unknown, unknown>) => void\n  onSettled?: (\n    data: unknown | undefined,\n    error: DefaultError | null,\n    query: Query<unknown, unknown, unknown>,\n  ) => void\n}\n\ninterface NotifyEventQueryAdded extends NotifyEvent {\n  type: 'added'\n  query: Query<any, any, any, any>\n}\n\ninterface NotifyEventQueryRemoved extends NotifyEvent {\n  type: 'removed'\n  query: Query<any, any, any, any>\n}\n\ninterface NotifyEventQueryUpdated extends NotifyEvent {\n  type: 'updated'\n  query: Query<any, any, any, any>\n  action: Action<any, any>\n}\n\ninterface NotifyEventQueryObserverAdded extends NotifyEvent {\n  type: 'observerAdded'\n  query: Query<any, any, any, any>\n  observer: QueryObserver<any, any, any, any, any>\n}\n\ninterface NotifyEventQueryObserverRemoved extends NotifyEvent {\n  type: 'observerRemoved'\n  query: Query<any, any, any, any>\n  observer: QueryObserver<any, any, any, any, any>\n}\n\ninterface NotifyEventQueryObserverResultsUpdated extends NotifyEvent {\n  type: 'observerResultsUpdated'\n  query: Query<any, any, any, any>\n}\n\ninterface NotifyEventQueryObserverOptionsUpdated extends NotifyEvent {\n  type: 'observerOptionsUpdated'\n  query: Query<any, any, any, any>\n  observer: QueryObserver<any, any, any, any, any>\n}\n\nexport type QueryCacheNotifyEvent =\n  | NotifyEventQueryAdded\n  | NotifyEventQueryRemoved\n  | NotifyEventQueryUpdated\n  | NotifyEventQueryObserverAdded\n  | NotifyEventQueryObserverRemoved\n  | NotifyEventQueryObserverResultsUpdated\n  | NotifyEventQueryObserverOptionsUpdated\n\ntype QueryCacheListener = (event: QueryCacheNotifyEvent) => void\n\nexport interface QueryStore {\n  has: (queryHash: string) => boolean\n  set: (queryHash: string, query: Query) => void\n  get: (queryHash: string) => Query | undefined\n  delete: (queryHash: string) => void\n  values: () => IterableIterator<Query>\n}\n\n// CLASS\n\nexport class QueryCache extends Subscribable<QueryCacheListener> {\n  #queries: QueryStore\n\n  constructor(public config: QueryCacheConfig = {}) {\n    super()\n    this.#queries = new Map<string, Query>()\n  }\n\n  build<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    client: QueryClient,\n    options: WithRequired<\n      QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n      'queryKey'\n    >,\n    state?: QueryState<TData, TError>,\n  ): Query<TQueryFnData, TError, TData, TQueryKey> {\n    const queryKey = options.queryKey\n    const queryHash =\n      options.queryHash ?? hashQueryKeyByOptions(queryKey, options)\n    let query = this.get<TQueryFnData, TError, TData, TQueryKey>(queryHash)\n\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey),\n      })\n      this.add(query)\n    }\n\n    return query\n  }\n\n  add(query: Query<any, any, any, any>): void {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query)\n\n      this.notify({\n        type: 'added',\n        query,\n      })\n    }\n  }\n\n  remove(query: Query<any, any, any, any>): void {\n    const queryInMap = this.#queries.get(query.queryHash)\n\n    if (queryInMap) {\n      query.destroy()\n\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash)\n      }\n\n      this.notify({ type: 'removed', query })\n    }\n  }\n\n  clear(): void {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query)\n      })\n    })\n  }\n\n  get<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryHash: string,\n  ): Query<TQueryFnData, TError, TData, TQueryKey> | undefined {\n    return this.#queries.get(queryHash) as\n      | Query<TQueryFnData, TError, TData, TQueryKey>\n      | undefined\n  }\n\n  getAll(): Array<Query> {\n    return [...this.#queries.values()]\n  }\n\n  find<TQueryFnData = unknown, TError = DefaultError, TData = TQueryFnData>(\n    filters: WithRequired<QueryFilters, 'queryKey'>,\n  ): Query<TQueryFnData, TError, TData> | undefined {\n    const defaultedFilters = { exact: true, ...filters }\n\n    return this.getAll().find((query) =>\n      matchQuery(defaultedFilters, query),\n    ) as Query<TQueryFnData, TError, TData> | undefined\n  }\n\n  findAll(filters: QueryFilters<any> = {}): Array<Query> {\n    const queries = this.getAll()\n    return Object.keys(filters).length > 0\n      ? queries.filter((query) => matchQuery(filters, query))\n      : queries\n  }\n\n  notify(event: QueryCacheNotifyEvent): void {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event)\n      })\n    })\n  }\n\n  onFocus(): void {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus()\n      })\n    })\n  }\n\n  onOnline(): void {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline()\n      })\n    })\n  }\n}\n","import { notifyManager } from './notifyManager'\nimport { Removable } from './removable'\nimport { createRetryer } from './retryer'\nimport type {\n  DefaultError,\n  MutationFunctionContext,\n  MutationMeta,\n  MutationOptions,\n  MutationStatus,\n} from './types'\nimport type { MutationCache } from './mutationCache'\nimport type { MutationObserver } from './mutationObserver'\nimport type { Retryer } from './retryer'\nimport type { QueryClient } from './queryClient'\n\n// TYPES\n\ninterface MutationConfig<TData, TError, TVariables, TOnMutateResult> {\n  client: QueryClient\n  mutationId: number\n  mutationCache: MutationCache\n  options: MutationOptions<TData, TError, TVariables, TOnMutateResult>\n  state?: MutationState<TData, TError, TVariables, TOnMutateResult>\n}\n\nexport interface MutationState<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = unknown,\n  TOnMutateResult = unknown,\n> {\n  context: TOnMutateResult | undefined\n  data: TData | undefined\n  error: TError | null\n  failureCount: number\n  failureReason: TError | null\n  isPaused: boolean\n  status: MutationStatus\n  variables: TVariables | undefined\n  submittedAt: number\n}\n\ninterface FailedAction<TError> {\n  type: 'failed'\n  failureCount: number\n  error: TError | null\n}\n\ninterface PendingAction<TVariables, TOnMutateResult> {\n  type: 'pending'\n  isPaused: boolean\n  variables?: TVariables\n  context?: TOnMutateResult\n}\n\ninterface SuccessAction<TData> {\n  type: 'success'\n  data: TData\n}\n\ninterface ErrorAction<TError> {\n  type: 'error'\n  error: TError\n}\n\ninterface PauseAction {\n  type: 'pause'\n}\n\ninterface ContinueAction {\n  type: 'continue'\n}\n\nexport type Action<TData, TError, TVariables, TOnMutateResult> =\n  | ContinueAction\n  | ErrorAction<TError>\n  | FailedAction<TError>\n  | PendingAction<TVariables, TOnMutateResult>\n  | PauseAction\n  | SuccessAction<TData>\n\n// CLASS\n\nexport class Mutation<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = unknown,\n  TOnMutateResult = unknown,\n> extends Removable {\n  state: MutationState<TData, TError, TVariables, TOnMutateResult>\n  options!: MutationOptions<TData, TError, TVariables, TOnMutateResult>\n  readonly mutationId: number\n\n  #client: QueryClient\n  #observers: Array<\n    MutationObserver<TData, TError, TVariables, TOnMutateResult>\n  >\n  #mutationCache: MutationCache\n  #retryer?: Retryer<TData>\n\n  constructor(\n    config: MutationConfig<TData, TError, TVariables, TOnMutateResult>,\n  ) {\n    super()\n\n    this.#client = config.client\n    this.mutationId = config.mutationId\n    this.#mutationCache = config.mutationCache\n    this.#observers = []\n    this.state = config.state || getDefaultState()\n\n    this.setOptions(config.options)\n    this.scheduleGc()\n  }\n\n  setOptions(\n    options: MutationOptions<TData, TError, TVariables, TOnMutateResult>,\n  ): void {\n    this.options = options\n\n    this.updateGcTime(this.options.gcTime)\n  }\n\n  get meta(): MutationMeta | undefined {\n    return this.options.meta\n  }\n\n  addObserver(observer: MutationObserver<any, any, any, any>): void {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer)\n\n      // Stop the mutation from being garbage collected\n      this.clearGcTimeout()\n\n      this.#mutationCache.notify({\n        type: 'observerAdded',\n        mutation: this,\n        observer,\n      })\n    }\n  }\n\n  removeObserver(observer: MutationObserver<any, any, any, any>): void {\n    this.#observers = this.#observers.filter((x) => x !== observer)\n\n    this.scheduleGc()\n\n    this.#mutationCache.notify({\n      type: 'observerRemoved',\n      mutation: this,\n      observer,\n    })\n  }\n\n  protected optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === 'pending') {\n        this.scheduleGc()\n      } else {\n        this.#mutationCache.remove(this)\n      }\n    }\n  }\n\n  continue(): Promise<unknown> {\n    return (\n      this.#retryer?.continue() ??\n      // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n      this.execute(this.state.variables!)\n    )\n  }\n\n  async execute(variables: TVariables): Promise<TData> {\n    const onContinue = () => {\n      this.#dispatch({ type: 'continue' })\n    }\n\n    const mutationFnContext = {\n      client: this.#client,\n      meta: this.options.meta,\n      mutationKey: this.options.mutationKey,\n    } satisfies MutationFunctionContext\n\n    this.#retryer = createRetryer({\n      fn: () => {\n        if (!this.options.mutationFn) {\n          return Promise.reject(new Error('No mutationFn found'))\n        }\n\n        return this.options.mutationFn(variables, mutationFnContext)\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: 'failed', failureCount, error })\n      },\n      onPause: () => {\n        this.#dispatch({ type: 'pause' })\n      },\n      onContinue,\n      retry: this.options.retry ?? 0,\n      retryDelay: this.options.retryDelay,\n      networkMode: this.options.networkMode,\n      canRun: () => this.#mutationCache.canRun(this),\n    })\n\n    const restored = this.state.status === 'pending'\n    const isPaused = !this.#retryer.canStart()\n\n    try {\n      if (restored) {\n        // Dispatch continue action to unpause restored mutation\n        onContinue()\n      } else {\n        this.#dispatch({ type: 'pending', variables, isPaused })\n        // Notify cache callback\n        if (this.#mutationCache.config.onMutate) {\n          await this.#mutationCache.config.onMutate(\n            variables,\n            this as Mutation<unknown, unknown, unknown, unknown>,\n            mutationFnContext,\n          )\n        }\n        const context = await this.options.onMutate?.(\n          variables,\n          mutationFnContext,\n        )\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: 'pending',\n            context,\n            variables,\n            isPaused,\n          })\n        }\n      }\n      const data = await this.#retryer.start()\n\n      // Notify cache callback\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this as Mutation<unknown, unknown, unknown, unknown>,\n        mutationFnContext,\n      )\n\n      await this.options.onSuccess?.(\n        data,\n        variables,\n        this.state.context!,\n        mutationFnContext,\n      )\n\n      // Notify cache callback\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this as Mutation<unknown, unknown, unknown, unknown>,\n        mutationFnContext,\n      )\n\n      await this.options.onSettled?.(\n        data,\n        null,\n        variables,\n        this.state.context,\n        mutationFnContext,\n      )\n\n      this.#dispatch({ type: 'success', data })\n      return data\n    } catch (error) {\n      try {\n        // Notify cache callback\n        await this.#mutationCache.config.onError?.(\n          error as any,\n          variables,\n          this.state.context,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n          mutationFnContext,\n        )\n      } catch (e) {\n        void Promise.reject(e)\n      }\n\n      try {\n        await this.options.onError?.(\n          error as TError,\n          variables,\n          this.state.context,\n          mutationFnContext,\n        )\n      } catch (e) {\n        void Promise.reject(e)\n      }\n\n      try {\n        // Notify cache callback\n        await this.#mutationCache.config.onSettled?.(\n          undefined,\n          error as any,\n          this.state.variables,\n          this.state.context,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n          mutationFnContext,\n        )\n      } catch (e) {\n        void Promise.reject(e)\n      }\n\n      try {\n        await this.options.onSettled?.(\n          undefined,\n          error as TError,\n          variables,\n          this.state.context,\n          mutationFnContext,\n        )\n      } catch (e) {\n        void Promise.reject(e)\n      }\n\n      this.#dispatch({ type: 'error', error: error as TError })\n      throw error\n    } finally {\n      this.#mutationCache.runNext(this)\n    }\n  }\n\n  #dispatch(action: Action<TData, TError, TVariables, TOnMutateResult>): void {\n    const reducer = (\n      state: MutationState<TData, TError, TVariables, TOnMutateResult>,\n    ): MutationState<TData, TError, TVariables, TOnMutateResult> => {\n      switch (action.type) {\n        case 'failed':\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error,\n          }\n        case 'pause':\n          return {\n            ...state,\n            isPaused: true,\n          }\n        case 'continue':\n          return {\n            ...state,\n            isPaused: false,\n          }\n        case 'pending':\n          return {\n            ...state,\n            context: action.context,\n            data: undefined,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: action.isPaused,\n            status: 'pending',\n            variables: action.variables,\n            submittedAt: Date.now(),\n          }\n        case 'success':\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: 'success',\n            isPaused: false,\n          }\n        case 'error':\n          return {\n            ...state,\n            data: undefined,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: 'error',\n          }\n      }\n    }\n    this.state = reducer(this.state)\n\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action)\n      })\n      this.#mutationCache.notify({\n        mutation: this,\n        type: 'updated',\n        action,\n      })\n    })\n  }\n}\n\nexport function getDefaultState<\n  TData,\n  TError,\n  TVariables,\n  TOnMutateResult,\n>(): MutationState<TData, TError, TVariables, TOnMutateResult> {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined,\n    submittedAt: 0,\n  }\n}\n","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Set();\n    this.#scopes = /* @__PURE__ */ new Map();\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #scopes;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      client,\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.add(mutation);\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const scopedMutations = this.#scopes.get(scope);\n      if (scopedMutations) {\n        scopedMutations.push(mutation);\n      } else {\n        this.#scopes.set(scope, [mutation]);\n      }\n    }\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation);\n      if (typeof scope === \"string\") {\n        const scopedMutations = this.#scopes.get(scope);\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation);\n            if (index !== -1) {\n              scopedMutations.splice(index, 1);\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope);\n          }\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const mutationsWithSameScope = this.#scopes.get(scope);\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === \"pending\"\n      );\n      return !firstPendingMutation || firstPendingMutation === mutation;\n    } else {\n      return true;\n    }\n  }\n  runNext(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const foundMutation = this.#scopes.get(scope)?.find((m) => m !== mutation && m.state.isPaused);\n      return foundMutation?.continue() ?? Promise.resolve();\n    } else {\n      return Promise.resolve();\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: \"removed\", mutation });\n      });\n      this.#mutations.clear();\n      this.#scopes.clear();\n    });\n  }\n  getAll() {\n    return Array.from(this.#mutations);\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id;\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1) return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0) return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = this.#queryCache.build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(\n      options.queryHash\n    )?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(\n        {\n          type: \"active\",\n          ...filters\n        },\n        options\n      );\n    });\n  }\n  cancelQueries(filters, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters?.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? \"active\"\n        },\n        options\n      );\n    });\n  }\n  refetchQueries(filters, options = {}) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled() && !query.isStatic()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","import type { AppRouterClient } from \"@/lib/api/routers\";\n\nimport { createORPCClient } from \"@orpc/client\";\nimport { RPCLink } from \"@orpc/client/fetch\";\nimport { createTanstackQueryUtils } from \"@orpc/tanstack-query\";\nimport { QueryCache, QueryClient } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\n\nfunction getRpcUrl(): string {\n  // ORPC client uses new URL(baseUrl) when encoding requests; relative URLs throw.\n  if (typeof window !== \"undefined\") {\n    return `${window.location.origin}/api/rpc`;\n  }\n  const base =\n    process.env.NEXT_PUBLIC_APP_URL ??\n    (process.env.VERCEL_URL ? `https://${process.env.VERCEL_URL}` : \"http://localhost:3001\");\n  return `${base}/api/rpc`;\n}\n\nexport const queryClient = new QueryClient({\n  queryCache: new QueryCache({\n    onError: (error, query) => {\n      toast.error(`Error: ${error.message}`, {\n        action: {\n          label: \"retry\",\n          onClick: () => {\n            if (query != null && typeof query.invalidate === \"function\") {\n              query.invalidate();\n            }\n          },\n        },\n      });\n    },\n  }),\n});\n\nexport const link = new RPCLink({\n  url: getRpcUrl(),\n  fetch(url, options) {\n    return fetch(url, {\n      ...options,\n      credentials: \"include\",\n    });\n  },\n  headers: async () => {\n    if (typeof window !== \"undefined\") {\n      return {};\n    }\n\n    const { headers } = await import(\"next/headers\");\n    return Object.fromEntries(await headers());\n  },\n});\n\nexport const client: AppRouterClient = createORPCClient(link);\n\nexport const orpc = createTanstackQueryUtils(client);\n","// src/infiniteQueryBehavior.ts\nimport {\n  addConsumeAwareSignal,\n  addToEnd,\n  addToStart,\n  ensureQueryFn\n} from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          addConsumeAwareSignal(\n            object,\n            () => context.signal,\n            () => cancelled = true\n          );\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const createQueryFnContext = () => {\n            const queryFnContext2 = {\n              client: context.client,\n              queryKey: context.queryKey,\n              pageParam: param,\n              direction: previous ? \"backward\" : \"forward\",\n              meta: context.options.meta\n            };\n            addSignalProperty(queryFnContext2);\n            return queryFnContext2;\n          };\n          const queryFnContext = createQueryFnContext();\n          const page = await queryFn(queryFnContext);\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map"],"names":["queryFnContext","context"],"mappings":"uCACA,IAAA,EAAuB,EAAA,CAAA,CAAA,EAAX,KAuCR,EAAA,EAAA,CAAA,CAAA,AAvCmB,OAIV,EAA2B,EAAA,aAAA,CACtC,KAAA,GAGW,EAAkB,AAAD,IAC5B,IAAM,EAAe,EAAA,IADsC,MACtC,CAAW,GAEhC,GAAI,EACF,OAAO,EAGT,CANkD,CAEjC,CAIb,CAAC,EACH,MADW,AACL,AAAI,MAAM,wDAAwD,EAG1E,OAAO,CACT,EAOa,EAAsB,CAAC,QAClC,CAAA,UACA,CAAA,CACF,IACQ,CAD2C,CAC3C,SAAA,CAAU,KACd,CADoB,CACb,KAAA,CAAM,EACN,KACL,CADW,CACJ,OAAA,CAAQ,CACjB,GACC,CAAC,EAAO,EAGT,CAAA,CAHQ,CAGR,EAAA,GAAA,EAAC,EAAmB,QAAA,CAAnB,CAA4B,MAAO,EACjC,UAAA,CACH,8FCxCJ,SAAS,EAA4B,CAAI,EACvC,OAAO,CAAI,CAAC,EAAE,EAAI,CAAC,CACrB,CAEA,SAAS,EAAQ,CAAK,EACpB,OAAO,MAAM,OAAO,CAAC,GAAS,QAAQ,EAAqC,EAAE,CAAG,CAAC,EAAM,AACzF,CAaA,EAdkD,EAc5C,EAAY,CAdqC,KAAK,AAkB5D,OAAM,IAlBgE,MAkB7C,MACvB,YAAY,GAAG,CAAI,CAAE,CACnB,KAAK,IAAI,GACT,IAAI,CAAC,IAAI,CAAG,YACd,CACF,CAEA,SAAS,EAAK,CAAE,EACd,IAAI,EACJ,MAAO,KACL,GAAI,EACF,MADU,CACH,EAAO,MAAM,CAEtB,IAAM,EAAS,IAEf,OADA,EAAS,CAAE,QAAO,EACX,CACT,CACF,CAuBA,SAAS,IACP,OAAO,UAAU,CAAC,AALW,CAAC,EAAE,EAAE,yBAAyB,CAAC,EAAE,KAKrB,AAC3C,CACA,SAAS,EAAU,CAAI,CAAE,EAAU,CAAC,CAAC,CAAE,CAAO,EAC5C,CAR0F,GAQpF,EAAS,KAAuB,IARkE,CAAC,EASzG,OAAO,GAAQ,UAAU,EAAM,EAAS,EAC1C,CACA,SAAS,EAAa,CAAI,CAAE,CAAK,CAAE,EAAU,CAAC,CAAC,EAC7C,GAAI,CAAC,EACH,IADS,GAGX,IAAM,EAeR,AAfoB,SAeX,AAAgB,CAAK,EAC5B,GAAI,aAAiB,MAAO,CAC1B,IAAM,EAAY,CAChB,QAAS,EAAM,OAAO,CACtB,KAAM,EAAM,IAAI,CAChB,MAAO,EAAM,KAAK,AACpB,EAIA,MAHI,SAAU,GAAU,CAAsB,KAAvB,YAAQ,EAAM,IAAI,EAAuC,UAAtB,OAAO,EAAM,IAAI,AAAK,CAAQ,GAAG,AACzF,EAAU,IAAI,CAAG,EAAM,IAAA,AAAI,EAEtB,CACT,CACA,MAAO,CAAE,QAAS,OAAO,EAAO,CAClC,EA5BoC,GAClC,EAAK,eAAe,CAAC,GACjB,AAAC,EAAQ,MAAM,EAAE,SAAW,EAAQ,MAAM,CAAC,MAAM,GAAK,GACxD,EAAK,EAD0D,OACjD,CAAC,CACb,KApBoB,CAoBd,CACN,QAAS,EAAU,OAAO,AAC5B,EAEJ,CAuCA,eAAe,EAAY,MAAE,CAAI,SAAE,CAAO,CAAE,GAAG,EAAS,CAAE,CAAE,EAC1D,IAAM,EAAS,KAAuB,OACtC,GAAI,CAAC,EACH,MADW,CACJ,IAET,IAAM,EAAW,MAAO,IACtB,GAAI,CACF,OAAO,MAAM,EAAG,EAClB,CAAE,MAAO,EAAG,CAEV,MADA,EAAa,EAAM,EAAG,GAChB,CACR,QAAU,CACR,EAAK,GAAG,EACV,CACF,SACA,AAAI,EACK,EAAO,KADH,UACkB,CAAC,EAAM,EAAS,EAAS,GAE/C,EAAO,eAAe,CAAC,EAAM,EAAS,EAEjD,CACA,eAAe,EAAiB,CAAI,CAAE,CAAE,EACtC,IAAM,EAAa,IACnB,GAAI,CAAC,GAAQ,CAAC,EACZ,OAAO,GADiB,CAG1B,IAAM,EAAM,EAAW,KAAK,CAAC,OAAO,CAAC,EAAW,OAAO,CAAC,MAAM,GAAI,GAClE,OAAO,EAAW,OAAO,CAAC,IAAI,CAAC,EAAK,EACtC,CAEA,MAAM,EACJ,QAA0B,EAAhB,EAAoB,GAAM,CACpC,OADuB,AACE,EAAhB,EAAoB,GAAM,CACnC,OADsB,CACI,EAAhB,EAAoB,GAAM,AACpC,KAAI,GADmB,KACV,CACX,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,AAC1B,CACA,IAAI,WAAY,CACd,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,GACrC,CACA,iBAAiB,CAAE,CAAE,CACnB,OAAO,CAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAK,MACtC,CACA,KAAK,CAAE,CAAE,CACP,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EACnB,CACA,OAAO,CAAE,CAAE,CACT,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAC1B,CACA,KAAK,CAAE,CAAE,CAAI,CAAE,CACb,IAAI,CAAC,UAAU,CAAC,GAChB,IAAM,EAAU,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GACjC,GAAI,GAAS,OACX,CADmB,CACX,KAAK,EAAE,CAAC,EAAE,CAAC,GACI,GAAG,CAAtB,EAAQ,MAAM,EAChB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAEjB,CACL,IAAM,EAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAC1B,EACF,EAAM,GADG,CACC,CAAC,GAEX,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAI,CAAC,EAAK,CAE9B,CACF,CACA,MAAM,KAAK,CAAE,CAAE,CACb,IAAI,CAAC,UAAU,CAAC,GAChB,IAAM,EAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAC9B,GAAI,GAAO,OAAQ,CACjB,IAAM,EAAO,EAAM,KAAK,GAIxB,OAHqB,GAAG,CAApB,EAAM,MAAM,EACd,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAEd,CACT,CACA,OAAO,IAAI,QAAQ,CAAC,EAAS,KAC3B,IAAM,EAAe,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAChC,EAAU,CAAC,EAAS,EAAO,CAC7B,EACF,EAAa,IAAI,CAAC,GAElB,EAHgB,EAGZ,CAAC,OAAO,CAAC,GAAG,CAAC,EAAI,CAAC,EAAQ,CAElC,EACF,CACA,MAAM,IAAE,CAAE,QAAE,CAAM,CAAE,CAAG,CAAC,CAAC,CAAE,CACzB,GAAI,AAAO,KAAK,MAAG,CACjB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,EAAc,KAClC,IAAM,EAAS,GAAU,IAAI,EAAW,CAAC,qBAAqB,EAAE,EAAI,kDAAkD,CAAC,EACvH,EAAa,OAAO,CAAC,CAAC,EAAG,EAAO,GAAK,EAAO,GAC9C,GACA,IAAI,CAAC,OAAO,CAAC,KAAK,GAClB,IAAI,CAAC,OAAO,CAAC,KAAK,GAClB,IAAI,CAAC,MAAM,CAAC,KAAK,GACjB,MACF,CACA,IAAM,EAAQ,GAAU,IAAI,EAAW,CAAC,qBAAqB,EAAE,EAAG,kDAAkD,CAAC,EACrH,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAK,QAAQ,CAAC,EAAG,EAAO,GAAK,EAAO,IACrD,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GACpB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GACpB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EACrB,CACA,WAAW,CAAE,CAAE,CACb,GAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GACf,EADoB,IACd,AAAI,MAAM,CAAC,mCAAmC,EAAE,EAAG,oCAAoC,CAAC,CAElG,CACF,CAEA,SAAS,EAAsB,CAAK,QAClC,CAAI,CAAC,GAA0B,UAAjB,AAA2B,OAApB,GAGd,SAAU,GAA+B,YAAtB,OAAO,EAAM,IAAI,EAAmB,OAAO,aAAa,IAAI,GAAgD,YAAvC,OAAO,CAAK,CAAC,OAAO,aAAa,CAAC,AACnI,CACA,IAAM,EAA6B,OAAO,GAAG,CAAC,gBACxC,EAAqB,OAAO,YAAY,EAAI,CAClD,OAAM,GACJ,CAAA,AAAO,EAAG,CAAM,EAChB,CAAkB,AAAlB,CAAqB,EAAM,AAC3B,CAAA,EAAQ,AAAC,EACT,CAAA,AAAK,AAAC,AACN,aAAY,CAAI,CAAE,CAAO,CAAE,CACzB,IAAI,EAAC,CAAA,AAAQ,CAAG,EAChB,IAAI,EAAC,CAAA,AAAK,CA7Md,AA6MiB,SA7MR,AAAW,CAAE,EACpB,IAAI,EAAuB,QAAQ,OAAO,GAC1C,MAAO,CAAC,GAAG,IACF,EAAuB,EAAqB,KAAK,CAAC,KACzD,GAAG,IAAI,CAAC,IACC,KAAM,GAGnB,EAqM4B,UACtB,GAAI,IAAI,EAAC,CAAA,AAAO,CACd,CADgB,KACT,CAAE,MAAM,EAAM,MAAO,KAAK,CAAE,EAErC,GAAI,CACF,IAAM,EAAS,MAAM,IAIrB,OAHI,EAAO,IAAI,EAAE,AACf,KAAI,EAAC,CAAA,AAAO,EAAG,CAAA,EAEV,CACT,CAAE,MAAO,EAAK,CAEZ,MADA,IAAI,EAAC,CAAA,AAAO,CAAG,GACT,CACR,QAAU,CACJ,IAAI,EAAC,CAAA,AAAO,EAAI,CAAC,IAAI,EAAC,CAAA,AAAkB,EAAE,CAC5C,IAAI,EAAC,CAAA,AAAkB,EAAG,EAC1B,MAAM,IAAI,CAAC,CAAA,CAAQ,CAAC,QAExB,CACF,EACF,CACA,MAAO,CACL,OAAO,IAAI,EAAC,CAAA,AAAK,EACnB,CACA,MAAM,OAAO,CAAK,CAAE,CAMlB,OALA,IAAI,CAAC,CAAA,CAAO,CAAG,GACV,IAAI,EAAC,CAAA,AAAkB,EAAE,CAC5B,IAAI,CAAC,CAAA,CAAkB,EAAG,EAC1B,MAAM,IAAI,EAAC,CAAQ,AAAR,CAAS,WAEf,CAAE,MAAM,EAAM,MAAA,CAAM,CAC7B,CACA,MAAM,MAAM,CAAG,CAAE,CAMf,MALA,IAAI,EAAC,CAAA,AAAO,EAAG,EACV,IAAI,EAAC,CAAkB,AAAlB,EAAoB,CAC5B,IAAI,EAAC,CAAA,AAAkB,EAAG,EAC1B,MAAM,IAAI,EAAC,CAAA,AAAQ,CAAC,UAEhB,CACR,CAIA,MAAM,CAAC,EAAmB,EAAG,CAC3B,IAAI,EAAC,CAAA,AAAO,EAAG,EACV,IAAI,EAAC,CAAA,AAAkB,EAAE,CAC5B,IAAI,EAAC,CAAA,AAAkB,EAAG,EAC1B,MAAM,IAAI,EAAC,CAAA,AAAQ,CAAC,WAExB,CACA,CAAC,OAAO,aAAa,CAAC,EAAG,CACvB,OAAO,IAAI,AACb,CACF,CACA,SAAS,EAAuB,CAAM,CAAE,CAAK,EAC3C,IAAM,EAAQ,IAAI,EACZ,EAAM,MAAM,IAAI,CAAC,CAAE,OAAQ,CAAM,EAAG,CAAC,EAAG,IAAM,EAAE,QAAQ,IAC1D,EAAmB,GACjB,EAAQ,EAAK,UACjB,GAAI,CACF,MAAO,CAAM,CACX,IAAM,EAAO,MAAM,EAAO,IAAI,GAM9B,GALA,EAAI,OAAO,CAAC,AAAC,IACP,EAAM,MAAM,CAAC,IACf,CADoB,CACd,IAAI,CAAC,EAAI,CAAE,KAAM,CAAK,EAEhC,GACI,EAAK,IAAI,CACX,CADa,IAGjB,CACF,CAAE,MAAO,EAAO,CACd,EAAI,OAAO,CAAC,AAAC,IACP,EAAM,MAAM,CAAC,IACf,CADoB,CACd,IAAI,CAAC,EAAI,CAAE,OAAM,EAE3B,EACF,QAAU,CACR,GAAmB,CACrB,CACF,GAqBA,OApBmB,AAoBZ,EApBgB,GAAG,CAAC,AAAC,IAC1B,EAAM,IAAI,CAAC,GACJ,IAAI,EACT,UACE,IACA,IAAM,EAAO,MAAM,EAAM,IAAI,CAAC,GAC9B,GAAI,EAAK,IAAI,CACX,CADa,MACN,EAAK,IAAI,AAElB,OAAM,EAAK,KAAK,AAClB,EACA,MAAO,IACL,EAAM,KAAK,CAAC,CAAE,IAAG,GACF,SAAX,CAAqB,EAAC,EAAM,MAAM,EAAK,EAAD,EACxC,GAAmB,EACnB,MAAM,GAFqD,AAE7C,WAElB,IAIN,CACA,SAAS,EAAsB,MAAE,CAAI,CAAE,GAAG,EAAS,CAAE,CAAQ,EAC3D,IAAI,EACJ,OAAO,IAAI,EACT,UACE,IAAS,EAAU,GACnB,GAAI,CACF,IAAM,EAAS,MAAM,EAAiB,EAAM,IAAM,EAAS,IAAI,IAE/D,OADA,GAAM,SAAS,EAAO,IAAI,CAAG,YAAc,WACpC,CACT,CAAE,MAAO,EAAK,CAEZ,MADA,EAAa,EAAM,EAAK,GAClB,CACR,CACF,EACA,MAAO,IACL,GAAI,CACa,QAAQ,CAAnB,GACF,MAAM,EAAiB,EAAM,IAAM,EAAS,MAAM,KAEtD,CAAE,MAAO,EAAK,CAEZ,MADA,EAAa,EAAM,EAAK,GAClB,CACR,QAAU,CACR,GAAM,KACR,CACF,EAEJ,CAqIA,SAAS,EAAU,CAAY,CAAE,CAAO,CAAE,CAAI,EAC5C,IAAM,EAAO,CAAC,EAAU,KACtB,IAAM,EAAc,CAAY,CAAC,EAAM,QACvC,AAAK,EAGE,EAAY,AAHf,CAIF,GAAG,CAAQ,CACX,GALgB,EAKV,CAAC,EAAa,CAAQ,GAAK,EAAK,EAAY,EAAQ,EAC5D,GALS,EAAK,EAMhB,EACA,OAAO,EAAK,EAAS,EACvB,CAEA,SAAS,EAAmB,CAAI,EAC9B,GAAK,CAAD,CAGJ,IAHW,GAGJ,KAAK,KAAK,CAAC,EACpB,CACA,SAAS,EAAc,CAAK,EAC1B,OAAO,KAAK,SAAS,CAAC,EACxB,CAiBA,SAAS,EAAe,CAAK,SAC3B,AAAK,EAAmB,EAApB,CAGG,MAHyB,CAGlB,cAAc,CAAC,IAAQ,YAF5B,IAGX,CACA,SAAS,EAAS,CAAK,EACrB,GAAI,CAAC,GAA0B,UAAU,AAA3B,OAAO,EACnB,OAAO,EAET,IAAM,EAAQ,OAAO,cAAc,CAAC,GACpC,OAAO,IAAU,OAAO,SAAS,EAAI,CAAC,GAAS,CAAC,EAAM,WAAW,AACnE,CACA,SAAS,EAAmB,CAAK,EAC/B,MAAO,CAAC,CAAC,GAAU,CAAiB,MAAlB,WAAQ,GAAuC,YAAjB,OAAO,CAAU,CAAU,AAC7E,CAiBA,SAAS,EAAI,CAAM,CAAE,CAAI,EACvB,IAAI,EAAU,EACd,IAAK,IAAM,KAAO,EAAM,CACtB,GAAI,CAAC,EAAmB,GACtB,OADgC,AACzB,AAET,EAAU,CAAO,CAAC,CAFJ,CAEQ,AACxB,CACA,OAAO,CACT,CAaA,SAAS,EAAM,CAAM,CAAE,GAAG,CAAI,QACN,AAAtB,YAAkC,AAA9B,OAAO,EACF,KAAU,GAEZ,CACT,CAKA,SAAS,EAAmB,CAAM,EAChC,OAAO,IAAI,MAAM,EAAQ,CACvB,IAAI,CAAO,CAAE,CAAI,CAAE,CAAQ,EACzB,IAAM,EAAS,QAAQ,GAAG,CAAC,EAAS,EAAM,SAC1C,AAAa,SAAT,GAAqC,YAAlB,AAA8B,OAAvB,EACrB,EAEF,IAAI,MAAM,EAAQ,CACvB,MAAM,CAAQ,CAAE,CAAO,CAAE,CAAI,EAC3B,GAAoB,IAAhB,EAAK,MAAM,EAAU,EAAK,IAAI,CAAC,AAAC,gBAAQ,CAAC,AAoB9C,CAAc,MAAP,aADU,EAnB8C,AAmB5C,IACS,EAAsB,CApBoB,GAoBhB,CAAC,EAAG,QAAQ,GAAA,IAnB/D,OAAO,QAAQ,KAAK,CAAC,EAAU,EAAS,GAE1C,IAAI,EAAa,GACjB,CAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAS,EAAmB,IAAI,MAAM,EAAS,CAC1D,IAAK,CAAC,EAAS,EAAO,KACpB,GAAI,GAAwB,SAAV,EAAkB,CAClC,GAAa,EACb,MACF,CADS,AAET,KAFc,EAEP,QAAQ,GAAG,CAAC,EAAS,EAAO,EACrC,CACF,IACF,CACF,EACF,CACF,EACF,CACA,IAAM,EAAwB,sDA6D9B,SAAS,EAAsB,CAAK,EAClC,GAAI,CACF,OAAO,mBAAmB,EAC5B,CAAE,KAAM,CACN,OAAO,CACT,CACF,mjBC/rBA,IAAM,EAAyB,CAC7B,YAAa,CACX,OAAQ,IACR,QAAS,aACX,EACA,aAAc,CACZ,OAAQ,IACR,QAAS,cACX,EACA,UAAW,CACT,OAAQ,IACR,QAAS,WACX,EACA,UAAW,CACT,OAAQ,IACR,QAAS,WACX,EACA,qBAAsB,CACpB,OAAQ,IACR,QAAS,sBACX,EACA,eAAgB,CACd,OAAQ,IACR,QAAS,gBACX,EACA,QAAS,CACP,OAAQ,IACR,QAAS,iBACX,EACA,SAAU,CACR,OAAQ,IACR,QAAS,UACX,EACA,oBAAqB,CACnB,OAAQ,IACR,QAAS,qBACX,EACA,kBAAmB,CACjB,OAAQ,IACR,QAAS,mBACX,EACA,uBAAwB,CACtB,OAAQ,IACR,QAAS,wBACX,EACA,sBAAuB,CACrB,OAAQ,IACR,QAAS,uBACX,EACA,kBAAmB,CACjB,OAAQ,IACR,QAAS,mBACX,EACA,sBAAuB,CACrB,OAAQ,IACR,QAAS,uBACX,EACA,sBAAuB,CACrB,OAAQ,IACR,QAAS,uBACX,EACA,gBAAiB,CACf,OAAQ,IACR,QAAS,iBACX,EACA,YAAa,CACX,OAAQ,IACR,QAAS,aACX,EACA,oBAAqB,CACnB,OAAQ,IACR,QAAS,qBACX,EACA,gBAAiB,CACf,OAAQ,IACR,QAAS,iBACX,CACF,EAOM,EAAwC,OAAO,GAAG,CAAC,CAAC,EAAE,EAAE,yBAAyB,CAAC,EAAE,wBACpF,IADgH,MACtG,CAAC,EAAsC,GAAqB,EAAhB,EAAoB,QAChF,CADyF,EAAhB,CACnE,EAA8B,EAFkH,CAAC,OAEzG,CAAC,EAAsC,AACrF,OAAM,UAAkB,MACtB,OAAQ,CACR,IAAK,CACL,MAAO,CACP,IAAK,AACL,aAAY,CAAI,CAAE,GAAG,CAAI,CAAE,CACzB,MAAM,EAAU,EAA4B,GAC5C,GAAuB,KAAK,IAAxB,EAAQ,MAAM,EAAe,CAAC,EAAkB,EAAQ,MAAM,EAChE,CADmE,KAC7D,AAAI,MAAM,0CAGlB,KAAK,CAjBT,AAgBoB,AACV,SAjBD,AAAyB,CAAI,CAAE,CAAO,EAC7C,OAAO,GAAW,CAAsB,CAAC,EAAK,EAAE,SAAW,CAC7D,EAc6C,EAAM,EAAQ,OAAO,EAC/C,GACf,IAAI,CAAC,IAAI,CAAG,EACZ,IAAI,CAAC,MAAM,CAtBf,AAsBkB,SAtBT,AAAwB,CAAI,CAAE,CAAM,EAC3C,OAAO,GAAU,CAAsB,CAAC,EAAK,EAAE,QAAU,GAC3D,EAoB0C,EAAM,EAAQ,MAAM,EAC1D,IAAI,CAAC,OAAO,CAAG,EAAQ,OAAO,GAAI,EAClC,IAAI,CAAC,IAAI,CAAG,EAAQ,IAAI,AAC1B,CACA,QAAS,CACP,MAAO,CACL,QAAS,IAAI,CAAC,OAAO,CACrB,KAAM,IAAI,CAAC,IAAI,CACf,OAAQ,IAAI,CAAC,MAAM,CACnB,QAAS,IAAI,CAAC,OAAO,CACrB,KAAM,IAAI,CAAC,IAAI,AACjB,CACF,CAaA,MAAO,CAAC,OAAO,WAAW,CAAC,CAAC,CAAQ,CAAE,CACpC,GAAI,EAA4B,GAAG,CAAC,IAAI,EAAG,CACzC,IAAM,EAAc,EAAe,GACnC,GAAI,GAAe,EAA4B,GAAG,CAAC,GACjD,OAAO,CAEX,CACA,EAJmE,KAI5D,KAAK,CAAC,OAAO,WAAW,CAAC,CAAC,EACnC,CACF,CAWA,SAAS,EAAkB,CAAM,EAC/B,OAAO,EAAS,KAAO,GAAU,GACnC,CACA,SAAS,EAAgB,CAAI,EAC3B,GAAI,CAAC,EAAS,GACZ,IADmB,GACZ,EAET,IAAM,EAAY,CAAC,UAAW,OAAQ,SAAU,UAAW,OAAO,OAClE,CAAI,OAAO,IAAI,CAAC,GAAM,IAAI,CAAE,AAAD,GAAO,CAAC,EAAU,QAAQ,CAAC,KAAK,AAGpD,YAAa,GAAQ,AAAwB,kBAAjB,EAAK,OAAO,EAAkB,SAAU,GAA6B,UAArB,OAAO,EAAK,IAAI,EAAiB,WAAY,GAA+B,UAAvB,OAAO,EAAK,MAAM,EAAiB,EAAkB,EAAK,MAAM,GAAK,YAAa,GAAgC,UAAxB,OAAO,EAAK,OAAO,AACvP,CACA,SAAS,EAAwB,CAAI,CAAE,EAAU,CAAC,CAAC,EACjD,OAAO,IAAI,EAAU,EAAK,IAAI,CAAE,CAC9B,GAAG,CAAO,CACV,GAAG,CAAI,AACT,EACF,CA5BA,EAA4B,GAAG,CAAC,EC1IhC,OAAM,UAA0B,UAChC,CACA,MAAM,UAA0B,UAChC,CACA,MAAM,UAAmB,MACvB,IAAK,AACL,aAAY,CAAO,CAAE,CACnB,KAAK,CAAC,GAAS,SAAW,8BAA+B,GACzD,IAAI,CAAC,IAAI,CAAG,GAAS,IACvB,CACF,CAmCA,MAAM,EACJ,YAAY,EAAU,CAAC,CAAC,CAAE,CACxB,IAAI,CAAC,OAAO,CAAG,CACjB,CACA,WAAa,EAAG,CAChB,KAAK,CAAK,CAAE,CACV,IAAI,CAAC,UAAU,EAAI,EACnB,IAAM,EAAoB,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,QACtD,GAA0B,CAAC,GAAG,CAA1B,EACF,OAEF,IAAM,EAAY,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAG,GAAmB,KAAK,CAAC,QAEpE,IAAK,IAAM,KADX,IAAI,CAAC,UAAU,CAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAoB,GACtC,GAAW,CAC/B,IAAM,EAAU,AA/CtB,SAAS,AAAmB,CAAO,EACjC,IAAM,EAAQ,EAAQ,OAAO,CAAC,OAAQ,IAAI,KAAK,CAAC,MAC1C,EAAU,CACd,KAAM,KAAK,EACX,MAAO,KAAK,EACZ,GAAI,KAAK,EACT,MAAO,KAAK,EACZ,SAAU,EAAE,AACd,EACA,IAAK,IAAM,KAAQ,EAAO,CACxB,IAAM,EAAQ,EAAK,OAAO,CAAC,KACrB,EAAgB,CAAC,IAAX,EAAe,EAAO,EAAK,KAAK,CAAC,EAAG,GAC1C,EAAkB,CAAC,IAAX,EAAe,GAAK,EAAK,KAAK,CAAC,EAAQ,GAAG,OAAO,CAAC,MAAO,IACvE,GAAc,GAAG,CAAb,EACF,EAAQ,QAAQ,CAAC,IAAI,CAAC,QACjB,GAAY,QAAQ,CAAhB,EACT,EAAQ,IAAI,GAAK,GACjB,EAAQ,IAAI,EAAI,CAAA,EAAG,OAAM;AAC/B,CAAC,MACU,GAAY,SAAS,CAAjB,EACT,EAAQ,KAAK,CAAG,OACX,GAAY,MAAM,CAAd,EACT,EAAQ,EAAE,CAAG,OACR,GAAY,UAAR,EAAiB,CAC1B,IAAM,EAAe,OAAO,QAAQ,CAAC,GACjC,OAAO,SAAS,CAAC,IAAiB,GAAgB,GAAK,EAAa,QAAQ,KAAO,IACrF,EAAQ,EADoF,GAC/E,CAAG,CAAA,CAEpB,CACF,CAEA,OADA,EAAQ,IAAI,CAAG,EAAQ,IAAI,EAAE,QAAQ,MAAO,IACrC,CACT,EAeyC,CAAA,EAAG,QAAQ;;AAEpD,CAAC,EACS,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,AACxB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAEzB,CACF,CACA,KAAM,CACJ,GAAI,IAAI,CAAC,UAAU,CACjB,CADmB,KACb,IAAI,EAAkB,uCAEhC,CACF,CACA,MAAM,UAA2B,gBAC/B,aAAc,CACZ,IAAI,EACJ,KAAK,CAAC,CACJ,MAAM,CAAU,EACd,EAAU,IAAI,EAAa,CACzB,QAAS,AAAC,IACR,EAAW,OAAO,CAAC,EACrB,CACF,EACF,EACA,UAAU,CAAK,EACb,EAAQ,IAAI,CAAC,EACf,EACA,QACE,EAAQ,GAAG,EACb,CACF,EACF,CACF,CAEA,SAAS,EAAc,CAAE,EACvB,GAAI,EAAG,QAAQ,CAAC,MACd,CADqB,KACf,IAAI,EAAkB,kDAEhC,CAMA,SAAS,EAAiB,CAAK,EAC7B,GAAI,CAAC,OAAO,SAAS,CAAC,IAAU,EAAQ,EACtC,CADyC,KACnC,IAAI,EAAkB,2CAEhC,CACA,SAAS,EAAmB,CAAO,EACjC,GAAI,EAAQ,QAAQ,CAAC,MACnB,CAD0B,KACpB,IAAI,EAAkB,uDAEhC,CAmBA,SAAS,EAAmB,CAAO,EACjC,IAAI,EAAS,GAEb,GADA,GAXF,AAWY,SAXH,AAAoB,CAAQ,EACnC,IAAI,EAAS,GACb,IAAK,IAAM,KAAW,GAAY,EAAE,CAAE,AACpC,EAAmB,GACnB,GAAU,CAAC,EAAE,EAAE,QAAQ;AAC3B,CAAC,CAEC,OAAO,CACT,EAGgC,EAAQ,QAAQ,EACxB,KAAK,IAAvB,EAAQ,KAAK,CAAa,CAnC9B,GAoCkB,AApCd,EAoCsB,KAAK,CApCrB,QAAQ,CAAC,MACjB,CADwB,KAClB,IAAI,EAAkB,sDAoC5B,GAAU,CAAC,OAAO,EAAE,EAAQ,KAAK,CAAC;AACtC,CAAC,AACC,CAaA,OAZsB,AAYf,KAZoB,GAAG,CAA1B,EAAQ,KAAK,GACf,EAAiB,EAAQ,KAAK,EAC9B,GAAU,CAAC,OAAO,EAAE,EAAQ,KAAK,CAAC;AACtC,CAAC,EAEoB,KAAK,GAAG,CAAvB,EAAQ,EAAE,GACZ,EAAc,EAAQ,EAAE,EACxB,GAAU,CAAC,IAAI,EAAE,EAAQ,EAAE,CAAC;AAChC,CAAC,EAEC,GApCF,AAoCY,SApCH,AAAgB,CAAI,EAC3B,IAAM,EAAQ,GAAM,MAAM,OAAS,EAAE,CACjC,EAAS,GACb,IAAK,IAAM,KAAQ,EACjB,GAAU,CAAC,AADa,MACP,EAAE,KAAK;AAC5B,CAAC,CAEC,OAAO,CACT,EA4B4B,EAAQ,IAAI,EACtC,GAAU,IAEZ,CAEA,IAAM,EAA2B,OAAO,0BACxC,SAAS,EAAc,CAAS,CAAE,CAAI,EACpC,GAAI,AAAY,KAAK,MAAZ,EAAE,EAA8B,KAAK,IAApB,EAAK,KAAK,EAAe,CAAC,EAAK,QAAQ,EAAE,OACjE,CADyE,MAClE,EAQT,GANgB,KAAK,GAAG,CAApB,EAAK,EAAE,EACT,EAAc,EAAK,EAAE,EAEJ,KAAK,GAAG,CAAvB,EAAK,KAAK,EACZ,EAAiB,EAAK,KAAK,EAEP,KAAK,GAAG,CAA1B,EAAK,QAAQ,CACf,IAAK,IAAM,KAAW,EAAK,QAAQ,CAAE,AACnC,EAAmB,GAGvB,OAAO,IAAI,MAAM,EAAW,KAC1B,CAAI,EAAQ,EAAM,EAAR,AAAM,EACd,AAAI,IADoB,AACX,EACJ,EAEF,QAAQ,GAAG,CAAC,EAAQ,EAAM,EAErC,EACF,CACA,CAP6C,QAOpC,EAAa,CAAS,EAC7B,OAAO,EAAmB,GAAa,QAAQ,GAAG,CAAC,EAAW,GAA4B,KAAK,CACjG,CCrLA,SAAS,EAAiB,CAAQ,CAAE,CAAI,EACtC,IAAM,EAAW,MAAO,IACtB,IAAI,EAAc,MAAM,EAAK,KAAK,CAAC,GACnC,GAAI,IAAgB,EAAO,CACzB,IAAM,EAAO,EAAa,EACtB,IAAQ,EAAmB,IAC7B,GAAc,EAAc,EAAa,EAAA,CAE7C,AAH+C,CAI/C,OAAO,CACT,EACA,OAAO,IAAI,EAAmB,UAC5B,GAAM,MAAE,CAAI,CAAE,MAAA,CAAK,CAAE,CAAG,MAAM,CAAC,UAC7B,GAAI,CACF,OAAO,MAAM,EAAS,IAAI,EAC5B,CAAE,MAAO,EAAO,CACd,MAAM,MAAM,EAAS,EACvB,EACF,CAAC,GACG,EAAc,MAAM,EAAK,KAAK,CAAC,EAAO,GAC1C,GAAI,IAAgB,EAAO,CACzB,IAAM,EAAO,EAAa,GACtB,GAAQ,EAAmB,IAC7B,GAAc,EAAc,EAAa,EAAA,CADE,AAG/C,CACA,MAAO,MAAE,EAAM,MAAO,CAAY,CACpC,EAAG,UACD,GAAI,CACF,MAAM,EAAS,MAAM,IACvB,CAAE,MAAO,EAAO,CACd,MAAM,MAAM,EAAS,EACvB,CACF,EACF,CE2LA,SAAS,EAAkB,CAAO,CAAE,EAAkB,CAAC,CAAC,EAUtD,OATA,EAAQ,OAAO,CAAC,CAAC,EAAO,KAClB,MAAM,OAAO,CAAC,CAAe,CAAC,EAAI,EACpC,CADuC,AACxB,CAAC,EAAI,CAAC,IAAI,CAAC,GACjB,AAAyB,KAAK,GAAG,EAAlB,CAAC,EAAI,CAC7B,CAAe,CAAC,EAAI,CAAG,CAAC,CAAe,CAAC,EAAI,CAAE,EAAM,CAEpD,CAAe,CAAC,EAAI,CAAG,CAE3B,GACO,CACT,6BD1KA,SAAS,EAAiB,CAAI,CAAE,EAAU,CAAC,CAAC,EAC1C,IAAM,EAAO,EAAQ,IAAI,EAAI,EAAE,CAe/B,OAAO,EAXW,IAAI,MAHE,AAGI,MAHG,CAcL,EAdQ,CAAC,EAAO,EAAW,CAAC,CAAC,CAAC,GAC/C,MAAM,EAAK,IAAI,CAAC,EAAM,EAvCxB,CACL,GAAG,CAsCiC,AAA6B,CArCjE,KADU,GAsCuD,AArCxD,EAAQ,OAAO,EAAI,CAAC,CAE/B,GAqC6C,KAC3C,CAAI,EAAQ,GAAG,CAAL,AACR,AAAmB,UAAf,AAAyB,OAAlB,EACF,QAAQ,GAAG,CAAC,EAAQ,GAEtB,EAAiB,EAAM,CAC5B,GAAG,CAAO,CACV,KAAM,IAAI,EAAM,EAAI,AACtB,EAEJ,GAEF,QE5EA,OAAM,EACJ,OAAQ,AACR,aAAY,EAAU,EAAE,CAAE,CACxB,IAAI,CAAC,OAAO,CAAG,IAAI,EAAQ,CAAC,IAAI,CAAC,CAAC,EAAG,IAAM,CAAC,EAAE,KAAK,GAAI,CAAC,CAAK,GAAD,AAAG,KAAK,GAAI,CAAC,CAC3E,CACA,KAAK,CAAO,CAAE,CACZ,IAAK,IAAM,KAAU,IAAI,CAAC,OAAO,CAC/B,AADiC,EAC1B,IAAI,GAAG,EAElB,CACF,CAEA,MAAM,EACJ,YAAY,CAAK,CAAE,CAAM,CAAE,EAAU,CAAC,CAAC,CAAE,CACvC,IAAI,CAAC,KAAK,CAAG,EACb,IAAI,CAAC,MAAM,CAAG,EACC,AACf,IADmB,EAA4B,EAAQ,OAAO,EACvD,IAAI,CAAC,GACZ,IAAI,CAAC,YAAY,CAAG,EAAQ,EAAQ,YAAY,EAChD,IAAI,CAAC,kBAAkB,CAAG,EAAQ,EAAQ,kBAAkB,CAC9D,CACA,YAAa,CACb,kBAAmB,AACnB,MAAK,CAAI,CAAE,CAAK,CAAE,CAAO,CAAE,CACzB,OAAO,EACL,CAAE,KAAM,CAAA,EAAG,EAAU,CAAC,EAAE,EAAK,IAAI,CAAC,KAAA,CAAM,CAAE,OAAQ,EAAQ,MAAO,AAAD,EAChE,AAAC,IACC,GAAM,aAAa,aAAc,GACjC,GAAM,aAAa,aAAc,EAAK,IAAI,CAAC,MACvC,EAAsB,KACxB,EAAQ,CADwB,CAE9B,CAAE,KAAM,+BAAgC,OAAQ,EAAQ,MAAO,AAAD,EAC9D,EAAA,EAGG,EAAU,IAAI,CAAC,YAAY,CAAE,CAAE,GAAG,CAAO,MAAE,QAAM,CAAM,EAAG,MAAO,CAAE,KAAM,CAAK,CAAE,MAAO,CAAM,CAAE,GAAG,EAAU,IACjH,IACI,EADE,EAAa,IAEb,EAAc,GAAY,MAAM,iBAAmB,EACrD,GAAe,IACjB,EAAc,GAAY,GADG,GACG,QAAQ,EAAW,OAAO,CAAC,MAAM,GAAI,EAAA,EAEvE,IAAM,EAAU,MAAM,EACpB,CAAE,KAAM,iBAAkB,QAAS,CAAY,EAC/C,IAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAO,EAAQ,IAEnC,EAAW,MAAM,EACrB,IAAI,CAAC,kBAAkB,CACvB,CAAE,GAAG,CAAQ,CAAE,MAAO,EAAQ,KAAM,EAAO,SAAQ,EACnD,CAAC,CAAE,MAAO,CAAM,CAAE,KAAM,CAAK,CAAE,QAAS,CAAQ,CAAE,GAAG,EAAU,GACtD,EACL,CAAE,KAAM,eAAgB,OAAQ,EAAS,MAAM,CAAE,QAAS,CAAY,EACtE,IAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAU,EAAU,EAAO,KAIlD,EAAS,MAAM,EACnB,CAAE,KAAM,kBAAmB,QAAS,CAAY,EAChD,IAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAU,EAAU,EAAO,WAErD,AAAI,EAAsB,GACjB,EACL,CAAE,GAF6B,EAEvB,gCAAiC,OAAQ,EAAS,MAAM,AAAC,EACjE,GAGG,CACT,IAGN,CACF,CAYA,MAAM,EACJ,iBAAkB,AAClB,aAAY,EAAU,CAAC,CAAC,CAAE,CAExB,GADA,IAAI,CAAC,iBAAiB,CAAG,EAAQ,qBAAqB,EAAI,EAAE,CACxD,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAK,IAAI,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,AAAC,GAAW,EAAO,IAAI,GAAG,IAAI,CACrG,CADuG,KACjG,AAAI,MAAM,yCAEpB,CACA,UAAU,CAAI,CAAE,EAAW,EAAE,CAAE,EAAO,EAAE,CAAE,EAAO,EAAE,CAAE,EAAQ,EAAE,CAAE,CAC/D,IAAK,IAAM,KAAU,IAAI,CAAC,iBAAiB,CAAE,AAC3C,GAAI,EAAO,SAAS,CAAC,GAAO,CAC1B,IAAM,EAAS,IAAI,CAAC,SAAS,CAAC,EAAO,SAAS,CAAC,GAAO,EAAU,EAAM,EAAM,GAE5E,OADA,EAAK,IAAI,CAAC,CAAC,EAAO,IAAI,IAAK,EAAS,EAC7B,CACT,CAEF,GAAI,aAAgB,KAGlB,CAHwB,MACxB,EAAK,IAAI,CAAC,GACV,EAAM,IAAI,CAAC,GACJ,CAAC,EAAM,EAAM,EAAM,EAAM,CAElC,GAAoB,UAAhB,AAA0B,OAAnB,EAET,OADA,EAAK,IAAI,CAAC,MAAwD,EAAS,EACpE,CAAC,EAAK,QAAQ,GAAI,EAAM,EAAM,EAAM,CAE7C,GAAI,aAAgB,MAAM,KAExB,CADA,EAAK,IAAI,CAAC,MAAsD,EAAS,EACrE,OAAO,KAAK,CAAC,EAAK,OAAO,KAAK,AACzB,CAAC,KAAM,EAAM,EAAM,EAAM,CAE3B,CAAC,EAAK,WAAW,GAAI,EAAM,EAAM,EAAM,CAEhD,GAAI,OAAO,KAAK,CAAC,GAEf,IAFsB,GACtB,EAAK,IAAI,CAAC,MAAqD,EAAS,EACjE,CAAC,KAAM,EAAM,EAAM,EAAM,CAElC,GAAI,aAAgB,IAElB,CAFuB,MACvB,EAAK,IAAI,CAAC,MAAqD,EAAS,EACjE,CAAC,EAAK,QAAQ,GAAI,EAAM,EAAM,EAAM,CAE7C,GAAI,aAAgB,OAElB,CAF0B,MAC1B,EAAK,IAAI,CAAC,MAAwD,EAAS,EACpE,CAAC,EAAK,QAAQ,GAAI,EAAM,EAAM,EAAM,CAE7C,GAAI,aAAgB,IAAK,CACvB,IAAM,EAAS,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,GAAO,EAAU,EAAM,EAAM,GAEtE,OADA,EAAK,IAAI,CAAC,MAAqD,EAAS,EACjE,CACT,CACA,GAAI,aAAgB,IAAK,CACvB,IAAM,EAAS,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,EAAK,OAAO,IAAK,EAAU,EAAM,EAAM,GAEhF,OADA,EAAK,IAAI,CAAC,MAAqD,EAAS,EACjE,CACT,CACA,GAAI,MAAM,OAAO,CAAC,GAQhB,IARuB,EAQhB,CAPM,EAAK,GAAG,CAAC,CAAC,EAAG,IACxB,AAAU,KAAK,GAAG,CAAd,GACF,EAAK,IAAI,CAAC,MAA2D,EAAU,EAAE,EAC1E,GAEF,IAAI,CAAC,SAAS,CAAC,EAAG,IAAI,EAAU,EAAE,CAAE,EAAM,EAAM,EAAM,CAAC,EAAE,EAEpD,EAAM,EAAM,EAAM,CAElC,GAAI,EAAS,GAAO,CAClB,IAAM,EAAO,CAAC,EACd,IAAK,IAAM,KAAK,GACJ,EADU,SAChB,GAAqC,YAAnB,OAAO,CAAI,CAAC,EAAE,AAAK,GAAY,CAGrD,CAAI,CAAC,EAAE,CAAG,IAAI,CAAC,SAAS,CAAC,CAAI,CAAC,EAAE,CAAE,IAAI,EAAU,EAAE,CAAE,EAAM,EAAM,EAAM,CAAC,EAAA,AAAE,EAE3E,MAAO,CAAC,EAAM,EAAM,EAAM,EAAM,AAClC,CACA,MAAO,CAAC,EAAM,EAAM,EAAM,EAAM,AAClC,CACA,YAAY,CAAI,CAAE,CAAI,CAAE,CAAI,CAAE,CAAO,CAAE,CACrC,IAAM,EAAM,CAAE,KAAM,CAAK,EAYzB,IAAK,IAAM,KAXP,GAAQ,GACV,EAAK,IADc,GACP,CAAC,CAAC,EAAU,KACtB,IAAI,EAAa,EACb,EAAa,OACjB,EAAS,OAAO,CAAC,AAAC,IAChB,EAAa,CAAU,CAAC,EAAW,CACnC,EAAa,CACf,GACA,CAAU,CAAC,EAAW,CAAG,EAAQ,EACnC,GAEiB,GAAM,CACvB,IAAM,EAAO,CAAI,CAAC,EAAE,CAChB,EAAa,EACb,EAAa,OACjB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAK,MAAM,CAAE,IAAK,AACpC,EAAa,CAAU,CAAC,EAAW,CACnC,EAAa,CAAI,CAAC,EAAE,CAEtB,IAAK,IAAM,KAAU,IAAI,CAAC,iBAAiB,CAAE,AAC3C,GAAI,EAAO,IAAI,GAAK,EAAM,CACxB,CAAU,CAAC,EAAW,CAAG,EAAO,WAAW,CAAC,CAAU,CAAC,EAAW,EAClE,KACF,CAEF,OAAQ,GACN,KAjHE,AAiHG,EACH,CAAU,CAAC,EAAW,CAAG,OAAO,CAAU,CAAC,EAAW,EACtD,KACF,KAAK,CAnHL,EAoHE,CAAU,CAAC,EAAW,CAAG,IAAI,EAJkB,GAIb,CAAU,CAAC,CAJQ,CAIG,EAAI,gBAC5D,KAF+C,AAGjD,IAHqD,CAGhD,CArHN,EAsHG,CAAU,CAAC,EAAW,CAAG,IACzB,GADgC,EAElC,CAFqC,IAEhC,CAvHA,EAwHH,CAAU,CAAC,EAAW,CAAG,KAAK,EAC9B,KACF,EANiD,GAAG,AAM/C,CAzHN,EA0HG,CAAU,CAAC,EAAW,CAAG,IAAI,IAAI,CAAU,CAAC,CAJG,CAIQ,EACvD,KACF,CAN0D,IAMrD,CA3HH,EA2HuD,CACvD,GAAM,EAAG,EAAS,CAJ6B,CAIvB,CAAG,CAJuB,AAIb,CAAC,EAAW,CAAC,KAAK,CAAC,mBADT,GAE/C,CAAU,CAAC,CAF0C,CAE/B,CAAG,IAAI,OAAO,EAAS,GAC7C,KACF,CACA,KAAK,AA/HN,EAgIG,CAAU,CAAC,EAAW,CAAG,IAAI,IAAI,CAAU,CAAC,EAAW,EACvD,KACF,KAAK,CAjIN,EAkIG,CAAU,CAAC,EAAW,CAAG,IAAI,CAJkB,GAAG,AAIjB,CAAU,CAAC,EAAW,CAE3D,CACF,CACA,OAAO,EAAI,IAAI,AACjB,CACF,CAeA,MAtByD,AAsBnD,EACJ,CAvB0D,WAuB9C,CAAU,CAAE,CAAO,CAAE,CAC/B,IAAI,CAAC,UAAU,CAAG,EAClB,IAAI,CAAC,OAAO,CAAG,EAAQ,GAAG,CAC1B,IAAI,CAAC,YAAY,CAAG,EAAQ,YAAY,EAAI,KAC5C,IAAI,CAAC,cAAc,CAAG,EAAQ,cAAc,EAAI,OAChD,IAAI,CAAC,cAAc,CAAG,EAAQ,MAAM,EAAI,IAAI,CAAC,cAAc,CAC3D,IAAI,CAAC,OAAO,CAAG,EAAQ,OAAO,EAAI,CAAC,CACrC,CACA,OAAQ,CACR,YAAa,AACb,eAAe,CACf,cAAe,CACf,OAAQ,AACR,OAAM,OAAO,CAAI,CAAE,CAAK,CAAE,CAAO,CAAE,OACjC,IAAI,EAxBN,AAA+B,QAwBf,IAxBZ,AAAuC,MAAhC,CADc,EAyBS,KAzBF,CAyBQ,EAAM,IAAI,CAAC,OAAO,CAAE,EAAS,EAAM,IAxBxD,OAAO,CACjB,EAAoB,GAEtB,CAsBD,AAAwB,MAAK,GAAG,GAAxB,WAAW,EACrB,GJrCN,AIqCgB,SJrCc,AAArB,CAAsB,CAAE,CAAC,EAChC,IAAM,EAAS,CAAE,GAAG,CAAC,AAAC,EACtB,IAAK,IAAM,KAAO,EAAG,AACf,MAAM,OAAO,CAAC,CAAC,CAAC,EAAI,EACtB,CADyB,AACnB,CAAC,EAAI,CAAG,IAAI,EAAQ,CAAM,CAAC,EAAI,KAAM,CAAC,CAAC,EAAI,CAAC,CAC9B,KAAK,GAAG,CAAnB,CAAC,CAAC,EAAI,GACX,MAAM,OAAO,CAAC,CAAM,CAAC,EAAI,EAC3B,CAD8B,AACxB,CAAC,EAAI,CAAG,IAAI,CAAM,CAAC,EAAI,CAAE,CAAC,CAAC,EAAI,CAAC,CACb,KAAK,GAAG,CAAxB,CAAM,CAAC,EAAI,CACpB,CAAM,CAAC,EAAI,CAAG,CAAC,CAAM,CAAC,EAAI,CAAE,CAAC,CAAC,EAAI,CAAC,CAEnC,CAAM,CAAC,EAAI,CAAG,CAAC,CAAC,EAAI,EAI1B,OAAO,CACT,EIqBqC,EAAS,CAAE,gBAAiB,EAAQ,WAAW,AAAC,EAAA,EAEjF,IAAM,EAAiB,MAAM,EAAM,IAAI,CAAC,cAAc,CAAE,EAAS,EAAM,GAEjE,EAAM,IAAI,IADA,AACI,MADE,EAAM,IAAI,CAAC,OAAO,CAAE,EAAS,EAAM,IAEzD,EAAI,QAAQ,CAAG,GAAG,EAAI,QAAQ,CAAC,OAAO,CAAC,MAAO,MAAM,CAlC3C,AAkCsD,EAlCjD,GAAG,CAAC,oBAAoB,IAAI,CAAC,MAkC2B,AAlCrB,CAmCjD,IAAM,EAAa,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAC7C,GAAuB,QAAnB,GAA4B,CAAC,CAAC,aAAsB,QAAA,CAAQ,EAAK,CAAC,EAAsB,GAAa,CACvG,IAAM,EAAe,MAAM,EAAM,IAAI,CAAC,YAAY,CAAE,EAAS,EAAM,GAC7D,EAAS,IAAI,IAAI,GAEvB,GADA,EAAO,YAAY,CAAC,MAAM,CAAC,OAAQ,EAAc,IAC7C,EAAO,QAAQ,GAAG,MAAM,EAAI,EAC9B,MAAO,CACL,KAF0C,AAEpC,KAAK,EACX,OAAQ,UACR,EACA,IAAK,EACL,OAAQ,EAAQ,MAAM,AACxB,CAEJ,CACA,MAAO,KACL,EACA,OAA2B,QAAnB,EAA2B,IAAI,CAAC,cAAc,CAAG,UACzD,EACA,KAAM,EACN,OAAQ,EAAQ,MAAM,AACxB,CACF,CACA,MAAM,OAAO,CAAQ,CAAE,CACrB,IAAM,EAAO,CAAC,EAAkB,EAAS,MAAM,EACzC,EAAe,MAAM,CAAC,UAC1B,IAAI,GAAW,EACf,GAAI,CACF,IAAM,EAAO,MAAM,EAAS,IAAI,GAEhC,OADA,GAAW,EACJ,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EACrC,CAAE,MAAO,EAAO,CACd,GAAI,CAAC,EACH,MAAM,AAAI,EADG,IACG,+EAAgF,CAC9F,MAAO,CACT,EAEF,OAAM,AAAI,MAAM,+BAAgC,CAC9C,MAAO,CACT,EACF,EACF,CAAC,GACD,GAAI,CAAC,EAAM,OACT,GAAI,EAAgB,GAClB,MAAM,EAAwB,EAEhC,EAHmC,KAG7B,IAAI,GAzEuB,EAyEiB,EAAS,EAzEpB,CAyEnB,GAA6C,CAxE9D,OAAO,OAAO,CAAC,GAAwB,IAAI,CAAC,CAAC,EAAG,EAAI,GAAK,EAAI,MAAM,GAAK,IAAS,CAAC,EAAE,EAAI,iCAwEvB,CAClE,OAAQ,EAAS,MAAM,CACvB,KAAM,CAAE,GAAG,CAAQ,CAAE,KAAM,CAAa,CAC1C,EACF,CACA,OAAO,CACT,CACF,CAEA,MAAM,GACJ,YAAY,CAAc,CAAE,CAC1B,IAAI,CAAC,cAAc,CAAG,CACxB,CACA,UAAU,CAAI,CAAE,QACd,AAAI,EAAsB,GACjB,EAAiB,EADO,AACD,CAC5B,MAAO,MAAO,GAAU,IAAI,EAAC,CAAA,AAAU,CAAC,GAAO,GAC/C,MAAO,MAAO,GACL,IAAI,EAAW,CACpB,KAAM,IAAI,EAAC,CAAA,AAAU,CAAC,CLrLzB,aAAiB,EKqLoB,ELrLA,IAAI,EAAU,EAAtB,sBAA+C,CACjF,QAAS,wBACT,OACF,AADS,EACT,EKkL+C,MAAM,IAAI,GAC/C,MAAO,CACT,EAEJ,GAEK,IAAI,EAAC,CAAU,AAAV,CAAW,GAAM,EAC/B,CACA,CAAA,CAAU,CAAC,CAAI,CAAE,CAAc,EAC7B,GAAM,CAAC,EAAM,EAAO,EAAM,EAAM,CAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,GAC3D,EAAwB,IAAjB,EAAM,MAAM,CAAS,KAAK,EAAI,EAC3C,GAAI,CAAC,GAAmC,GAAG,CAApB,EAAM,MAAM,CACjC,MAAO,MACL,OACA,CACF,EAEF,IAAM,EAAO,IAAI,SAKjB,OAJA,EAAK,GAAG,CAAC,OAAQ,EAAc,MAAE,OAAM,OAAM,CAAK,IAClD,EAAM,OAAO,CAAC,CAAC,EAAM,KACnB,EAAK,GAAG,CAAC,EAAE,QAAQ,GAAI,EACzB,GACO,CACT,CACA,YAAY,CAAI,CAAE,QAChB,AAAI,EAAsB,GACjB,EAAiB,EADO,AACD,CAC5B,MAAO,MAAO,GAAU,IAAI,EAAC,CAAA,AAAY,CAAC,GAC1C,MAAO,MAAO,IACZ,GAAI,CAAC,CAAC,aAAa,CAAA,CAAU,CAC3B,EAD8B,KACvB,EAET,IAAM,EAAe,IAAI,EAAC,CAAA,AAAY,CAAC,EAAE,IAAI,SAC7C,AAAI,EAAgB,GACX,EAAwB,EAAc,CAAE,MAAO,CADrB,AACuB,GAEnD,IAAI,EAAW,CACpB,KAAM,EACN,MAAO,CACT,EACF,CACF,GAEK,IAAI,EAAC,CAAA,AAAY,CAAC,EAC3B,EACA,CAAA,AAAY,CAAC,CAAI,EACf,GAAa,KAAK,GAAG,CAAjB,EACF,OAAO,AAET,GAAI,CAAC,CAFS,AAER,aAAgB,QAAA,CAAQ,CAC5B,EAD+B,KACxB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,EAAK,IAAI,CAAE,EAAK,IAAI,EAAI,EAAE,EAEnE,IAAM,EAAa,KAAK,KAAK,CAAC,EAAK,GAAG,CAAC,SACvC,OAAO,IAAI,CAAC,cAAc,CAAC,WAAW,CACpC,EAAW,IAAI,CACf,EAAW,IAAI,EAAI,EAAE,CACrB,EAAW,IAAI,CACf,AAAC,GAAM,EAAK,GAAG,CAAC,EAAE,QAAQ,IAE9B,CACF,CAEA,MAAM,WAAwB,EAC5B,YAAY,CAAU,CAAE,CAAO,CAAE,CAI/B,KAAK,CADa,AACZ,IADgB,EADH,IAAI,GADA,IAAI,EAA0B,IAEE,EAAZ,CAC1B,EAAY,EAC/B,CACF,CCpYA,ADgYiD,MChY3C,WAAiC,EACrC,mBAAmB,CAAO,CAAE,CAC1B,IAAK,IAAM,KAAU,IAAI,CAAC,OAAO,CAAE,AACjC,EAAO,kBAAkB,GAAG,EAEhC,CACF,CAEA,MAAM,GACJ,KAAM,CACN,qBAAsB,CACtB,mBAAoB,AACpB,aAAY,CAAO,CAAE,CACJ,AACf,IADmB,GAAyB,EAAQ,OAAO,EACpD,kBAAkB,CAAC,GAC1B,IAAI,CAAC,KAAK,CAAG,EAAQ,KAAK,EAAI,WAAW,KAAK,CAAC,IAAI,CAAC,YACpD,IAAI,CAAC,qBAAqB,CAAG,EAC7B,IAAI,CAAC,mBAAmB,CAAG,EAAQ,EAAQ,mBAAmB,CAChE,CACA,MAAM,KAAK,CAAe,CAAE,CAAO,CAAE,CAAI,CAAE,CAAK,CAAE,CAChD,IAAM,EAAU,AF8OpB,SAAS,AAAe,CAAO,CAAE,EAAU,CAAC,CAAC,EAC3C,IAAM,EA9BR,AA8BkB,SA9BM,AAAf,CAAsB,CAAE,EAAe,IAAI,OAAS,EAC3D,IAAK,GAAM,CAAC,EAAK,EAAM,GAAI,OAAO,OAAO,CAAC,GACxC,GAAI,GAD8C,GACxC,OAAO,CAAC,GAChB,IAAK,EADmB,EACb,KAAK,EACd,EAAa,GADQ,GACF,CAAC,EAAK,QAER,KAAK,GAAG,CAAlB,GACT,EAAa,MAAM,CAAC,EAAK,GAG7B,OAAO,CACT,EAmBiC,EAAQ,OAAO,EACxC,EAAO,AAzEf,SAAqB,AAAZ,CAAgB,CAAE,CAAO,CAAE,EAAU,CAAC,CAAC,EAC9C,IAAM,EAA4B,EAAQ,GAAG,CAAC,uBAG9C,GAFA,EAAQ,MAAM,CAAC,gBACf,EAAQ,MAAM,CAAC,uBACF,KAAK,GAAG,CAAjB,GAGJ,GAAI,aAAgB,KAAM,eAOxB,OANA,EAAQ,GAAG,CAAC,eAAgB,EAAK,IAAI,EACrC,EAAQ,GAAG,CAAC,iBAAkB,EAAK,IAAI,CAAC,QAAQ,IAChD,EAAQ,GAAG,CACT,sBACA,IHFE,EAAkB,CADU,EGG0B,MHHlB,OGGkC,KAAO,EAAlD,AAAuD,IAAI,CAAG,QHF9D,OAAO,CAAC,KAAM,OACzC,EAAsB,mBAAmB,GAAU,OAAO,CAAC,UAAW,AAAC,GAAM,CAAC,CAAC,EAAE,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,IAAI,WAAW,GAAA,CAAI,EAAE,OAAO,CAAC,eAAgB,CAAC,EAAK,IAAQ,OAAO,YAAY,CAAC,OAAO,QAAQ,CAAC,EAAK,MAC7M,CAAC,kBAAkB,EAAE,EAAgB,oBAAoB,EAAE,EAAA,CAAqB,GGE9E,CACT,QACA,AAAI,aAAgB,UAAU,AAG1B,aAAgB,gBAFX,CAE4B,CAGjC,EAAsB,IACxB,EAAQ,CADuB,EACpB,CAAC,eAAgB,qBACrB,AAjJX,SAAS,AAAc,CAAQ,CAAE,EAAU,CAAC,CAAC,EAC3C,IAMI,EACA,EAPE,EAAmB,EAAQ,6BAA6B,GAAI,EAC5D,EAAoB,EAAQ,8BAA8B,EAAI,IAC9D,EAAmB,EAAQ,6BAA6B,EAAI,GAC5D,EAAwB,EAAQ,kCAAkC,GAAI,EACtE,EAAiB,EAAQ,2BAA2B,EAAI,GAC1D,EAAY,GA2EhB,OAAO,AAxEQ,IAAI,eAAe,CAChC,MAAM,CAAU,EACd,EAAO,EAAU,yBACb,GACF,EAAW,OAAO,CAAC,EAAmB,CACpC,OAFuB,EAEb,CAAC,EACb,AAD4B,GAGhC,EACA,MAAM,KAAK,CAAU,EACnB,GAAI,CACE,IACF,EAAU,YADU,AACE,KACpB,EAAW,OAAO,CAAC,EAAmB,CACpC,SAAU,CAAC,EAAiB,AAC9B,IACA,GAAM,SAAS,YACjB,EAAG,EAAA,EAEL,IAAM,EAAQ,MAAM,EAAiB,EAAM,IAAM,EAAS,IAAI,IAE9D,GADA,cAAc,GACV,EACF,OAEF,EAHe,EAGT,EAAO,EAAa,EAAM,KAAK,EACrC,GAAI,CAAC,EAAM,IAAI,EAAoB,KAAK,IAArB,EAAM,KAAK,EAAwB,KAAK,IAAd,EAAiB,CAC5D,IAAM,EAAQ,EAAM,IAAI,CAAG,OAAS,UACpC,EAAW,OAAO,CAAC,EAAmB,CACpC,GAAG,CAAI,OACP,EACA,KAAM,EAAc,EAAM,KAAK,CACjC,IACA,GAAM,SAAS,EACjB,CACI,EAAM,IAAI,EAAE,CACd,EAAW,KAAK,GAChB,GAAM,MAEV,CAAE,MAAO,EAAK,CAEZ,GADA,cAAc,GACV,EACF,OAEE,EAHW,WAGI,GACjB,EAAW,OADkB,AACX,CAAC,EAAmB,CACpC,GAAG,EAAa,EAAI,CACpB,MAAO,QACP,KAAM,EAAc,EAAI,IAAI,CAC9B,IACA,GAAM,SAAS,SACf,EAAW,KAAK,KAEhB,EAAa,EAAM,GACnB,EAAW,KAAK,CAAC,IAEnB,GAAM,KACR,CACF,EACA,MAAM,SACJ,GAAI,CACF,GAAY,EACZ,cAAc,GACd,GAAM,SAAS,aACf,MAAM,EAAiB,EAAM,IAAM,EAAS,MAAM,KACpD,CAAE,MAAO,EAAG,CAEV,MADA,EAAa,EAAM,GACb,CACR,QAAU,CACR,GAAM,KACR,CACF,CACF,GAAG,WAAW,CAAC,IAAI,kBAErB,EA+DyB,EAAM,KAE7B,EAAQ,GAAG,CAAC,eAAgB,oBACrB,EAAc,IACvB,EA6C2B,EAAQ,IAAI,CAAE,EAAS,GAChD,OAAO,IAAI,QAAQ,EAAQ,GAAG,CAAE,CAC9B,OAAQ,EAAQ,MAAM,CACtB,OAAQ,EAAQ,MAAM,SACtB,OACA,CACF,EACF,EEvPmC,EAAiB,IAAI,CAAC,qBAAqB,EAO1E,OADqB,AACd,AFuPX,SAAS,AAAuB,CAAQ,CAAE,EAAU,CAAC,CAAC,EACpD,MAAO,AEzPuC,CF0P5C,KAAM,EAAK,IAAM,CA9HrB,SAAS,AAAe,CAAE,CAAE,EAAU,CAAC,CAAC,EACtC,OAAO,EACL,CAAE,KAAM,sBAAuB,OAAQ,EAAQ,MAAM,AAAC,EACtD,UACE,IAAM,EAAqB,EAAG,OAAO,CAAC,GAAG,CAAC,uBAC1C,GAAkC,AAA9B,iBAAO,EAAiC,CAC1C,IAAM,EH6Cd,AG7CyB,SH6ChB,AAAkC,CAAkB,EAC3D,IAAM,EAA2B,EAAmB,KAAK,CAAC,iCAC1D,GAAI,GAAmE,UAAU,AAAjD,OAAO,CAAwB,CAAC,EAAE,CAChE,OAAO,EAAsB,CAAwB,CAAC,EAAE,EAE1D,IAAM,EAAuB,EAAmB,KAAK,CAAC,+BACtD,GAAI,GAA2D,UAAU,AAA7C,OAAO,CAAoB,CAAC,EAAE,CACxD,OAAO,CAAoB,CAAC,EAAE,CAAC,OAAO,CAAC,OAAQ,IAEnD,EGtD2D,IAAuB,OACpE,EAAQ,MAAM,EAAG,IAAI,GAC3B,OAAO,IAAI,KAAK,CAAC,EAAM,CAAE,EAAU,CACjC,KAAM,EAAM,IAAI,AAClB,EACF,CACA,IAAM,EAAc,EAAG,OAAO,CAAC,GAAG,CAAC,gBACnC,GAAI,CAAC,GAAe,EAAY,UAAU,CAAC,oBAEzC,CAF8D,MAEvD,EADM,MAAM,EAAG,IAAI,IAG5B,CAF4B,EAExB,EAAY,UAAU,CAAC,uBACzB,CADiD,MAC1C,MAAM,EAAG,QAAQ,GAE1B,GAAI,EAAY,UAAU,CAAC,qCAEzB,CAF+D,MAExD,IAAI,gBADE,AACc,MADR,EAAG,IAAI,IAG5B,GAAI,EAAY,UAAU,CAAC,qBACzB,CAD+C,MACxC,AAnLf,SAAS,AAAgB,CAAM,CAAE,EAAU,CAAC,CAAC,EAC3C,IAEI,EAFE,EAAc,GAAQ,YAAY,IAAI,mBAAqB,YAAY,IAAI,GAC3E,EAAS,GAAa,YAExB,GAAc,EAClB,OAAO,IAAI,EAAmB,UAC5B,IAAS,EAAU,iCACnB,GAAI,CACF,MAAO,CAAM,CACX,GAAe,KAAK,GAAG,CAAnB,EACF,MAAO,CAAE,KAAM,GAAM,MAAO,KAAK,CAAE,EAErC,GAAM,MAAE,CAAI,CAAE,MAAA,CAAK,CAAE,CAAG,MAAM,EAAiB,EAAM,IAAM,EAAO,IAAI,IACtE,GAAI,EAAM,CACR,GAAI,EACF,MAAM,IAAI,CADK,CACM,wBAEvB,MAAO,CAAE,MAAM,EAAM,MAAO,KAAK,CAAE,CACrC,CACA,OAAQ,EAAM,KAAK,EACjB,IAAK,UAAW,CACd,IAAI,EAAU,EAAmB,EAAM,IAAI,EAK3C,OAJI,EAAmB,KACrB,EAAU,EAAc,CADO,CACE,EAAA,EAEnC,GAAM,SAAS,WACR,CAAE,MAAM,EAAO,MAAO,CAAQ,CACvC,CACA,IAAK,QAAS,CACZ,IAAI,EAAQ,IAAI,EAAW,CACzB,KAAM,EAAmB,EAAM,IAAI,CACrC,EAGA,OAFA,EAAQ,EAAc,EAAO,GAC7B,GAAM,SAAS,SACT,CACR,CACA,IAAK,OAAQ,CACX,IAAI,EAAQ,EAAmB,EAAM,IAAI,EAKzC,OAJI,EAAmB,KACrB,EAAQ,CADqB,CACP,EAAO,EAAA,EAE/B,GAAM,SAAS,QACR,CAAE,MAAM,EAAM,MAAO,CAAM,CACpC,CACA,QACE,GAAM,SAAS,kBAEnB,CACF,CACF,CAAE,MAAO,EAAG,CAIV,MAHI,AAAE,CAAD,YAAc,GACjB,EAAa,EAAM,EAAG,CADK,EAGvB,CAH0B,AAIlC,CACF,EAAG,MAAO,IACR,GAAI,CACa,QAAQ,CAAnB,IACF,GAAc,EACd,GAAM,SAAS,cAEjB,MAAM,EAAiB,EAAM,IAAM,GAAQ,SAC7C,CAAE,MAAO,EAAG,CAEV,MADA,EAAa,EAAM,EAAG,GAChB,CACR,QAAU,CACR,GAAM,KACR,CACF,EACF,EA8G+B,EAAG,IAAI,CAAE,GAElC,GAAI,EAAY,UAAU,CAAC,cACzB,CADwC,MACjC,MAAM,EAAG,IAAI,GAEtB,IAAM,EAAO,MAAM,EAAG,IAAI,GAC1B,OAAO,IAAI,KAAK,CAAC,EAAK,CAAE,OAAQ,CAC9B,KAAM,EAAK,IAAI,AACjB,EACF,EAEJ,GA0FoC,EAAU,IAC1C,OAAQ,EAAS,MAAM,CACvB,IAAI,SAAU,CACZ,IAAM,EAAU,EAAkB,EAAS,OAAO,EAElD,OADA,OAAO,cAAc,CAAC,IAAI,CAAE,UAAW,CAAE,MAAO,EAAS,UAAU,CAAK,GACjE,CACT,EACA,IAAI,QAAQ,MAAO,CACjB,OAAO,cAAc,CAAC,IAAI,CAAE,UAAW,CAAE,MAAO,UAAU,CAAK,EACjE,CACF,CACF,EE1Q0B,MAAM,EAC1B,IAAI,CAAC,mBAAmB,CACxB,CAAE,GAAG,CAAO,SAAE,OAAS,QAAM,EAAO,KAAM,CAAE,SAAU,QAAS,CAAE,EACjE,CAAC,CAAE,QAAS,CAAQ,CAAE,KAAM,CAAK,CAAE,MAAO,CAAM,MAAE,CAAI,CAAE,GAAG,EAAU,GAAK,IAAI,CAAC,KAAK,CAAC,EAAU,EAAM,EAAU,EAAO,IAE7D,CAAE,OAAQ,EAAQ,MAAM,AAAC,EAEtF,CACF,CAEA,MAAM,WAAgB,GACpB,YAAY,CAAO,CAAE,CAEnB,KAAK,CADc,AACb,IADiB,GAAgB,GACrB,EACpB,CACF,oDCbO,IAAM,EAET,CAWF,WAAY,CAAC,EAAU,IAAU,WAAW,EAAU,GACtD,EAD2D,WAC7C,AAAC,GAAc,aAAa,GAE1C,MAFmD,MAEtC,CAAC,EAAU,IAAU,YAAY,EAAU,GACxD,EAD6D,YAC9C,AAAC,GAAe,cAAc,EAC/C,EA2Ea,EAAiB,IA9DvB,AAdkD,AA4EvB,MA9DmC,EAOnE,CAAkC,CAAA,GAClC,EAAkB,AAsD6B,CAtD7B,CAElB,mBACE,CAAA,CACM,CAqBN,IAAA,CAAA,CAAA,CAAK,CAAY,CAInB,CAEA,WAAW,CAAA,CAA2B,CAAA,CAA+B,CAInE,OAAO,IAAA,CAAA,CAAA,CAAK,CAAU,UAAA,CAAW,EAAU,EAC7C,CAEA,EAHkD,WAGrC,CAAA,CAA6C,CACxD,IAAA,CAAA,CAAA,CAAK,CAAU,YAAA,CAAa,EAC9B,CAEA,MAHuC,MAG3B,CAAA,CAA2B,CAAA,CAA+B,CAIpE,OAAO,IAAA,CAAA,CAAA,CAAK,CAAU,WAAA,CAAY,EAAU,EAC9C,CAEA,EAHmD,YAGrC,CAAA,CAA8C,CAC1D,IAAA,CAAA,CAAA,CAAK,CAAU,aAAA,CAAc,EAC/B,CACF,EAWO,KAboC,IAa3B,EAAqB,CAAA,EAAiC,AACpE,WAAW,EAAU,CAAC,CACxB,oFCtIA,IAAA,EAA+B,EAAA,CAAA,AAAtB,CAAsB,MA4FxB,SAAS,IAAQ,CAEjB,CA9FwB,CA4FR,OAEP,EACd,CAAA,CACA,CAAA,EACS,AACT,MAA0B,YAAnB,OAAO,EACT,EAAmC,GACpC,CACN,CAF+C,AAIxC,SAAS,EAAe,CAAA,EAAiC,AAC9D,MAAwB,UAAjB,OAAO,GAAsB,GAAS,GAAK,IAAU,GAC9D,CAEO,SAAS,EAAe,CAAA,CAAmB,CAAA,EAA4B,AAC5E,OAAO,KAAK,GAAA,CAAI,GAAa,IAAa,CAAA,CAAK,GAA/B,EAAoC,GAAA,CAAI,EAAG,CAAC,CAC9D,CAEO,SAAS,EAMd,CAAA,CAGA,CAAA,EACuB,AACvB,MAA4B,YAArB,OAAO,EAA2B,EAAU,GAAS,CAC9D,CAEO,AAHmD,SAG1C,EAMd,CAAA,CACA,CAAA,EACqB,AACrB,MAA0B,YAAnB,OAAO,EAAyB,EAAQ,GAAS,CAC1D,CADsD,AAG/C,SAAS,EACd,CAAA,CACA,CAAA,EAEA,AADS,GACH,CACJ,OAAO,KAAA,OACP,CAAA,CACA,aAAA,WACA,CAAA,UACA,CAAA,OACA,CAAA,CACF,CAAI,EAEJ,GAAI,GACF,GAAI,EACF,EAFU,EAEN,CADK,CACC,SAAA,GAAc,EAAsB,EAAU,EAAM,OAAO,EACnE,CADsE,MAC/D,CACT,MACF,GAAW,CAAC,EAAgB,EAAM,QAAA,CAAU,GAC1C,KADkD,EAC3C,CAD8C,AAEvD,CAGF,GAAa,QAAT,EAAgB,CAClB,IAAM,EAAW,EAAM,QAAA,CAAS,EAChC,GAAa,WAAT,GAAqB,CAAC,GAGb,OAHuB,MAGhC,GAAuB,EAFzB,OAAO,CAE4B,AAGvC,QAEqB,WAAjB,OAAO,GAAuB,EAAM,OAAA,CAAQ,IAAM,CAAA,GAAO,EAIzD,GAAe,IAAgB,EAAM,KAAA,CAAM,WAAA,EAAa,GAIxD,IAAa,CAAC,EAAU,EAAK,CAKnC,CAEO,CAP+B,QAOtB,EACd,CAAA,CACA,CAAA,EACS,AACT,GAAM,OAAE,CAAA,QAAO,CAAA,WAAQ,CAAA,aAAW,CAAA,CAAY,CAAI,EAClD,GAAI,EAAa,CACf,GAAI,CAAC,EAAS,OAAA,CAAQ,WAAA,CACpB,CADiC,MAC1B,EAET,GAAI,GACF,GAAI,CADK,CACG,EAAS,OAAA,CAAQ,WAAW,IAAM,EAAQ,GACpD,OAAO,CADwD,AAEjE,GAFoE,GAGtE,GAAW,CAAC,EAAgB,EAAS,OAAA,CAAQ,WAAA,CAAa,GACxD,OAAO,CAD4D,AAGvE,GAH0E,MAKtE,GAAU,EAAS,KAAA,CAAM,MAAA,GAAW,CAAA,GAAQ,AAI5C,MAAa,CAAC,EAAU,EAAQ,CAKtC,CAEO,CAPkC,QAOzB,EACd,CAAA,CACA,CAAA,EAGA,AAFQ,MAED,AADQ,IAAS,gBAAkB,CAAA,EAC5B,EAChB,CAMO,KAPiB,IAOR,EAAQ,CAAA,EAA0C,AAChE,OAAO,KAAK,SAAA,CAAU,EAAU,CAAC,EAAG,IAClC,EAAc,GAAG,AACb,OAAO,IAAA,CAAK,GACT,AADY,IACZ,CAAK,EACL,MAAA,CAAO,CAAC,EAAQ,KACf,CAAA,CAAO,CADgB,CACb,CAAA,AAAI,CAAA,CAAI,EAAG,CAAA,AACd,GACN,CAAC,CAAQ,EACd,EAER,CAMO,SAAS,EAAgB,CAAA,CAAQ,CAAA,EAAiB,OACvD,AAAI,IAAM,GAAG,AAIT,OAAO,GAAM,OAAO,GAAG,EAIvB,KAAK,GAAkB,UAAb,OAAO,GAAkB,AAAa,UAAU,OAAhB,GACrC,OAAO,IAAA,CAAK,CAAC,EAAE,KAAA,CAAM,AAAC,GAAQ,EAAgB,CAAA,CAAE,EAAG,CAAA,AAAG,CAAA,CAAE,EAAI,CAAC,AAAF,CAItE,CAEA,IAAM,EAAS,OAAO,SAAA,CAAU,cAAA,CA2DzB,SAAS,EACd,CAAA,CACA,CAAA,EACS,AACT,GAAI,CAAC,GAAK,OAAO,IAAA,CAAK,CAAC,EAAE,MAAA,GAAW,OAAO,IAAA,CAAK,CAAC,EAAE,MAAA,CACjD,CADyD,MAClD,EAGT,IAAA,IAAW,KAAO,EAAG,AACnB,GAAI,CAAA,CAAE,EAAG,CAAA,EAAM,CAAA,CAAE,EAAG,CAAA,AAClB,CADqB,MACd,EAIX,OAAO,CACT,CAEO,SAAS,EAAa,CAAA,EAAyC,AACpE,OAAO,MAAM,OAAA,CAAQ,IAAU,CAAL,CAAW,MAAA,GAAW,OAAO,IAAA,CAAK,GAAO,EAAF,IAAE,AACrE,CAGO,SAAS,EAAc,CAAA,EAA2C,AACvE,GAAI,CAAC,EAAmB,CAAC,EACvB,CAD0B,MACnB,EAIT,IAAM,EAAO,EAAE,WAAA,CACf,GAAa,KAAA,GAAW,CAApB,EACF,OAAO,EAIT,IAAM,EAAO,EAAK,SAAA,QACd,CAAC,EAAmB,IAAI,CAKxB,CAAC,CAL0B,CAKrB,cAAA,CAAe,eAAe,GAAG,AAKvC,OAAO,cAAA,CAAe,CAAC,IAAM,OAAO,SAAA,AAM1C,CAEA,CARqD,QAQ5C,EAAmB,CAAA,EAAiB,AAC3C,MAAO,AAAsC,2BAA/B,SAAA,CAAU,QAAA,CAAS,IAAA,CAAK,CAAC,CACzC,CAEO,SAAS,EAAM,CAAA,EAAgC,AACpD,OAAO,IAAI,QAAQ,AAAC,IAClB,EAAA,MAD8B,QAC9B,CAAe,UAAA,CAAW,EAAS,EACrC,CAAC,CACH,CAEO,EAJuC,OAI9B,EAGd,CAAA,CAA6B,CAAA,CAAa,CAAA,EAA0B,MACpE,AAAI,AAAqC,YAAY,OAA1C,EAAQ,iBAAA,CACV,EAAQ,iBAAA,CAAkB,EAAU,GAClC,CADsC,AACR,MAAtB,CAA6B,gBAA7B,CAxHd,AAsII,SAtIK,EAAiB,CAAA,CAAQ,CAAA,CAAQ,EAAQ,CAAA,EAAQ,AAC/D,GAAI,IAAM,EACR,CADW,MACJ,EAGT,GAAI,EAAQ,IAAK,OAAO,EAExB,IAAM,EAAQ,EAAa,CAAC,GAAK,EAAa,CAAC,EAE/C,GAAI,CAAC,GAAS,CAAA,CAAE,EAAc,CAAC,GAAK,EAAc,EAAC,CAAA,CAAI,CAAA,MAAO,EAG9D,IAAM,EAAQ,CADC,EAAQ,EAAI,OAAO,IAAA,CAAK,EAAC,EACnB,MAAA,CACf,EAAS,EAAQ,EAAI,OAAO,IAAA,CAAK,CAAC,EAClC,EAAQ,EAAO,MAAA,CACf,EAAY,EAAQ,AAAI,MAAM,GAAS,CAAC,CAAL,CAErC,EAAa,EAEjB,IAAA,IAAS,EAAI,EAAG,EAAI,EAAO,IAAK,CAC9B,IAAM,EAAW,EAAQ,EAAI,CAAA,CAAO,CAAC,CAAA,CAC/B,EAAQ,CAAA,CAAE,EAAG,CAAA,AACb,EAAQ,CAAA,CAAE,EAAG,CAAA,AAEnB,GAAI,IAAU,EAAO,CACnB,CAAA,CAAK,EAAG,CAAA,AAAI,GACR,EAAQ,EAAI,EAAQ,EAAO,IAAA,CAAK,EAAG,EAAG,EAAG,CAAA,IAC7C,QACF,CAEA,GACY,OAAV,GACU,OAAV,GACiB,UAAjB,OAAO,GACU,UAAjB,OAAO,EACP,CACA,CAAA,CAAK,EAAG,CAAI,AAAJ,EACR,QACF,CAEA,IAAM,EAAI,EAAiB,EAAO,EAAO,EAAQ,CAAC,EAClD,CAAA,CAAK,EAAG,CAAA,AAAI,EACR,IAAM,GAAO,GACnB,AADmB,CAGnB,OAAO,IAAU,GAAS,IAAe,EAAQ,EAAI,CACvD,EAwF4B,EAAU,GAE7B,CACT,AAH0C,CAWnC,SAAS,EAAY,CAAA,CAAiB,CAAA,CAAS,EAAM,CAAA,EAAa,AACvE,IAAM,EAAW,CAAC,GAAG,EAAO,EAAI,CAChC,CADgC,MACzB,GAAO,EAAS,MAAA,CAAS,EAAM,EAAS,KAAA,CAAM,CAAC,EAAI,CAC5D,CAEO,SAAS,EAAc,CAAA,CAAiB,CAAA,CAAS,EAAM,CAAA,EAC5D,AADyE,IACnE,EAAW,CAAC,KAAS,CAAH,CAAQ,CAChC,EADgC,KACzB,GAAO,EAAS,MAAA,CAAS,EAAM,EAAS,KAAA,CAAM,EAAG,CAAA,CAAE,EAAI,CAChE,CAEO,IAAM,EAAY,OAAO,EAGzB,CAHkB,QAGT,EAId,CAAA,CAIA,CAAA,AAXuB,EAYiB,MAYxC,AAAI,CAAC,EAAQ,OAAA,EAAW,GAAc,eAC7B,CAD6C,GACvC,EAAa,cAAA,CAGxB,AAAC,EAAQ,OAAA,EAAW,EAAQ,OAAA,GAAY,EAKrC,EAAQ,OALwC,AAKxC,CAJN,IACL,QAAQ,MAAA,CAAO,AAAI,MAAM,CAAA,kBAAA,EAAqB,EAAQ,SAAS,CAAA,CAAA,CAAG,CAAC,CAIzE,CAEO,SAAS,EACd,CAAA,CACA,CAAA,EACS,MAET,AAA4B,YAAxB,AAAoC,OAA7B,EACF,KAAgB,GAGlB,CAAC,CAAC,CACX,AAJiC,CAM1B,CANiB,QAMR,EACd,CAAA,CACA,CAAA,CACA,CAAA,EAC6B,AAC7B,IACI,EADA,GAAW,EAsBf,OAnBA,OAAO,cAAA,CAAe,EAAQ,SAAU,CACtC,WAAY,GACZ,IAAK,KACH,CADS,GACE,IACP,IAIJ,EALqB,CAKV,EACP,CALU,CAKH,OAAA,CACT,CADkB,GAGlB,EAAO,MAFK,UAEL,CAAiB,QAAS,EAAa,CAAE,MAAM,CAAK,CAAC,GAPrD,EAYb,CAAC,EAEM,CACT,qLA1ZwB,OAAO,2CAAW,eAAe,UAAU,sOCxFnE,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,SAAS,EAAqB,CAAI,CAAE,EAAQ,CAAC,CAAC,EAC5C,MAAO,CAAC,EAAM,CACZ,GAAmB,KAAK,IAArB,EAAM,KAAK,CAAc,CAAE,MAAO,EAAM,KAAK,AAAC,EAAI,CAAC,CAAC,CACvD,GAAkB,KAAK,IAApB,EAAM,IAAI,CAAc,CAAE,KAAM,EAAM,IAAI,AAAC,EAAI,CAAC,CAAC,CACpD,GAAuB,KAAK,IAAzB,EAAM,SAAS,CAAc,CAAE,UAAW,EAAM,SAAU,AAAD,EAAK,CAAC,CAAC,AACrE,EAAE,AACJ,CA+EA,SAAS,EAAe,CAAK,CAAE,CAAO,SACpC,AAAI,EAAM,MAAM,EAAI,EACX,EAEF,EAAM,GAHgB,EAGX,CAAC,EAAM,MAAM,CAAG,EACpC,CAEA,IAAM,EAA2B,OAAO,8DAiKxC,SAAS,EAAkB,CAAM,CAAE,EAAU,CAAC,CAAC,MA/JT,EAgKpC,IA/JM,CADqC,CAgKrC,EAAO,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,EAAQ,IAAI,EAC3B,EAtPC,KACL,AAAI,GACK,EAoP6B,EArP3B,AACyB,CAoPjB,CAlPrB,EAmPM,KAA8C,MAClD,EAtP8B,AAuP9B,IAFqB,kBAEE,EAAQ,qBACjC,AADsD,IAnKxC,CACZ,MAAM,UACN,CAAS,GAAG,CAAC,EAAY,CAAC,CAAC,CAAC,GAET,CADjB,EAAY,CAAE,GAAG,EAAQ,qBAAqB,EAAE,QAAQ,CAAE,GAAG,CAAS,CAAC,EAC5C,QAAQ,EAAI,EAAqB,EAAQ,IAAI,CAAE,CAAE,KAAM,QAAS,MAAO,EAAU,KAAK,AAAC,GAGpH,aAAa,GAAG,CAAC,EAAY,CAAC,CAAC,CAAC,EAC9B,EAAY,CAAE,GAAG,EAAQ,qBAAqB,EAAE,YAAY,CAAE,GAAG,CAAS,AAAC,EAC3E,IAAM,EAAW,EAAM,QAAQ,CAAC,GAChC,MAAO,CACL,QAAS,CAAC,QAAE,CAAM,CAAE,IAClB,GAAI,EAAU,KAAK,GAAK,EAAA,SAAS,CAC/B,CADiC,KAC3B,AAAI,MAAM,6DAElB,OAkJoC,AAlJ7B,EAAO,EAAU,KAAK,CAAE,QAC7B,EACA,QAAS,CACP,CAAC,EAAyB,CAAE,CAC1B,IAAK,EACL,KAAM,OACR,EACA,GAAG,EAAU,OAAO,AACtB,CACF,EACF,EACA,GAAG,EAAU,KAAK,GAAK,EAAA,SAAS,CAAG,CAAE,SAAS,CAAM,EAAI,CAAC,CAAC,CAC1D,GAAG,CAAS,UACZ,CACF,CACF,2BACA,CAAyB,GAAG,CAAC,EAAY,CAAC,CAAC,CAAC,GAEzB,CADjB,EAAY,CAAE,GAAG,EAAQ,qBAAqB,EAAE,wBAAwB,CAAE,GAAG,CAAS,CAAC,EAC5D,QAAQ,EAAI,EAAqB,EAAQ,IAAI,CAAE,CAAE,KAAM,WAAY,MAAO,EAAU,KAAK,CAAE,UAAW,EAAU,cAAc,AAAC,GAG5J,6BAA6B,GAAG,CAAC,EAAY,CAAC,CAAC,CAAC,EAC9C,EAAY,CAAE,GAAG,EAAQ,qBAAqB,EAAE,4BAA4B,CAAE,GAAG,CAAS,AAAC,EAC3F,IAAM,EAAW,EAAM,wBAAwB,CAAC,GAChD,MAAO,CACL,QAnGR,AAmGiB,SAnGR,AAAuC,CAAO,CAAE,CAAE,cAAc,OAAO,WAAE,EAAY,GAAwB,CAAE,CAAG,CAAC,CAAvB,AAAwB,EAC3H,OAAO,MAAO,IACZ,IAAM,EAAQ,EAAQ,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,CAAE,SAAU,EAAQ,QAAQ,CAAE,OAAO,CAAK,GACtF,EAAkB,CAAC,CAAC,GAA8B,KAAK,IAA1B,EAAM,KAAK,CAAC,IAAI,CAC/C,IACkB,SAAS,CAAzB,EACF,CAFiB,CAEX,QAAQ,CAAC,CACb,OAAQ,UACR,KAAM,KAAK,EACX,MAAO,KACP,YAAa,UACf,GAEA,EAAQ,MAAM,CAAC,YAAY,CACzB,EAAQ,QAAQ,CAChB,CAAC,EAAO,EAAE,GAAK,EAAe,EAAM,KAI1C,IAAI,EAAS,EAAE,CACT,EAAS,MAAM,EAAQ,GACvB,EAAgC,CAAC,GAAmB,AAAgB,cAK1E,UAAW,IAAM,KAJjB,EAAQ,MAAM,CAAC,YAAY,CACzB,EAAQ,QAAQ,CAChB,CAAC,EAAO,EAAE,GAAK,EAAe,EAAM,IAEZ,GAAQ,CAChC,GAAI,EAAQ,MAAM,CAAC,OAAO,CACxB,CAD0B,KACpB,EAAQ,MAAM,CAAC,MAAM,CAE7B,EAAO,IAAI,CAAC,GACZ,EAAS,EAAe,EAAQ,GAC5B,GACF,EAAQ,MAAM,CAAC,YAAY,CACzB,EAAQ,IAFuB,IAEf,CAChB,CAAC,EAAO,EAAE,GAAK,EAAe,IAAI,EAAM,EAAM,CAAE,GAGtD,CACI,AAAC,GACH,EAAQ,MAAM,CAAC,YAAY,CAAC,EAAQ,IADF,IACU,CAAE,GAEhD,IAAM,EAAa,EAAQ,MAAM,CAAC,YAAY,CAAC,EAAQ,QAAQ,SAC/D,AAAI,EACK,EAAe,EAAY,GAE7B,CACT,CACF,CALoB,CAyDV,MAAO,QAAE,CAAM,CAAE,IACf,GAAI,EAAU,KAAK,GAAK,EAAA,SAAS,CAC/B,CADiC,KAC3B,AAAI,MAAM,6DAElB,IAAM,EAAS,MAAM,EAAO,EAAU,KAAK,CAAE,QAC3C,EACA,QAAS,CACP,CAAC,EAAyB,CAAE,CAC1B,IAAK,EACL,KAAM,UACR,EACA,GAAG,EAAU,OAAO,AACtB,CACF,GACA,GAAI,CAAC,CAAA,EAAA,EAAA,qBAAA,AAAqB,EAAC,GACzB,MADkC,AAC5B,AAAI,MAAM,mDAElB,OAAO,CACT,EACA,EAAU,cAAc,EAE1B,GAAG,EAAU,KAAK,GAAK,EAAA,SAAS,CAAG,CAAE,SAAS,CAAM,EAAI,CAAC,CAAC,CAC1D,GAAG,CAAS,UACZ,CACF,CACF,EACA,sBAAqB,GAAG,CAAC,EAAY,CAAC,CAAC,CAAC,GAErB,CADjB,EAAY,CAAE,GAAG,EAAQ,qBAAqB,EAAE,oBAAoB,CAAE,GAAG,CAAS,CAAC,EACxD,QAAQ,EAAI,EAAqB,EAAQ,IAAI,CAAE,CAAE,KAAM,OAAQ,MAAO,EAAU,KAAK,AAAC,GAGnH,yBAAyB,GAAG,CAAC,EAAY,CAAC,CAAC,CAAC,QAC1C,EAAY,CAAE,GAAG,EAAQ,qBAAqB,EAAE,wBAAwB,CAAE,GAAG,CAAU,AAAD,EACtF,IAAM,EAAW,EAAM,oBAAoB,CAAC,GAC5C,MAAO,CACL,OAAA,EA3JwB,AA2Jf,EAAuB,KA3JD,CA2JQ,QAAE,CAAM,CAAE,IAC/C,GAAI,EAAU,KAAK,GAAK,EAAA,SAAS,CAC/B,CADiC,KAC3B,AAAI,MAAM,6DAElB,IAAM,EAAS,MAAM,EAAO,EAAU,KAAK,CAAE,QAC3C,EACA,QAAS,CACP,CAAC,EAAyB,CAAE,CAC1B,IAAK,EACL,KAAM,MACR,EACA,GAAG,EAAU,OAAO,AACtB,CACF,GACA,GAAI,CAAC,CAAA,EAAA,EAAA,qBAAA,AAAqB,EAAC,GACzB,MAAU,AADwB,AAC5B,MAAU,+CAElB,OAAO,CACT,EA5KC,MAAO,QAER,EACJ,UAAW,IAAM,KAFF,IAEW,EAFL,EAAQ,EAAA,EAEK,CAChC,GAAI,EAAQ,MAAM,CAAC,OAAO,CACxB,CAD0B,KACpB,EAAQ,MAAM,CAAC,MAAM,CAE7B,EAAO,OAAE,CAAM,EACf,EAAQ,MAAM,CAAC,YAAY,CAAC,EAAQ,QAAQ,CAAE,EAChD,CACA,GAAI,CAAC,EACH,IADS,EACH,AAAI,MACR,CAAC,eAAe,EAAE,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,EAAQ,QAAQ,EAAE,oGAAoG,CAAC,EAG3J,OAAO,EAAK,KAAK,AACnB,GA6JM,GAAG,EAAU,KAAK,GAAK,EAAA,SAAS,CAAG,CAAE,SAAS,CAAM,EAAI,CAAC,CAAC,CAC1D,GAAG,CAAS,UACZ,CACF,CACF,cACA,AAAY,GAEO,CADjB,EAAY,CAAE,EADK,CACF,EAAQ,qBAAqB,EAAE,WAAW,CAAE,GAAG,CAAU,AAAD,GAC9C,QAAQ,EAAI,EAAqB,EAAQ,IAAI,CAAE,CACxE,KAAM,WACN,MAAO,EAAU,KAAK,GAAK,EAAA,SAAS,CAAG,EAAA,SAAS,CAAG,EAAU,KAAK,CAAC,EAAU,gBAAgB,CAC/F,GAGF,gBAAgB,CAAS,EACvB,EAAY,CAAE,GAAG,EAAQ,qBAAqB,EAAE,eAAe,CAAE,GAAG,CAAS,AAAC,EAC9E,IAAM,EAAW,EAAM,WAAW,CAAC,GACnC,MAAO,CACL,QAAS,CAAC,WAAE,CAAS,QAAE,CAAM,CAAE,IAC7B,GAAI,EAAU,KAAK,GAAK,EAAA,SAAS,CAC/B,CADiC,KAC3B,AAAI,MAAM,6DAElB,OAAO,EAAO,EAAU,KAAK,CAAC,GAAY,QACxC,EACA,QAAS,CACP,CAAC,EAAyB,CAAE,CAC1B,IAAK,EACL,KAAM,UACR,EACA,GAAG,EAAU,OACf,AADsB,CAExB,EACF,EACA,GAAG,EAAU,KAAK,GAAK,EAAA,SAAS,CAAG,CAAE,SAAS,CAAM,EAAI,CAAC,CAAC,CAC1D,GAAG,CAAS,UACZ,CACF,CACF,cACA,CAAY,GAAG,CAAC,EAAY,CAAC,CAAC,CAAC,GAET,CADpB,EAAY,CAAE,GAAG,EAAQ,qBAAqB,EAAE,WAAW,CAAE,GAAG,CAAS,CAAC,EAC5C,WAAW,EAAI,EAAqB,EAAQ,IAAI,CAAE,CAAE,KAAM,UAAW,GAGrG,gBAAgB,GAAG,CAAC,EAAY,CAAC,CAAC,CAAC,EACjC,EAAY,CAAE,GAAG,EAAQ,qBAAqB,EAAE,eAAe,CAAE,GAAG,CAAS,AAAC,EAC9E,IAAM,EAAc,EAAM,WAAW,CAAC,GACtC,MAAO,CACL,WAAY,AAAC,GAAU,EAAO,EAAO,CACnC,QAAS,CACP,CAAC,EAAyB,CAAE,CAC1B,IAAK,EACL,KAAM,UACR,EACA,GAAG,EAAU,OAAO,AACtB,CACF,GACA,GAAG,CAAS,aACZ,CACF,CACF,CACF,GAmCA,OAAO,AAxBW,IAAI,MAAM,CAC1B,GAAG,CAAY,CACf,GAAG,CAAc,AACnB,EAAG,CACD,IAAI,CAAM,CAAE,CAAI,EACd,IAAM,EAAQ,QAAQ,GAAG,CAAC,EAAQ,GAClC,GAAoB,UAAhB,AAA0B,OAAnB,EACT,OAAO,EAET,IAAM,EAAY,EAAkB,CAAM,CAAC,EAAK,CAAE,CAChD,GAAG,CAAO,CACV,KAAM,IAAI,EAAM,EAAK,CACrB,sBAAuB,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EAAQ,qBAAqB,CAAE,CAAC,EAAK,CAClE,SACA,AAAqB,YAAjB,AAA6B,OAAtB,EACF,EAEF,IAAI,MAAM,EAAO,KACtB,CAAI,CAAC,CAAE,IACE,CADG,OACK,GAAG,CAAC,EAAW,EAElC,EACF,CACF,EAEF,kCC9QM,MAOA,EAEE,EAbD,IAAM,EAZwB,AAYa,EAZb,CAAA,CAAA,MAYa,oBAAA,CAoFrC,GAjFP,EAA+B,CAAC,CAAA,GACjB,EACf,EAA4B,AAAD,EA+EJ,EA9EzB,GACF,EACI,EAAqC,AAAC,EAHG,AAClC,EAGT,GACF,IACiB,AAyE8B,EA5EoB,AACxD,AA2BJ,CACL,MAAO,AAAI,IACT,IAAI,CACJ,IAFkC,CAGlC,GAAI,CACF,EAAS,GACX,MADoB,EAClB,CAnBJ,KAqBQ,GAAC,IArBH,EAAgB,EACtB,EAAQ,CAAC,CAAA,CACL,CAmBmB,CAnBL,MAAA,EAAQ,AACxB,EAAW,KACT,CADe,CACD,KACZ,CADkB,CACJ,OAAA,CAAS,AAAD,IACpB,EAAS,EACX,CAAC,CACH,CAAC,CACH,CAAC,AAJuC,CACjB,CAkBvB,CACA,OAAO,CACT,EAIA,WAAY,AACV,GAEO,CAAA,GAAI,KACT,CAFwB,CAEf,EADS,GAEhB,CADa,IACD,EACd,CAAC,CADU,AAAO,AAEpB,EAEF,QAAA,GAjDe,AAAC,IACZ,EACF,EAAM,IAAA,CAF2C,AAEtC,GAEX,EAAW,AAHK,GACG,EAGjB,CADe,CACN,EACX,CAAC,CAEL,EA8CE,EAjDqB,gBAiDF,AAAC,IAClB,EAAW,CAD8B,AAE3C,EAKA,uBAAwB,AAAC,IACvB,EAAgB,CADmC,AAErD,EACA,aAAc,AAAC,IACb,EAAa,CACf,AAFwC,CAG1C,wDC9FK,IAAM,EAAN,MAA+C,AAGpD,aAAc,CAFd,IAAA,CAAU,SAAA,CAAY,EAAA,EAAI,IAAe,AAGvC,IAAA,CAAK,EAHe,OAGf,CAAY,IAAA,CAAK,SAAA,CAAU,IAAA,CAAK,IAAI,CAC3C,CAEA,UAAU,CAAA,CAAiC,CAKzC,OAJA,IAAA,CAAK,SAAA,CAAU,GAAA,CAAI,GAEnB,IAAA,CAF2B,AAEtB,WAAA,CAAY,EAEV,KACL,CADW,GACX,CAAK,SAAA,CAAU,MAAA,CAAO,GACtB,IAAA,CAD8B,AACzB,aAAA,CAAc,CACrB,CACF,CAEA,cAAwB,CACtB,OAAO,IAAA,CAAK,SAAA,CAAU,IAAA,CAAO,CAC/B,CAEU,aAAoB,CAE9B,CAEU,eAAsB,CAEhC,CACF,sDC7BA,IAAA,EAA6B,EAAA,CAApB,AAAoB,CAAA,OAC7B,EAAyB,EAAA,CAAhB,AAAgB,CAAA,MADI,CAqFhB,EAAe,IA5ErB,AA4EyB,EApFP,WAoFoB,CA5EX,EAAA,YAAA,CAAuB,EACvD,GACA,GAEA,AAEA,cAAc,CACZ,KAAA,CAAM,EACN,IAAA,CAAA,CAAA,AAAK,CAAA,CAAS,AAAC,IAGb,GAAI,CAAC,EAAA,EAHoB,MAGpB,EAAY,OAAO,gBAAA,CAAkB,CACxC,IAAM,EAAW,IAAM,IAIvB,IAJ+B,GAE/B,OAAO,gBAAA,CAAiB,mBAAoB,GAAU,GAE/C,EAFoD,GAIzD,CAFW,MAEJ,mBAAA,CAAoB,mBAAoB,EACjD,CACF,CAEF,CACF,CAEU,EAPqD,WAOjC,CACxB,AAAC,IAAA,CAAA,CAAA,CAAK,EACR,AADkB,IAClB,CAAK,gBAAA,CAAiB,IAAA,CAAA,CAAK,AAAL,CAAW,CAErC,CAEU,eAAgB,CACnB,IAAA,CAAK,YAAA,CAAa,GAAG,CACxB,IAAA,CAAA,CAAA,CAAK,GAAW,EAChB,IAAA,CAAA,CAAA,CAAK,CAAW,KAAA,EAEpB,CAEA,iBAAiB,CAAA,CAAsB,CACrC,IAAA,CAAA,CAAA,AAAK,CAAA,CAAS,EACd,IAAA,CAAA,CAAA,CAAK,GAAW,EAChB,IAAA,CAAA,CAAA,CAAK,CAAW,EAAM,AAAC,IACE,QADU,GACC,AAA9B,OAAO,EACT,IAAA,CAAK,UAAA,CAAW,GAEhB,IAFuB,AAEvB,CAAK,OAAA,CAAQ,CAEjB,CAAC,CACH,CAEA,WAAW,CAAA,CAAyB,CAClB,IAAA,CAAA,CAAA,AAAK,CAAA,GAAa,IAEhC,IAAA,CAAA,CAAA,CAAK,CAAW,EAChB,IAAA,CAAK,OAAA,CAAQ,EAEjB,CAEA,SAAgB,CACd,IAAM,EAAY,IAAA,CAAK,SAAA,CAAU,EACjC,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ,AAAC,IACtB,EAAS,EACX,CAAC,CACH,CAEA,EALuC,EACjB,OAID,OACnB,AAA6B,WAAzB,AAAoC,OAA7B,IAAA,CAAA,CAAA,CAAK,CACP,IAAA,CAAA,CAAA,CAAK,CAKP,WAAW,QAAA,EAAU,kBAAoB,QAClD,CACF,kEElFA,IAAA,EAAA,EAAA,CAAA,CAAA,ODAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAkDI,EAAgB,IAjDA,AAiDI,cAjDU,EAAA,YAAY,EAC5C,CAAA,AAAO,EAAG,CAAK,EACf,CAAA,AAAQ,AAAC,EACT,CAAA,AAAM,AAAC,AACP,cAAc,CACZ,KAAK,GACL,IAAI,EAAC,CAAA,AAAM,CAAG,AAAC,IACb,GAAI,CAAC,EAAA,QAAQ,EAAI,OAAO,gBAAgB,CAAE,CACxC,IAAM,EAAiB,IAAM,GAAS,GAChC,EAAkB,IAAM,GAAS,GAGvC,OAFA,OAAO,gBAAgB,CAAC,SAAU,GAAgB,GAClD,OAAO,gBAAgB,CAAC,UAAW,GAAiB,GAC7C,KACL,OAAO,mBAAmB,CAAC,SAAU,GACrC,OAAO,mBAAmB,CAAC,UAAW,EACxC,CACF,CAEF,CACF,CACA,aAAc,CACR,AAAC,IAAI,EAAC,CAAA,AAAQ,EAChB,AADkB,IACd,CAAC,gBAAgB,CAAC,IAAI,EAAC,CAAM,AAAN,CAE/B,CACA,eAAgB,CACT,IAAI,CAAC,YAAY,IAAI,CACxB,IAAI,EAAC,CAAQ,AAAR,KACL,IAAI,EAAC,CAAA,AAAQ,CAAG,KAAK,EAEzB,CACA,iBAAiB,CAAK,CAAE,CACtB,IAAI,CAAC,CAAA,CAAM,CAAG,EACd,IAAI,EAAC,CAAA,AAAQ,KACb,IAAI,EAAC,CAAQ,AAAR,CAAW,EAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAChD,CACA,UAAU,CAAM,CAAE,CACA,IAAI,EAAC,CAAA,AAAO,GAAK,IAE/B,IAAI,EAAC,CAAA,AAAO,CAAG,EACf,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,AAAC,IACtB,EAAS,EACX,GAEJ,CACA,UAAW,CACT,OAAO,IAAI,EAAC,CAAA,AAAO,AACrB,CACF,EEjDA,SAAS,IAGP,IAFI,EACA,EACE,EAAW,IAAI,QAAQ,CAAC,EAAU,KACtC,EAAU,EACV,EAAS,CACX,GAIA,SAAS,EAAS,CAAI,EACpB,OAAO,MAAM,CAAC,EAAU,GACxB,OAAO,EAAS,OAAO,CACvB,OAAO,EAAS,MAAM,AACxB,CAeA,OAtBA,EAAS,MAAM,CAAG,UAClB,EAAS,KAAK,CAAC,KACf,GAMA,EAAS,OAAO,CAAG,AAAC,IAClB,EAAS,CACP,OAAQ,kBACR,CACF,GACA,EAAQ,EACV,EACA,EAAS,MAAM,CAAI,AAAD,IAChB,EAAS,CACP,OAAQ,kBACR,CACF,GACA,EAAO,EACT,EACO,CACT,CD3BA,SAAS,EAAkB,CAAY,EACrC,OAAO,KAAK,GAAG,CAAC,IAAM,GAAK,EAAc,IAC3C,CACA,SAAS,EAAS,CAAW,EAC3B,MAAO,CAAC,GAAe,QAAA,CAAQ,GAAM,UAAW,EAAc,QAAQ,EACxE,GAD6E,sEAE7E,IAAI,EAAiB,cAAc,MACjC,YAAY,CAAO,CAAE,CACnB,KAAK,CAAC,kBACN,IAAI,CAAC,MAAM,CAAG,GAAS,OACvB,IAAI,CAAC,MAAM,CAAG,GAAS,MACzB,CACF,EAIA,SAAS,EAAc,CAAM,EAC3B,IAEI,EAFA,GAAmB,EACnB,EAAe,EAEb,EAAW,IAeX,EAAc,IAAM,EAAA,YAAY,CAAC,SAAS,IAAO,CAAuB,CAAxB,YAAQ,WAAW,EAAiB,EAAc,QAAQ,EAAA,CAAE,EAAK,EAAO,MAAM,GAC9H,EAAW,IAAM,EAAS,EAAO,WAAW,GAAK,EAAO,MAAM,GAC9D,EAAW,AAAD,IAhB6B,uBAkBzC,MACA,EAAS,OAAO,CAAC,GAErB,EACM,EAAS,AAAC,kBAtBkB,MAAM,GAwBpC,MACA,EAAS,MAAM,CAAC,GAEpB,EACM,EAAQ,IACL,IAAI,QAAQ,AAAC,IAClB,EAAc,AAAD,KACP,sBAAgB,GAAA,GAAe,AACjC,EAAgB,EAEpB,EACA,EAAO,OAAO,IAChB,GAAG,IAAI,CAAC,KACN,EAAa,KAAK,EACd,CAAC,cAAc,OACjB,EAAO,UAAU,IAErB,GAEI,EAAM,SAIN,EAHJ,IAAI,cAAc,MAChB,OAGF,IAAM,EAAkC,IAAjB,EAAqB,EAAO,cAAc,CAAG,KAAK,EACzE,GAAI,CACF,EAAiB,GAAkB,EAAO,EAAE,EAC9C,CAAE,MAAO,EAAO,CACd,EAAiB,QAAQ,MAAM,CAAC,EAClC,CACA,QAAQ,OAAO,CAAC,GAAgB,IAAI,CAAC,GAAS,KAAK,CAAC,AAAC,IACnD,IAAI,cAAc,MAChB,OAEF,IAAM,EAAQ,EAAO,KAAK,EAAoB,CAAC,CAAjB,CAAC,EAAA,QAAQ,CACjC,EAAa,AADuB,EAChB,UAAU,EAAI,EAClC,EAA8B,YAAtB,OAAO,EAA4B,EAAW,EAAc,GAAS,EAC7E,EAAc,CAAU,OAAQ,AAAiB,iBAAV,GAAsB,EAAe,GAA0B,YAAjB,OAAO,GAAwB,EAAM,EAAc,EAC9I,CAAI,GAAoB,CAAC,EACvB,EAAO,IAGT,IACA,CALsC,CAK/B,MAAM,GAAG,EAAc,GAC9B,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,GAAO,IAAI,CAAC,IACT,IAAgB,KAAK,EAAI,KAC/B,IAAI,CAAC,KACF,EACF,EAAO,GAEP,GAEJ,GACF,EACF,EACA,CAR4B,KAQrB,CACL,QAAS,EACT,OAAQ,IAAM,EAAS,MAAM,CAC7B,OAjFa,AAAC,IACd,IAAI,CAAC,UAFkB,SAEJ,CACjB,IAAM,EAAQ,IAAI,EAAe,GACjC,EAAO,GACP,EAAO,QAAQ,GAAG,EACpB,CACF,EA4EE,SAAU,KACR,MACO,GAET,YA/EkB,KAClB,GAAmB,CACrB,EA8EE,cA7EoB,KACpB,EAAmB,EACrB,WA4EE,EACA,MAAO,KACD,IACF,IAEA,IAAQ,AAHM,IAGF,CAAC,GAER,EAEX,CACF,oGE7HA,IAAA,EAA+B,EAAA,CAAtB,AAAsB,CAAA,MAC/B,EAAyC,EAAA,CAAhC,AAAgC,CAAA,OAGnB,EAAf,AAJwB,AACZ,MAGa,EAE9B,CAEA,SAAgB,CACd,GARqC,CAQrC,CAAK,cAAA,CAAe,CACtB,CAEU,YAAmB,CAC3B,IAAA,CAAK,cAAA,CAAe,EAEpB,CAAA,EAAI,EAAA,cAAA,EAAe,IAAA,CAAK,MAAM,GAAG,AAC/B,KAAA,CAAA,CAAA,CAAK,CAAa,EAAA,cAAA,CAAe,UAAA,CAAW,KAC1C,CADgD,GAChD,CAAK,cAAA,CAAe,CACtB,EAAG,IAAA,CAAK,OAAM,CAElB,CAEU,aAAa,CAAA,CAAqC,CAE1D,IAAA,CAAK,MAAA,CAAS,KAAK,GAAA,CACjB,IAAA,CAAK,MAAA,EAAU,EACf,IAAc,EAAA,OAAd,CAAc,CAAW,IAAW,GAAS,CAAL,AAAK,CAEjD,CAEU,GAJuC,aAItB,CACrB,IAAA,CAAA,CAAA,CAAK,EAAY,CACnB,EAAA,cAAA,CAAe,YAAA,CAAa,IAAA,CAAA,CAAA,CAAe,AAAV,EACjC,IAAA,CAAA,CAAA,AAAK,CAAA,CAAa,KAAA,EAEtB,CAGF,mDCtCA,IAAA,EAAA,EAAA,CAAA,CAAA,OASA,EAA8B,EAAA,CAArB,AAAqB,CAAA,OAC9B,EAAmC,EAAqB,CAA/C,AAA+C,CAAA,OAAA,AAD1B,AAE9B,EAA0B,EAAA,CAAA,AAAjB,CAAiB,EADD,KAoJZ,EAAN,GApJ4B,IACT,OAwJhB,EAAA,SAAA,CAAU,EAMlB,GACA,GACA,GACA,GACA,GAEA,GACA,AAEA,aAAY,CAAA,CAA6D,CACvE,KAAA,CAAM,EAEN,IAAA,CAAA,CAAA,CAAK,EAAuB,EAC5B,IAAA,CAAA,CAAA,CAAK,CAAkB,EAAO,cAAA,CAC9B,IAAA,CAAK,UAAA,CAAW,EAAO,OAAO,EAC9B,IAAA,CAAK,SAAA,CAAY,CAAC,CAAA,CAClB,IAAA,CAAA,CAAA,CAAK,CAAU,EAAO,MAAA,CACtB,IAAA,CAAA,CAAA,AAAK,CAAA,CAAS,IAAA,CAAA,CAAA,AAAK,CAAA,CAAQ,aAAA,CAAc,EACzC,IAAA,CAAK,QAAA,CAAW,EAAO,QAAA,CACvB,IAAA,CAAK,SAAA,CAAY,EAAO,SAAA,CACxB,IAAA,CAAA,CAAA,CAAK,CAAgB,EAAgB,IAAA,CAAK,OAAO,EACjD,IAAA,CAAK,KAAA,CAAQ,EAAO,KAAA,EAAS,IAAA,CAAA,CAAA,CAAK,CAClC,IAAA,CAAK,UAAA,CAAW,CAClB,CACA,IAAI,MAA8B,CAChC,OAAO,IAAA,CAAK,OAAA,CAAQ,IAAA,AACtB,CAEA,IAAI,SAAsC,CACxC,OAAO,IAAA,CAAA,CAAA,CAAK,EAAU,OACxB,CAEA,WACE,CAAA,CACM,CAMN,GALA,IAAA,CAAK,OAAA,CAAU,CAAE,GAAG,IAAA,CAAA,CAAA,CAAK,CAAiB,GAAG,CAAA,AAAQ,EAErD,IAAA,CAAK,YAAA,CAAa,IAAA,CAAK,OAAA,CAAQ,MAAM,EAGjC,IAAA,CAAK,KAAA,EAA6B,KAAA,IAApB,IAAA,CAAK,KAAA,CAAM,IAAA,CAAoB,CAC/C,IAAM,EAAe,EAAgB,IAAA,CAAK,OAAO,CACvB,MAAA,GAAW,CAAjC,EAAa,IAAA,GACf,IAAA,CAAK,QAAA,CACH,EAAa,EAAa,IAAA,CAAM,EAAa,aAAa,GAE5D,IAAA,CAAA,CAAA,CAAK,CAAgB,EAEzB,CACF,CAEU,gBAAiB,CACrB,AAAC,IAAA,CAAK,SAAA,CAAU,MAAA,EAAqC,QAAQ,CAAnC,IAAA,CAAK,KAAA,CAAM,WAAA,EACvC,IAAA,CAAA,CAAA,AAAK,CAAA,CAAO,MAAA,CAAO,IAAI,CAE3B,CAEA,QACE,CAAA,CACA,CAAA,CACO,CACP,IAAM,EAAA,CAAA,EAAO,EAAA,WAAA,EAAY,IAAA,CAAK,KAAA,CAAM,IAAA,CAAM,EAAS,IAAA,CAAK,OAAO,EAU/D,OAPA,IAAA,CAAA,CAAA,CAAK,CAAU,MACb,EACA,KAAM,UACN,cAAe,GAAS,UACxB,OAAQ,GAAS,MACnB,CAAC,EAEM,CACT,CAEA,SACE,CAAA,CACA,CAAA,CACM,CACN,IAAA,CAAA,CAAA,CAAK,CAAU,CAAE,KAAM,iBAAY,kBAAO,CAAgB,CAAC,CAC7D,CAEA,OAAO,CAAA,CAAwC,CAC7C,IAAM,EAAU,IAAA,CAAA,CAAA,AAAK,CAAA,EAAU,QAE/B,OADA,IAAA,CAAA,CAAA,CAAK,EAAU,OAAO,GACf,EAAU,EAAQ,AADI,IACJ,CAAK,EAAA,IAAI,EAAE,KAAA,CAAM,EAAA,IAAI,EAAI,QAAQ,OAAA,CAAQ,CACpE,CAEA,SAAgB,CACd,KAAA,CAAM,QAAQ,EAEd,IAAA,CAAK,MAAA,CAAO,CAAE,QAAQ,CAAK,CAAC,CAC9B,CAEA,OAAc,CACZ,IAAA,CAAK,OAAA,CAAQ,EACb,IAAA,CAAK,QAAA,CAAS,IAAA,CAAA,CAAA,CAAK,AAAa,CAClC,CAEA,UAAoB,CAClB,OAAO,IAAA,CAAK,SAAA,CAAU,IAAA,CACpB,AAAC,GAAA,AAAgE,KAAhE,CAAA,EAAa,EAAA,cAAA,EAAe,EAAS,OAAA,CAAQ,OAAA,CAAS,IAAI,EAE/D,CAEA,YAAsB,QACpB,AAAI,IAAA,CAAK,iBAAA,CAAkB,EAAI,EACtB,CADyB,AACxB,IAAA,CAAK,QAAA,CAAS,EAItB,IAAA,CAAK,OAAA,CAAQ,OAAA,GAAY,EAAA,SAAA,EACzB,IAAA,CAAK,KAAA,CAAM,eAAA,CAAkB,IAAA,CAAK,KAAA,CAAM,gBAAA,GAAqB,CAEjE,CAEA,UAAoB,QAClB,AAAI,IAAA,CAAK,iBAAA,CAAkB,EAAI,GAAG,AACzB,IAAA,CAAK,SAAA,CAAU,IAAA,CACpB,AAAC,GAAA,AACwD,WADxD,CAAA,EACC,EAAA,gBAAA,EAAiB,EAAS,OAAA,CAAQ,SAAA,CAAW,IAAI,EAKzD,CAEA,SAAmB,QAGjB,AAAI,IAAA,CAAK,iBAAA,CAAkB,EAAI,EACtB,CADyB,GACzB,CAAK,SAAA,CAAU,IAAA,CACpB,AAAC,GAAa,EAAS,gBAAA,CAAiB,EAAE,OAAA,EAInB,KAAA,IAApB,IAAA,CAAK,KAAA,CAAM,IAAA,EAAsB,IAAA,CAAK,KAAA,CAAM,aAAA,AACrD,CAEA,cAAc,EAAuB,CAAA,CAAY,QAE/C,AAAwB,KAAA,GAAW,CAA/B,IAAA,CAAK,KAAA,CAAM,IAAA,EAIG,UAAU,CAAxB,MAIA,IAAA,CAAK,KAAA,CAAM,aAAA,EAAe,AAIvB,CAAA,CAAA,EAAC,EAAA,cAAA,EAAe,IAAA,CAAK,KAAA,CAAM,aAAA,CAAe,GACnD,CAEA,KAH4D,IAG5C,CACd,IAAM,EAAW,IAAA,CAAK,SAAA,CAAU,IAAA,CAAK,AAAC,GAAM,EAAE,wBAAA,CAAyB,CAAC,EAExE,GAAU,QAAQ,CAAE,cAAe,EAAM,CAAC,EAG1C,IAAA,CAAA,CAAA,CAAK,EAAU,SAAS,CAC1B,CAEA,UAAiB,CACf,IAAM,EAAW,IAAA,CAAK,SAAA,CAAU,IAAA,CAAK,AAAC,GAAM,EAAE,sBAAA,CAAuB,CAAC,EAEtE,GAAU,QAAQ,CAAE,cAAe,EAAM,CAAC,EAG1C,IAAA,CAAA,CAAA,CAAK,EAAU,SAAS,CAC1B,CAEA,YAAY,CAAA,CAAwD,CAC7D,IAAA,CAAK,SAAA,CAAU,QAAA,CAAS,KAC3B,GADmC,CACnC,CAAK,CADiC,QACjC,CAAU,IAAA,CAAK,GAGpB,IAAA,CAAK,AAHuB,cAGvB,CAAe,EAEpB,IAAA,CAAA,CAAA,CAAK,CAAO,MAAA,CAAO,CAAE,KAAM,gBAAiB,MAAO,IAAA,UAAM,CAAS,CAAC,EAEvE,CAEA,eAAe,CAAA,CAAwD,CACjE,IAAA,CAAK,SAAA,CAAU,QAAA,CAAS,KAC1B,GADkC,CAClC,CAAK,CADgC,QAChC,CAAY,IAAA,CAAK,SAAA,CAAU,MAAA,CAAO,AAAC,GAAM,IAAM,GAE/C,IAAA,CAFuD,AAElD,SAAA,CAAU,MAAA,EAAQ,CAGtB,IAAA,CAAA,CAAA,CAAK,EAAU,CACb,IAAA,CAAA,CAAA,CAAK,CACP,CAD6B,GAC7B,CAAA,CAAK,AAAL,CAAK,CAAS,MAAA,CAAO,CAAE,QAAQ,CAAK,CAAC,EAErC,IAAA,CAAA,CAAA,CAAK,CAAS,WAAA,CAAY,GAI9B,IAAA,CAAK,UAAA,CAAW,GAGlB,IAAA,CAAA,CAAA,CAAK,CAAO,MAAA,CAAO,CAAE,KAAM,kBAAmB,MAAO,IAAA,UAAM,CAAS,CAAC,EAEzE,CAEA,mBAA4B,CAC1B,OAAO,IAAA,CAAK,SAAA,CAAU,MAAA,AACxB,CAEA,YAAmB,CACb,AAAC,IAAA,CAAK,KAAA,CAAM,aAAA,EAAe,AAC7B,IAAA,CAAA,CAAA,CAAK,CAAU,CAAE,KAAM,YAAa,CAAC,CAEzC,CAEA,MAAM,MACJ,CAAA,CACA,CAAA,CACgB,KA+FRC,EA9FR,GAC6B,AAA3B,UAA2B,GAA3B,CAAK,KAAA,CAAM,WAAA,EAIX,IAAA,CAAA,CAAA,CAAK,EAAU,OAAO,IAAM,YAC5B,AACA,GAAwB,KAAA,IAApB,IAAA,CAAK,GANkB,EAMlB,CAAM,IAAA,EAAsB,GAAc,cAEjD,CAFgE,GAEhE,CAAK,MAAA,CAAO,CAAE,QAAQ,CAAK,CAAC,OAC9B,GAAW,IAAA,CAAA,CAAA,CAAK,CAId,CAJwB,MAExB,IAAA,CAAA,CAAA,CAAK,CAAS,aAAA,CAAc,EAErB,IAAA,CAAA,CAAA,CAAK,CAAS,OAAA,AACvB,CAUF,GANI,GACF,IAAA,CAAK,CADM,SACN,CAAW,GAKd,CAAC,GALoB,CAKpB,CAAK,OAAA,CAAQ,OAAA,CAAS,CACzB,IAAM,EAAW,IAAA,CAAK,SAAA,CAAU,IAAA,CAAK,AAAC,GAAM,EAAE,OAAA,CAAQ,OAAO,CACzD,IACF,IAAA,CAAK,CADO,SACP,CAAW,EAAS,OAAO,CAEpC,CAUA,IAAM,EAAkB,IAAI,gBAKtB,AALsC,EAKjB,AAAD,IACxB,OAD6C,AACtC,cAAA,CAAe,EAAQ,SAAU,CACtC,YAAY,EACZ,IAAK,KACH,CADS,GACT,CAAA,CAAA,CAAK,EAAuB,EACrB,EAAgB,MAAA,CAE3B,CAAC,CACH,EAGM,EAAU,KACd,CADoB,GAKZD,EAJF,EAAA,CAAA,EAAU,EAAA,aAAA,EAAc,IAAA,CAAK,OAAA,CAAS,GAgBtC,GAJJ,IALI,CACF,CARoD,MAQ5C,EAQW,EARX,CAAA,CAAA,AAIQA,CAJH,CACb,SAAU,IAGoB,AAHpB,CAAK,CAOyB,OAPzB,CACf,KAAM,IAAA,CAAK,IAAA,AACb,GAEOA,SAMT,CADA,IAAA,CAAA,CAAA,AAAK,CAAA,EAAuB,EACxB,IAAA,CAAK,OAAA,CAAQ,SAAA,EAAW,AACnB,IAAA,CAAK,OAAA,CAAQ,SAAA,CAClB,EACA,EACA,IAAA,EAIG,EAAQ,EACjB,EAyBM,GAJJ,IATI,CACF,EAd2B,AA0Bf,WAJIC,EAPhB,MAOuB,AAIQ,EAXtB,IAAA,CAAK,OAAA,CACd,SAAU,IAAA,CAAK,QAAA,CACf,OAAQ,IAAA,CAAA,CAAA,CAAK,CACb,MAAO,IAAA,CAAK,KAAA,SACZ,CACF,GAGOA,GAKT,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAU,QAAQ,EAAS,IAAwB,EAGhE,IAAA,CAAA,CAAA,AAAK,CAAA,CAAe,IAAA,CAAK,KAAA,EAII,SAA3B,IAAA,CAAK,KAAA,CAAM,WAAA,EACX,IAAA,CAAK,KAAA,CAAM,SAAA,GAAc,EAAQ,YAAA,EAAc,IAAA,GAC/C,AACA,IAAA,CAAA,CAAA,CAAK,CAAU,CAAE,KAAM,QAAS,KAAM,EAAQ,YAAA,EAAc,IAAK,CAAC,EAIpE,IAAA,CAAA,CAAA,CAAK,CAAA,CAAA,EAAW,EAAA,aAAA,EAAc,CAC5B,eAAgB,GAAc,eAG9B,GAAI,EAAQ,OAAA,CACZ,SAAU,AAAC,IACL,MADe,OACE,EAAA,cAAA,EAAkB,EAAM,MAAA,EAAQ,AACnD,IAAA,CAAK,QAAA,CAAS,CACZ,GAAG,IAAA,CAAA,CAAA,CAAK,CACR,YAAa,MACf,CAAC,EAEH,EAAgB,KAAA,CAAM,CACxB,EACA,OAAQ,CAAC,EAAc,KACrB,IAAA,CAD+B,AAC/B,CAAA,CAAK,CAAU,CAAE,KAAM,sBAAU,QAAc,CAAM,CAAC,CACxD,EACA,QAAS,KACP,CADa,GACb,CAAA,CAAA,CAAK,CAAU,CAAE,KAAM,OAAQ,CAAC,CAClC,EACA,WAAY,KACV,CADgB,GAChB,CAAA,CAAA,CAAK,CAAU,CAAE,KAAM,UAAW,CAAC,CACrC,EACA,MAAO,EAAQ,OAAA,CAAQ,KAAA,CACvB,WAAY,EAAQ,OAAA,CAAQ,UAAA,CAC5B,YAAa,EAAQ,OAAA,CAAQ,WAAA,CAC7B,OAAQ,KAAM,CAChB,CAAC,EAED,GAAI,CACF,IAAM,EAAO,MAAM,IAAA,CAAA,CAAA,CAAK,CAAS,KAAA,CAAM,EAGvC,GAAa,KAAA,GAAW,CAApB,EAMF,MAAM,AAAI,MAAM,CAAA,EAAG,IAAA,CAAK,SAAS,CAAA,kBAAA,CAAoB,EAYvD,OATA,IAAA,CAAK,OAAA,CAAQ,GAGb,CAHiB,GAGjB,CAAA,CAAA,CAAK,CAAO,MAAA,CAAO,SAAA,GAAY,EAAM,IAAiC,EACtE,IAAA,CAAA,CAAA,CAAK,CAAO,MAAA,CAAO,SAAA,GACjB,EACA,IAAA,CAAK,KAAA,CAAM,KAAA,CACX,IAAA,EAEK,CACT,CAAA,MAAS,EAAO,CACd,GAAI,aAAiB,EAAA,cAAA,EAAgB,AACnC,GAAI,EAAM,MAAA,CAGR,CAHgB,MAGT,IAAA,CAAA,CAAA,CAAK,CAAS,OAAA,MACvB,GAAW,EAAM,MAAA,CAAQ,CAIvB,GAAwB,KAAA,GAAW,CAA/B,IAAA,CAAK,KAAA,CAAM,IAAA,CACb,MAAM,EAER,OAAO,IAAA,CAAK,KAAA,CAAM,IAAA,CACpB,CAkBF,MAhBA,IAAA,CAAA,CAAA,CAAK,CAAU,CACb,KAAM,cACN,CACF,CAAC,EAGD,IAAA,CAAA,CAAA,CAAK,CAAO,MAAA,CAAO,OAAA,GACjB,EACA,IAAA,EAEF,IAAA,CAAA,CAAA,CAAK,CAAO,MAAA,CAAO,SAAA,GACjB,IAAA,CAAK,KAAA,CAAM,IAAA,CACX,EACA,IAAA,EAGI,CACR,QAAE,CAEA,IAAA,CAAK,UAAA,CAAW,CAClB,CACF,GAEA,CAAU,CAAA,EAAqC,AAC7C,IAAM,EAAU,AACd,IAEA,MAD8B,CACtB,EAAO,IAAA,EAAM,AACnB,IAAK,SACH,MAAO,CACL,GAAG,CAAA,CACH,kBAAmB,EAAO,YAAA,CAC1B,mBAAoB,EAAO,KAAA,AAC7B,CACF,KAAK,QACH,MAAO,CACL,GAAG,CAAA,CACH,YAAa,QACf,CACF,KAAK,WACH,MAAO,CACL,GAAG,CAAA,CACH,YAAa,UACf,CACF,KAAK,QACH,MAAO,CACL,GAAG,CAAA,CACH,GAAG,EAAW,EAAM,IAAA,CAAM,IAAA,CAAK,OAAO,CAAA,CACtC,UAAW,EAAO,IAAA,EAAQ,IAC5B,CACF,KAAK,UACH,IAAM,EAAW,CACf,GAAG,CAAA,CACH,GAAG,EAAa,EAAO,IAAA,CAAM,EAAO,aAAa,CAAA,CACjD,gBAAiB,EAAM,eAAA,CAAkB,EACzC,GAAI,CAAC,EAAO,MAAA,EAAU,CACpB,YAAa,OACb,kBAAmB,EACnB,mBAAoB,IACtB,CAAA,AACF,EAKA,OAFA,IAAA,CAAA,CAAA,CAAK,CAAe,EAAO,MAAA,CAAS,EAAW,KAAA,EAExC,CACT,KAAK,QACH,IAAM,EAAQ,EAAO,KAAA,CACrB,MAAO,CACL,GAAG,CAAA,OACH,EACA,iBAAkB,EAAM,gBAAA,CAAmB,EAC3C,eAAgB,KAAK,GAAA,CAAI,EACzB,kBAAmB,EAAM,iBAAA,CAAoB,EAC7C,mBAAoB,EACpB,YAAa,OACb,OAAQ,QAGR,eAAe,CACjB,CACF,KAAK,aACH,MAAO,CACL,GAAG,CAAA,CACH,eAAe,CACjB,CACF,KAAK,WACH,MAAO,CACL,GAAG,CAAA,CACH,GAAG,EAAO,KAAA,AACZ,CACJ,CACF,EAEA,IAAA,CAAK,KAAA,CAAQ,EAAQ,IAAA,CAAK,KAAK,EAE/B,EAAA,aAAA,CAAc,KAAA,CAAM,KAClB,CADwB,GACxB,CAAK,SAAA,CAAU,OAAA,CAAS,AAAD,IACrB,EAAS,OAD0B,MAC1B,CAAc,CACzB,CAAC,EAED,IAAA,CAAA,CAAA,CAAK,CAAO,MAAA,CAAO,CAAE,MAAO,IAAA,CAAM,KAAM,iBAAW,CAAO,CAAC,CAC7D,CAAC,CACH,CACF,EAEO,SAAS,EAMd,CAAA,CACA,CAAA,EACA,AACA,MAAO,CACL,kBAAmB,EACnB,mBAAoB,KACpB,YAAA,CAAA,EAAa,EAAA,QAAA,EAAS,EAAQ,WAAW,EAAI,WAAa,SAC1D,GAAa,KAAA,IAAT,GACD,CACC,MAAO,KACP,OAAQ,SACV,CAAA,AACJ,CACF,CAEA,SAAS,EAAoB,CAAA,CAAyB,CAAA,EAAwB,AAC5E,MAAO,MACL,EACA,cAAe,GAAiB,KAAK,GAAA,CAAI,EACzC,MAAO,KACP,eAAe,EACf,OAAQ,SACV,CACF,CAEA,SAAS,EAMP,CAAA,EAC2B,AAC3B,IAAM,EAC2B,YAA/B,OAAO,EAAQ,WAAA,CACV,EAAQ,WAAA,CAA2C,EACpD,EAAQ,WAAA,CAER,EAAmB,KAAA,IAAT,EAEV,EAAuB,EACe,YAAxC,OAAO,EAAQ,oBAAA,CACb,EAAQ,oBAAA,CAAqB,EAC7B,EAAQ,oBAAA,CACV,EAEJ,MAAO,MACL,EACA,gBAAiB,EACjB,cAAe,EAAW,GAAwB,KAAK,GAAA,CAAI,EAAK,EAChE,MAAO,KACP,iBAAkB,EAClB,eAAgB,EAChB,kBAAmB,EACnB,mBAAoB,KACpB,UAAW,KACX,eAAe,EACf,OAAQ,EAAU,UAAY,UAC9B,YAAa,MACf,CACF,iECnvBA,IAAA,EAAgC,EAAkB,CAAzC,AAAyC,CAAA,CAAA,MAClD,EAAsB,EAAA,CAAb,AAAa,CAAA,OACtB,EAFgC,AAEF,EAAA,CADR,AACQ,AAArB,CAAqB,OAC9B,EAA6B,EAAA,CAApB,AAAoB,CAAA,OAwFhB,AAzFiB,EAyFvB,UAxFsB,IAwFG,EAAA,YAAA,CAAiC,AAG/D,YAAmB,EAA2B,CAAC,CAAA,CAAG,CAChD,KAAA,CAAM,EADW,IAAA,CAAA,MAAA,CAAA,EAEjB,IAAA,CAAA,CAAA,CAAK,CAAW,EAAA,EAAI,GACtB,CADyC,EAJzC,CAOA,IAHkB,EAShB,CAAA,CACA,CAAA,CAIA,CAAA,CAC+C,CAC/C,IAAM,EAAW,EAAQ,QAAA,CACnB,EACJ,EAAQ,SAAA,EAAA,CAAA,EAAa,EAAA,qBAAA,EAAsB,EAAU,GACnD,EAAQ,EADkD,EAClD,CAAK,GAAA,CAA4C,GAc7D,MAdsE,CAEjE,IACH,EAAQ,CADE,GACE,EAAA,KAAA,CAAM,QAChB,WACA,YACA,EACA,QAAS,EAAO,mBAAA,CAAoB,OAAO,EAC3C,EACA,eAAgB,EAAO,gBAAA,CAAiB,EAC1C,CAAC,EACD,GAFkD,CAElD,CAAK,GAAA,CAAI,IAGJ,CAHS,AAIlB,CAEA,IAAI,CAAA,CAAwC,CACrC,IAAA,CAAA,CAAA,CAAK,CAAS,GAAA,CAAI,EAAM,SAAS,GAAG,CACvC,IAAA,CAAA,CAAA,CAAK,CAAS,GAAA,CAAI,EAAM,SAAA,CAAW,GAEnC,EAFwC,EAExC,CAAK,MAAA,CAAO,CACV,KAAM,cACN,CACF,CAAC,EAEL,CAEA,OAAO,CAAA,CAAwC,CAC7C,IAAM,EAAa,IAAA,CAAA,CAAA,CAAK,CAAS,GAAA,CAAI,EAAM,SAAS,EAEhD,IACF,EAAM,MADQ,CACR,CAAQ,EAEV,IAAe,GACjB,IADwB,AACxB,CAAA,CAAA,CAAK,CAAS,MAAA,CAAO,EAAM,SAAS,EAGtC,IAAA,CAAK,MAAA,CAAO,CAAE,KAAM,gBAAW,CAAM,CAAC,EAE1C,CAEA,OAAc,CACZ,EAAA,aAAA,CAAc,KAAA,CAAM,KAClB,CADwB,GACxB,CAAK,MAAA,CAAO,EAAE,OAAA,CAAS,AAAD,IACpB,IAAA,CAAK,CAD0B,KAC1B,CAAO,EACd,CAAC,CACH,CAFqB,AAEpB,CACH,CAEA,IAME,CAAA,CAC2D,CAC3D,OAAO,IAAA,CAAA,CAAA,AAAK,CAAA,CAAS,GAAA,CAAI,EAG3B,CAEA,MALoC,EAKb,CACrB,MAAO,CAAC,GAAG,IAAA,CAAA,CAAA,CAAK,CAAS,MAAA,CAAO,CAAC,CAAA,AACnC,CAEA,KACE,CAAA,CACgD,CAChD,IAAM,EAAmB,CAAE,MAAO,GAAM,GAAG,CAAA,AAAQ,EAEnD,OAAO,IAAA,CAAK,MAAA,CAAO,EAAE,IAAA,CAAK,AAAC,GAAA,CAAA,EACzB,EAAA,UAAA,EAAW,EAAkB,GAEjC,CAEA,CAJsC,OAI9B,EAA6B,CAAC,CAAA,CAAiB,CACrD,IAAM,EAAU,IAAA,CAAK,MAAA,CAAO,EAC5B,OAAO,OAAO,IAAA,CAAK,GAAS,IAAF,EAAE,CAAS,EACjC,EAAQ,MAAA,CAAO,AAAC,GAAA,CAAA,EAAU,EAAA,UAAA,EAAW,EAAS,IAC9C,CADmD,AAEzD,CAF0D,AAI1D,OAAO,CAAA,CAAoC,CACzC,EAAA,aAAA,CAAc,KAAA,CAAM,KAClB,CADwB,GACxB,CAAK,SAAA,CAAU,OAAA,CAAS,AAAD,IACrB,EAAS,EACX,CAAC,CACH,CAFkB,AAEjB,CACH,CAJyC,AAMzC,SAAgB,CACd,EAAA,aAAA,CAAc,KAAA,CAAM,KAClB,CADwB,GACxB,CAAK,MAAA,CAAO,EAAE,OAAA,CAAQ,AAAC,IACrB,EAAM,IADyB,GACzB,CAAQ,CAChB,CAAC,CACH,CAAC,CACH,CAEA,UAAiB,CACf,EAAA,aAAA,CAAc,KAAA,CAAM,KAClB,CADwB,GACxB,CAAK,MAAA,CAAO,EAAE,OAAA,CAAQ,AAAC,IACrB,EAAM,IADyB,IACzB,CAAS,CACjB,CAAC,CACH,CAAC,CACH,CACF,oDC9NA,IAAA,EAA8B,EAAA,CAArB,AAAqB,CAAA,OAC9B,EAA0B,EAAA,CAAjB,AAAiB,CAAA,OAC1B,AAF8B,EAEA,EAAA,CAArB,AAAqB,CAAA,GADJ,IAkFb,EAAN,WAjFuB,GAsFpB,EAAA,SAAA,CAAU,EAKlB,GACA,GAGA,GACA,AAEA,aACE,CAAA,CACA,CACA,KAAA,CAAM,EAEN,IAAA,CAAA,CAAA,CAAK,CAAU,EAAO,MAAA,CACtB,IAAA,CAAK,UAAA,CAAa,EAAO,UAAA,CACzB,IAAA,CAAA,CAAA,CAAK,CAAiB,EAAO,aAAA,CAC7B,IAAA,CAAA,CAAA,CAAK,CAAa,CAAC,CAAA,CACnB,IAAA,CAAK,KAAA,CAAQ,EAAO,KAAA,EAAS,IAE7B,IAAA,CAAK,OAFwC,GAExC,CAAW,EAAO,OAAO,EAC9B,IAAA,CAAK,UAAA,CAAW,CAClB,CAEA,WACE,CAAA,CACM,CACN,IAAA,CAAK,OAAA,CAAU,EAEf,IAAA,CAAK,YAAA,CAAa,IAAA,CAAK,OAAA,CAAQ,MAAM,CACvC,CAEA,IAAI,MAAiC,CACnC,OAAO,IAAA,CAAK,OAAA,CAAQ,IAAA,AACtB,CAEA,YAAY,CAAA,CAAsD,CAC3D,IAAA,CAAA,CAAA,CAAK,CAAW,QAAA,CAAS,KAC5B,GADoC,CACpC,CAAA,CADuC,AACvC,CAAK,CAAW,IAAA,CAAK,GAGrB,IAAA,CAH6B,AAGxB,cAAA,CAAe,EAEpB,IAAA,CAAA,CAAA,AAAK,CAAA,CAAe,MAAA,CAAO,CACzB,KAAM,gBACN,SAAU,IAAA,UACV,CACF,CAAC,EAEL,CAEA,eAAe,CAAA,CAAsD,CACnE,IAAA,CAAA,CAAA,CAAK,CAAa,IAAA,CAAA,CAAA,CAAK,CAAW,MAAA,CAAO,AAAC,GAAM,IAAM,GAEtD,IAAA,CAF8D,AAEzD,UAAA,CAAW,EAEhB,IAAA,CAAA,CAAA,AAAK,CAAA,CAAe,MAAA,CAAO,CACzB,KAAM,kBACN,SAAU,IAAA,UACV,CACF,CAAC,CACH,CAEU,gBAAiB,CACpB,IAAA,CAAA,CAAA,CAAK,CAAW,MAAA,EAAQ,CACD,WAAW,CAAjC,IAAA,CAAK,KAAA,CAAM,MAAA,CACb,IAAA,CAAK,UAAA,CAAW,EAEhB,IAAA,CAAA,CAAA,CAAK,CAAe,MAAA,CAAO,IAAI,EAGrC,CAEA,UAA6B,CAC3B,OACE,IAAA,CAAA,CAAA,CAAK,EAAU,SAAS,GAExB,EAFwB,EAExB,CAAK,OAAA,CAAQ,IAAA,CAAK,KAAA,CAAM,SAAU,CAEtC,CAEA,MAAM,QAAQ,CAAA,CAAuC,CACnD,IAAM,EAAa,KACjB,CADuB,GACvB,CAAA,CAAA,CAAK,CAAU,CAAE,KAAM,UAAW,CAAC,CACrC,EAEM,EAAoB,CACxB,MAZwB,CAYhB,IAAA,CAAA,CAAA,CAAK,CACb,KAAM,IAAA,CAAK,OAAA,CAAQ,IAAA,CACnB,YAAa,IAAA,CAAK,OAAA,CAAQ,WAAA,AAC5B,EAEA,IAAA,CAAA,CAAA,CAAK,CAAA,CAAA,EAAW,EAAA,aAAA,EAAc,CAC5B,GAAI,IACG,AAAL,EADQ,EACH,AAAD,CAAM,OAAA,CAAQ,UAAA,CAIX,CAJuB,GAIvB,CAAK,OAAA,CAAQ,UAAA,CAAW,EAAW,GAHjC,QAAQ,MAAA,AAG0C,CAHnC,AAAI,MAAM,qBAAqB,CAAC,EAK1D,OAAQ,CAAC,EAAc,KACrB,IAAA,CAAA,AAD+B,CAC/B,CAAK,CAAU,CAAE,KAAM,sBAAU,QAAc,CAAM,CAAC,CACxD,EACA,QAAS,KACP,CADa,GACb,CAAA,CAAA,AAAK,CAAA,CAAU,CAAE,KAAM,OAAQ,CAAC,CAClC,aACA,EACA,MAAO,IAAA,CAAK,OAAA,CAAQ,KAAA,EAAS,EAC7B,WAAY,IAAA,CAAK,OAAA,CAAQ,UAAA,CACzB,YAAa,IAAA,CAAK,OAAA,CAAQ,WAAA,CAC1B,OAAQ,IAAM,IAAA,CAAA,CAAA,CAAK,CAAe,MAAA,CAAO,IAAI,CAC/C,CAAC,EAED,IAAM,EAAiC,YAAtB,IAAA,CAAK,KAAA,CAAM,MAAA,CACtB,EAAW,CAAC,IAAA,CAAA,CAAA,CAAK,CAAS,QAAA,CAAS,EAEzC,GAAI,CACF,GAAI,EAEF,QAFY,AAGP,CACL,EAFW,EAEX,CAAA,CAAA,CAAK,CAAU,CAAE,KAAM,oBAAW,WAAW,CAAS,CAAC,EAEnD,IAAA,CAAA,CAAA,CAAK,CAAe,MAAA,CAAO,QAAA,EAAU,AACvC,MAAM,IAAA,CAAA,CAAA,AAAK,CAAA,CAAe,MAAA,CAAO,QAAA,CAC/B,EACA,IAAA,CACA,GAGJ,IAAM,EAAU,MAAM,IAAA,CAAK,OAAA,CAAQ,QAAA,GACjC,EACA,GAEE,IAAY,IAAA,CAAK,KAAA,CAAM,OAAA,EAAS,AAClC,IAAA,CAAA,CAAA,CAAK,CAAU,CACb,KAAM,kBACN,YACA,WACA,CACF,CAAC,CAEL,CACA,IAAM,EAAO,MAAM,IAAA,CAAA,CAAA,CAAK,CAAS,KAAA,CAAM,EAqCvC,OAlCA,MAAM,IAAA,CAAA,CAAA,CAAK,CAAe,MAAA,CAAO,SAAA,GAC/B,EACA,EACA,IAAA,CAAK,KAAA,CAAM,OAAA,CACX,IAAA,CACA,GAGF,MAAM,IAAA,CAAK,OAAA,CAAQ,SAAA,GACjB,EACA,EACA,IAAA,CAAK,KAAA,CAAM,OAAA,CACX,GAIF,MAAM,IAAA,CAAA,CAAA,CAAK,CAAe,MAAA,CAAO,SAAA,GAC/B,EACA,KACA,IAAA,CAAK,KAAA,CAAM,SAAA,CACX,IAAA,CAAK,KAAA,CAAM,OAAA,CACX,IAAA,CACA,GAGF,MAAM,IAAA,CAAK,OAAA,CAAQ,SAAA,GACjB,EACA,KACA,EACA,IAAA,CAAK,KAAA,CAAM,OAAA,CACX,GAGF,IAAA,CAAA,CAAA,CAAK,CAAU,CAAE,KAAM,eAAW,CAAK,CAAC,EACjC,CACT,CAAA,MAAS,EAAO,CACd,GAAI,CAEF,MAAM,IAAA,CAAA,CAAA,CAAK,CAAe,MAAA,CAAO,OAAA,GAC/B,EACA,EACA,IAAA,CAAK,KAAA,CAAM,OAAA,CACX,IAAA,CACA,EAEJ,CAAA,MAAS,EAAG,CACL,QAAQ,MAAA,CAAO,CAAC,CACvB,CAEA,GAAI,CACF,MAAM,IAAA,CAAK,OAAA,CAAQ,OAAA,GACjB,EACA,EACA,IAAA,CAAK,KAAA,CAAM,OAAA,CACX,EAEJ,CAAA,MAAS,EAAG,CACL,QAAQ,MAAA,CAAO,CAAC,CACvB,CAEA,GAAI,CAEF,MAAM,IAAA,CAAA,CAAA,CAAK,CAAe,MAAA,CAAO,SAAA,GAC/B,KAAA,EACA,EACA,IAAA,CAAK,KAAA,CAAM,SAAA,CACX,IAAA,CAAK,KAAA,CAAM,OAAA,CACX,IAAA,CACA,EAEJ,CAAA,MAAS,EAAG,CACL,QAAQ,MAAA,CAAO,CAAC,CACvB,CAEA,GAAI,CACF,MAAM,IAAA,CAAK,OAAA,CAAQ,SAAA,GACjB,KAAA,EACA,EACA,EACA,IAAA,CAAK,KAAA,CAAM,OAAA,CACX,EAEJ,CAAA,MAAS,EAAG,CACL,QAAQ,MAAA,CAAO,CAAC,CACvB,CAGA,MADA,IAAA,CAAA,CAAA,CAAK,CAAU,CAAE,KAAM,cAAS,CAAuB,CAAC,EAClD,CACR,QAAE,CACA,IAAA,CAAA,CAAA,CAAK,CAAe,OAAA,CAAQ,IAAI,CAClC,CACF,GAEA,CAAU,CAAA,EAwDR,AAxD0E,IAwD1E,CAAK,KAAA,CAAQ,CAtDX,AADc,IAGd,MAD8D,CACtD,EAAO,IAAA,EAAM,AACnB,IAAK,SACH,MAAO,CACL,GAAG,CAAA,CACH,aAAc,EAAO,YAAA,CACrB,cAAe,EAAO,KAAA,AACxB,CACF,KAAK,QACH,MAAO,CACL,GAAG,CAAA,CACH,UAAU,CACZ,CACF,KAAK,WACH,MAAO,CACL,GAAG,CAAA,CACH,UAAU,CACZ,CACF,KAAK,UACH,MAAO,CACL,GAAG,CAAA,CACH,QAAS,EAAO,OAAA,CAChB,KAAM,KAAA,EACN,aAAc,EACd,cAAe,KACf,MAAO,KACP,SAAU,EAAO,QAAA,CACjB,OAAQ,UACR,UAAW,EAAO,SAAA,CAClB,YAAa,KAAK,GAAA,CAAI,CACxB,CACF,KAAK,UACH,MAAO,CACL,GAAG,CAAA,CACH,KAAM,EAAO,IAAA,CACb,aAAc,EACd,cAAe,KACf,MAAO,KACP,OAAQ,UACR,UAAU,CACZ,CACF,KAAK,QACH,MAAO,CACL,GAAG,CAAA,CACH,KAAM,KAAA,EACN,MAAO,EAAO,KAAA,CACd,aAAc,EAAM,YAAA,CAAe,EACnC,cAAe,EAAO,KAAA,CACtB,UAAU,EACV,OAAQ,OACV,CACJ,EACF,EACqB,IAAA,CAAK,KAAK,EAE/B,EAAA,aAAA,CAAc,KAAA,CAAM,KAClB,CADwB,GACxB,CAAA,CAAK,AAAL,CAAK,CAAW,OAAA,CAAS,AAAD,IACtB,EAAS,OAD2B,SAC3B,CAAiB,EAC5B,CAAC,EACD,CAFkC,GAElC,CAAA,CAAA,CAAK,CAAe,MAAA,CAAO,CACzB,SAAU,IAAA,CACV,KAAM,iBACN,CACF,CAAC,CACH,CAAC,CACH,CACF,EAEO,SAAS,IAMd,MAAO,CACL,OAF2D,CAElD,KAAA,EACT,KAAM,KAAA,EACN,MAAO,KACP,aAAc,EACd,cAAe,KACf,SAAU,GACV,OAAQ,OACR,UAAW,KAAA,EACX,YAAa,CACf,CACF,6EGrZQ,EAXR,IAAA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,KACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,ODJA,EAAA,EAAA,CAAA,CAAA,ODAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OACI,EAAgB,cAAc,EAAA,YAAY,CAC5C,YAAY,EAAS,CAAC,CAAC,CAAE,CACvB,KAAK,GACL,IAAI,CAAC,MAAM,CAAG,EACd,IAAI,EAAC,CAAA,AAAU,CAAmB,EAAhB,EAAoB,IACtC,IAAI,EAAC,CAD0B,AAC1B,AAAO,CAAmB,EAAhB,EAAoB,IACnC,IAAI,EAAC,CAAW,AAAX,AADuB,CACT,CACrB,CACA,CAAA,CAAU,AAAC,EACX,CAAA,AAAO,AAAC,AACR,CAAA,EAAW,AAAC,CACZ,MAAM,CAAM,CAAE,CAAO,CAAE,CAAK,CAAE,CAC5B,IAAM,EAAW,IAAI,EAAA,QAAQ,CAAC,QAC5B,EACA,cAAe,IAAI,CACnB,WAAY,EAAE,IAAI,EAAC,CAAA,AAAW,CAC9B,QAAS,EAAO,sBAAsB,CAAC,SACvC,CACF,GAEA,OADA,IAAI,CAAC,GAAG,CAAC,GACF,CACT,CACA,IAAI,CAAQ,CAAE,CACZ,IAAI,CAAC,CAAA,CAAU,CAAC,GAAG,CAAC,GACpB,IAAM,EAAQ,EAAS,GACvB,GAAqB,UAAjB,OAAO,EAAoB,CAC7B,IAAM,EAAkB,IAAI,EAAC,CAAA,AAAO,CAAC,GAAG,CAAC,GACrC,EACF,EAAgB,IAAI,CAAC,GAErB,IAAI,CAHe,CAGd,CAAA,AAAO,CAAC,GAAG,CAAC,EAAO,CAAC,EAAS,CAEtC,CACA,IAAI,CAAC,MAAM,CAAC,CAAE,KAAM,iBAAS,CAAS,EACxC,CACA,OAAO,CAAQ,CAAE,CACf,GAAI,IAAI,EAAC,CAAA,AAAU,CAAC,MAAM,CAAC,GAAW,CACpC,IAAM,EAAQ,EAAS,GACvB,GAAqB,UAAjB,OAAO,EAAoB,CAC7B,IAAM,EAAkB,IAAI,EAAC,CAAA,AAAO,CAAC,GAAG,CAAC,GACzC,GAAI,EACF,GAAI,EAAgB,MAAM,CAAG,EAAG,CADb,AAEjB,IAAM,EAAQ,EAAgB,OAAO,CAAC,GACxB,CAAC,GAAG,CAAd,GACF,EAAgB,MAAM,CAAC,EAAO,EAElC,MAAW,CAAJ,AAAmB,CAAC,EAAE,GAAK,GAChC,IAAI,EAAC,CADqC,AACrC,AAAO,CAAC,MAAM,CAAC,EAG1B,CACF,CACA,IAAI,CAAC,MAAM,CAAC,CAAE,KAAM,mBAAW,CAAS,EAC1C,CACA,OAAO,CAAQ,CAAE,CACf,IAAM,EAAQ,EAAS,GACvB,GAAqB,UAAjB,OAAO,EAOT,OAAO,CAPsB,EAC7B,IAAM,EAAyB,IAAI,CAAC,CAAA,CAAO,CAAC,GAAG,CAAC,GAC1C,EAAuB,GAAwB,KACnD,AAAC,GAAyB,YAAnB,EAAE,KAAK,CAAC,MAAM,EAEvB,MAAO,CAAC,GAAwB,IAAyB,CAC3D,CAGF,CACA,KAJS,GAID,CAAQ,CAAE,CAChB,IAAM,EAAQ,EAAS,GACvB,GAAI,AAAiB,iBAAV,EAIT,OAAO,QAAQ,OAAO,EAJO,EAC7B,IAAM,EAAgB,IAAI,CAAC,CAAA,CAAO,CAAC,GAAG,CAAC,IAAQ,KAAK,AAAC,GAAM,IAAM,GAAY,EAAE,KAAK,CAAC,QAAQ,EAC7F,OAAO,GAAe,YAAc,QAAQ,OAAO,EACrD,CAGF,CACA,KAJS,EAID,CACN,EAAA,aAAa,CAAC,KAAK,CAAC,KAClB,IAAI,EAAC,CAAA,AAAU,CAAC,OAAO,CAAC,AAAC,IACvB,IAAI,CAAC,MAAM,CAAC,CAAE,KAAM,UAAW,UAAS,EAC1C,GACA,IAAI,EAAC,CAAA,AAAU,CAAC,KAAK,GACrB,IAAI,EAAC,CAAA,AAAO,CAAC,KAAK,EACpB,EACF,CACA,QAAS,CACP,OAAO,MAAM,IAAI,CAAC,IAAI,EAAC,CAAA,AAAU,CACnC,CACA,KAAK,CAAO,CAAE,CACZ,IAAM,EAAmB,CAAE,OAAO,EAAM,GAAG,CAAQ,AAAD,EAClD,OAAO,IAAI,CAAC,MAAM,GAAG,IAAI,CACvB,AAAC,GAAa,CAAA,EAAA,EAAA,aAAa,AAAb,EAAc,EAAkB,GAElD,CACA,QAAQ,EAAU,CAAC,CAAC,CAAE,CACpB,OAAO,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,AAAC,GAAa,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,EAAS,GACnE,CACA,OAAO,CAAK,CAAE,CACZ,EAAA,aAAa,CAAC,KAAK,CAAC,KAClB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,AAAC,IACtB,EAAS,EACX,EACF,EACF,CACA,uBAAwB,CACtB,IAAM,EAAkB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,AAAC,GAAM,EAAE,KAAK,CAAC,QAAQ,EACpE,OAAO,EAAA,aAAa,CAAC,KAAK,CACxB,IAAM,QAAQ,GAAG,CACf,EAAgB,GAAG,CAAC,AAAC,GAAa,EAAS,QAAQ,GAAG,KAAK,CAAC,EAAA,IAAI,IAGtE,CACF,EACA,SAAS,EAAS,CAAQ,EACxB,OAAO,EAAS,OAAO,CAAC,KAAK,EAAE,EACjC,CC3GA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OENA,SAAS,EAAsB,CAAK,EAClC,MAAO,CACL,QAAS,CAAC,EAAS,KACjB,IAAM,EAAU,EAAQ,OAAO,CACzB,EAAY,EAAQ,YAAY,EAAE,MAAM,WAAW,UACnD,EAAW,EAAQ,KAAK,CAAC,IAAI,EAAE,OAAS,EAAE,CAC1C,EAAgB,EAAQ,KAAK,CAAC,IAAI,EAAE,YAAc,EAAE,CACtD,EAAS,CAAE,MAAO,EAAE,CAAE,WAAY,EAAE,AAAC,EACrC,EAAc,EACZ,EAAU,UACd,IAAI,GAAY,EAQV,EAAU,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,EAAQ,OAAO,CAAE,EAAQ,YAAY,EAC7D,EAAY,MAAO,EAAM,EAAO,SAQ5B,EAPR,GAAI,EACF,OAAO,EADM,MACE,MAAM,GAEvB,GAAa,MAAT,GAAiB,EAAK,KAAK,CAAC,MAAM,CACpC,CADsC,MAC/B,QAAQ,OAAO,CAAC,GAazB,IAAM,KAVoB,CACtB,OAAQ,EAAQ,EASG,IATG,CACtB,SAAU,EAAQ,QAAQ,CAC1B,UAAW,EACX,UAAW,EAAW,WAAa,UACnC,KAAM,EAAQ,OAAO,CAAC,IAAI,AAC5B,EArBF,CAAA,EAAA,EAAA,qBAAqB,AAArB,EACE,AAqBkB,EApBlB,IAAM,EAAQ,MAAM,CACpB,IAAM,GAAY,GAoBX,GAGH,EAAO,MAAM,EAAQ,GACrB,UAAE,CAAQ,CAAE,CAAG,EAAQ,OAAO,CAC9B,EAAQ,EAAW,EAAA,UAAU,CAAG,EAAA,QAAQ,CAC9C,MAAO,CACL,MAAO,EAAM,EAAK,KAAK,CAAE,EAAM,GAC/B,WAAY,EAAM,EAAK,UAAU,CAAE,EAAO,EAC5C,CACF,EACA,GAAI,GAAa,EAAS,MAAM,CAAE,CAChC,IAAM,EAAyB,aAAd,EAEX,EAAU,CACd,MAAO,EACP,WAAY,CACd,EACM,EAAQ,CALM,EAgD9B,SAAS,AAAqB,AAhDW,CAgDJ,CAAE,OAAE,CAAK,YAAE,CAAU,CAAE,EAC1D,OAAO,EAAM,MAAM,CAAG,EAAI,EAAQ,oBAAoB,GAAG,CAAK,CAAC,EAAE,CAAE,EAAO,CAAU,CAAC,EAAE,CAAE,GAAc,KAAK,CAC9G,EAlDgE,CAAA,EAK5B,EAAS,GACnC,EAAS,MAAM,EAAU,EAAS,EAAO,EAC3C,KAAO,CACL,IAAM,EAAiB,GAAS,EAAS,MAAM,CAC/C,EAAG,CACD,IAAM,EAAQ,AAAgB,MAAI,CAAa,CAAC,EAAE,EAAI,EAAQ,gBAAgB,CAAG,EAAiB,EAAS,GAC3G,GAAI,EAAc,GAAc,MAAT,AAAe,EACpC,MAEF,EAAS,MAAM,EAAU,EAAQ,GACjC,GACF,OAAS,EAAc,EAAgB,AACzC,CACA,OAAO,CACT,EACI,EAAQ,OAAO,CAAC,SAAS,CAC3B,CAD6B,CACrB,OAAO,CAAG,IACT,EAAQ,OAAO,CAAC,SAAS,GAC9B,EACA,CACE,OAAQ,EAAQ,MAAM,CACtB,SAAU,EAAQ,QAAQ,CAC1B,KAAM,EAAQ,OAAO,CAAC,IAAI,CAC1B,OAAQ,EAAQ,MAAM,AACxB,EACA,GAIJ,EAAQ,OAAO,CAAG,CAEtB,CACF,CACF,CACA,SAAS,EAAiB,CAAO,CAAE,OAAE,CAAK,YAAE,CAAU,CAAE,EACtD,IAAM,EAAY,EAAM,MAAM,CAAG,EACjC,OAAO,EAAM,MAAM,CAAG,EAAI,EAAQ,gBAAgB,CAChD,CAAK,CAAC,EAAU,CAChB,EACA,CAAU,CAAC,EAAU,CACrB,GACE,KAAK,CACX,CFtFA,IAAI,EAAc,OAChB,CAAY,AAAD,AAAX,EACA,CAAA,AAAc,AAAC,EACf,CAAA,AAAe,AAAC,EAChB,CAAA,AAAc,AAAC,EACf,CAAA,AAAiB,AAAC,EAClB,CAAW,AAAX,AAAY,EACZ,CAAiB,AAAC,AAAlB,EACA,CAAA,AAAkB,AAAC,AACnB,aAAY,EAAS,CAAC,CAAC,CAAE,CACvB,IAAI,EAAC,CAAA,AAAW,CAAG,EAAO,UAAU,EAAI,IAAI,EAAA,UAAU,CACtD,IAAI,EAAC,CAAA,AAAc,CAAG,EAAO,aAAa,EAAI,IAAI,EAClD,IAAI,EAAC,CAAA,AAAe,CAAG,EAAO,cAAc,EAAI,CAAC,EACjD,IAAI,CAAC,CAAA,CAAc,CAAmB,EAAhB,EAAoB,IAC1C,IAAI,EAAC,CAD8B,AAC9B,AAAiB,CAAmB,EAAhB,EAAoB,IAC7C,IAAI,EAAC,CAAA,AAAW,AADsB,CACnB,CACrB,CACA,OAAQ,CACN,IAAI,EAAC,CAAA,AAAW,GACS,GAAG,CAAxB,IAAI,EAAC,CAAA,AAAW,GACpB,IAAI,EAAC,CAAA,AAAiB,CAAG,EAAA,YAAY,CAAC,SAAS,CAAC,MAAO,IACjD,IACF,KADW,CACL,IAAI,CAAC,qBAAqB,GAChC,IAAI,EAAC,CAAA,AAAW,CAAC,OAAO,GAE5B,GACA,IAAI,EAAC,CAAkB,AAAlB,CAAqB,EAAA,aAAa,CAAC,SAAS,CAAC,MAAO,IACnD,IACF,IADU,EACJ,IAAI,CAAC,qBAAqB,GAChC,IAAI,CAAC,CAAA,CAAW,CAAC,QAAQ,GAE7B,GACF,CACA,SAAU,CACR,IAAI,EAAC,CAAA,AAAW,GACS,GAAG,CAAxB,IAAI,EAAC,CAAA,AAAW,GACpB,IAAI,EAAC,CAAA,AAAiB,KACtB,IAAI,EAAC,CAAA,AAAiB,CAAG,KAAK,EAC9B,IAAI,EAAC,CAAkB,AAAlB,KACL,IAAI,CAAC,CAAA,CAAkB,CAAG,KAAK,EACjC,CACA,WAAW,CAAO,CAAE,CAClB,OAAO,IAAI,EAAC,CAAA,AAAW,CAAC,OAAO,CAAC,CAAE,GAAG,CAAO,CAAE,YAAa,UAAW,GAAG,MAC3E,AADiF,CAEjF,WAAW,CAAO,CAAE,CAClB,OAAO,IAAI,EAAC,CAAA,AAAc,CAAC,OAAO,CAAC,CAAE,GAAG,CAAO,CAAE,OAAQ,SAAU,GAAG,MAAM,AAC9E,CAQA,aAAa,CAAQ,CAAE,CACrB,IAAM,EAAU,IAAI,CAAC,mBAAmB,CAAC,UAAE,CAAS,GACpD,OAAO,IAAI,EAAC,CAAA,AAAW,CAAC,GAAG,CAAC,EAAQ,SAAS,GAAG,MAAM,IACxD,CACA,gBAAgB,CAAO,CAAE,CACvB,IAAM,EAAmB,IAAI,CAAC,mBAAmB,CAAC,GAC5C,EAAQ,IAAI,EAAC,CAAA,AAAW,CAAC,KAAK,CAAC,IAAI,CAAE,GACrC,EAAa,EAAM,KAAK,CAAC,IAAI,QACnC,AAAmB,KAAK,GAAG,CAAvB,EACK,IAAI,CAAC,UAAU,CAAC,IAErB,EAAQ,iBAAiB,EAAI,EAAM,aAAa,CAAC,CAAA,EAAA,EAAA,gBAAgB,AAAhB,EAAiB,EAAiB,SAAS,CAAE,KAC3F,IADoG,AAChG,CAAC,aAAa,CAAC,GAEnB,QAAQ,OAAO,CAAC,GACzB,CACA,eAAe,CAAO,CAAE,CACtB,OAAO,IAAI,EAAC,CAAA,AAAW,CAAC,OAAO,CAAC,GAAS,GAAG,CAAC,CAAC,UAAE,CAAQ,OAAE,CAAK,CAAE,GAExD,CAAC,EADK,EAAM,IAAI,CACA,CAE3B,CACA,aAAa,CAAQ,CAAE,CAAO,CAAE,CAAO,CAAE,CACvC,IAAM,EAAmB,IAAI,CAAC,mBAAmB,CAAC,UAAE,CAAS,GACvD,EAAQ,IAAI,EAAC,CAAA,AAAW,CAAC,GAAG,CAChC,EAAiB,SAAS,EAEtB,EAAW,GAAO,MAAM,KACxB,EAAO,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,EAAS,GACvC,GAAI,AAAS,KAAK,GAAG,GAGrB,OAAO,IAAI,EAAC,CAAA,AAAW,CAAC,KAAK,CAAC,IAAI,CAAE,GAAkB,OAAO,CAAC,EAAM,CAAE,GAAG,CAAO,CAAE,QAAQ,CAAK,EACjG,CACA,eAAe,CAAO,CAAE,CAAO,CAAE,CAAO,CAAE,CACxC,OAAO,EAAA,aAAa,CAAC,KAAK,CACxB,IAAM,IAAI,CAAC,CAAA,CAAW,CAAC,OAAO,CAAC,GAAS,GAAG,CAAC,CAAC,UAAE,CAAQ,CAAE,GAAK,CAC5D,EACA,IAAI,CAAC,YAAY,CAAC,EAAU,EAAS,GACtC,EAEL,CACA,cAAc,CAAQ,CAAE,CACtB,IAAM,EAAU,IAAI,CAAC,mBAAmB,CAAC,UAAE,CAAS,GACpD,OAAO,IAAI,CAAC,CAAA,CAAW,CAAC,GAAG,CACzB,EAAQ,SAAS,GAChB,KACL,CACA,cAAc,CAAO,CAAE,CACrB,IAAM,EAAa,IAAI,EAAC,CAAA,AAAW,CACnC,EAAA,aAAa,CAAC,KAAK,CAAC,KAClB,EAAW,OAAO,CAAC,GAAS,OAAO,CAAC,AAAC,IACnC,EAAW,MAAM,CAAC,EACpB,EACF,EACF,CACA,aAAa,CAAO,CAAE,CAAO,CAAE,CAC7B,IAAM,EAAa,IAAI,EAAC,CAAA,AAAW,CACnC,OAAO,EAAA,aAAa,CAAC,KAAK,CAAC,KACzB,EAAW,OAAO,CAAC,GAAS,OAAO,CAAC,AAAC,IACnC,EAAM,KAAK,EACb,GACO,IAAI,CAAC,cAAc,CACxB,CACE,KAAM,SACN,GAAG,CAAO,AACZ,EACA,IAGN,CACA,cAAc,CAAO,CAAE,EAAgB,CAAC,CAAC,CAAE,CACzC,IAAM,EAAyB,CAAE,QAAQ,EAAM,GAAG,CAAa,AAAC,EAIhE,OAAO,QAAQ,GAAG,CAHD,AAGE,EAHF,aAAa,CAAC,KAAK,CAClC,IAAM,IAAI,EAAC,CAAA,AAAW,CAAC,OAAO,CAAC,GAAS,GAAG,CAAC,AAAC,GAAU,EAAM,MAAM,CAAC,MAEzC,IAAI,CAAC,EAAA,IAAI,EAAE,KAAK,CAAC,EAAA,IAAI,CACpD,CACA,kBAAkB,CAAO,CAAE,EAAU,CAAC,CAAC,CAAE,CACvC,OAAO,EAAA,aAAa,CAAC,KAAK,CAAC,IAIzB,CAHA,IAAI,EAAC,CAAA,AAAW,CAAC,OAAO,CAAC,GAAS,OAAO,CAAC,AAAC,IACzC,EAAM,UAAU,EAClB,GACI,GAAS,cAAgB,QACpB,AAD4B,QACpB,OAAO,GAEjB,IAAI,CAAC,cAAc,CACxB,CACE,GAAG,CAAO,CACV,KAAM,GAAS,aAAe,GAAS,MAAQ,QACjD,EACA,GAGN,CACA,eAAe,CAAO,CAAE,EAAU,CAAC,CAAC,CAAE,CACpC,IAAM,EAAe,CACnB,GAAG,CAAO,CACV,cAAe,EAAQ,aAAa,GAAI,CAC1C,EAUA,OAAO,QAAQ,GAAG,CAAC,AATF,EAAA,aAAa,CAAC,KAAK,CAClC,IAAM,IAAI,EAAC,CAAA,AAAW,CAAC,OAAO,CAAC,GAAS,MAAM,CAAC,AAAC,GAAU,CAAC,EAAM,UAAU,IAAM,CAAC,EAAM,QAAQ,IAAI,GAAG,CAAC,AAAC,IACvG,IAAI,EAAU,EAAM,KAAK,CAAC,KAAK,EAAG,GAIlC,OAHI,AAAC,EAAa,YAAY,EAAE,CAC9B,EAAU,EAAQ,KAAK,CAAC,EAAA,KAAI,EAEK,WAA5B,EAAM,KAAK,CAAC,WAAW,CAAgB,QAAQ,OAAO,GAAK,CACpE,KAE2B,IAAI,CAAC,EAAA,IAAI,CACxC,CACA,WAAW,CAAO,CAAE,CAClB,IAAM,EAAmB,IAAI,CAAC,mBAAmB,CAAC,EACnB,MAAK,GAAG,CAAnC,EAAiB,KAAK,GACxB,EAAiB,KAAK,EAAG,CAAA,EAE3B,IAAM,EAAQ,IAAI,EAAC,CAAA,AAAW,CAAC,KAAK,CAAC,IAAI,CAAE,GAC3C,OAAO,EAAM,aAAa,CACxB,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,EAAiB,SAAS,CAAE,IAC3C,EAAM,KAAK,CAAC,GAAoB,QAAQ,OAAO,CAAC,EAAM,KAAK,CAAC,IAAI,CACtE,CACA,cAAc,CAAO,CAAE,CACrB,OAAO,IAAI,CAAC,UAAU,CAAC,GAAS,IAAI,CAAC,EAAA,IAAI,EAAE,KAAK,CAAC,EAAA,IAAI,CACvD,CACA,mBAAmB,CAAO,CAAE,CAE1B,OADA,EAAQ,QAAQ,CAAG,EAAsB,EAAQ,KAAK,EAC/C,IAAI,CAAC,UAAU,CAAC,EACzB,CACA,sBAAsB,CAAO,CAAE,CAC7B,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAS,IAAI,CAAC,EAAA,IAAI,EAAE,KAAK,CAAC,EAAA,IAAI,CAC/D,CACA,wBAAwB,CAAO,CAAE,CAE/B,OADA,EAAQ,QAAQ,CAAG,EAAsB,EAAQ,KAAK,EAC/C,IAAI,CAAC,eAAe,CAAC,EAC9B,CACA,uBAAwB,QAClB,AAAJ,EAAI,aAAa,CAAC,QAAQ,GACjB,CADqB,GACjB,EAAC,CAAA,AAAc,CAAC,qBAAqB,GAE3C,QAAQ,OAAO,EACxB,CACA,eAAgB,CACd,OAAO,IAAI,CAAC,CAAA,CAAW,AACzB,CACA,kBAAmB,CACjB,OAAO,IAAI,EAAC,CACd,AADc,AAAc,CAE5B,mBAAoB,CAClB,OAAO,IAAI,EAAC,CAAA,AAAe,AAC7B,CACA,kBAAkB,CAAO,CAAE,CACzB,IAAI,EAAC,CAAA,AAAe,CAAG,CACzB,CACA,iBAAiB,CAAQ,CAAE,CAAO,CAAE,CAClC,IAAI,EAAC,CAAA,AAAc,CAAC,GAAG,CAAC,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,GAAW,UACzC,EACA,eAAgB,CAClB,EACF,CACA,iBAAiB,CAAQ,CAAE,CACzB,IAAM,EAAW,IAAI,IAAI,EAAC,CAAA,AAAc,CAAC,MAAM,GAAG,CAC5C,EAAS,CAAC,EAMhB,OALA,EAAS,OAAO,CAAC,AAAC,IACZ,CAAA,EAAA,EAAA,eAAe,AAAf,EAAgB,EAAU,EAAa,QAAQ,GAAG,AACpD,OAAO,MAAM,CAAC,EAAQ,EAAa,cAAc,CAErD,GACO,CACT,CACA,oBAAoB,CAAW,CAAE,CAAO,CAAE,CACxC,IAAI,EAAC,CAAA,AAAiB,CAAC,GAAG,CAAC,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,GAAc,aAC/C,EACA,eAAgB,CAClB,EACF,CACA,oBAAoB,CAAW,CAAE,CAC/B,IAAM,EAAW,IAAI,IAAI,EAAC,CAAiB,AAAjB,CAAkB,MAAM,GAAG,CAC/C,EAAS,CAAC,EAMhB,OALA,EAAS,OAAO,CAAC,AAAC,IACZ,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,EAAa,EAAa,WAAW,GAAG,AAC1D,OAAO,MAAM,CAAC,EAAQ,EAAa,cAAc,CAErD,GACO,CACT,CACA,oBAAoB,CAAO,CAAE,CAC3B,GAAI,EAAQ,UAAU,CACpB,CADsB,MACf,EAET,IAAM,EAAmB,CACvB,GAAG,IAAI,EAAC,CAAA,AAAe,CAAC,OAAO,CAC/B,GAAG,IAAI,CAAC,gBAAgB,CAAC,EAAQ,QAAQ,CAAC,CAC1C,GAAG,CAAO,CACV,YAAY,CACd,EAmBA,OAlBK,AAAD,EAAkB,SAAS,EAAE,CAC/B,EAAiB,SAAS,CAAG,CAAA,EAAA,EAAA,qBAAA,AAAqB,EAChD,EAAiB,QAAQ,CACzB,EAAA,EAGwC,KAAK,GAAG,CAAhD,EAAiB,kBAAkB,GACrC,EAAiB,kBAAkB,CAAoC,WAAjC,EAAiB,WAAW,AAAK,EAEnC,KAAK,GAAG,CAA1C,EAAiB,YAAY,GAC/B,EAAiB,YAAY,CAAG,CAAC,CAAC,EAAiB,QAAA,AAAQ,EAEzD,CAAC,EAAiB,WAAW,EAAI,EAAiB,SAAS,EAAE,CAC/D,EAAiB,WAAW,CAAG,cAAA,EAE7B,EAAiB,OAAO,GAAK,EAAA,SAAS,EAAE,CAC1C,EAAiB,OAAO,CAAG,EAAA,EAEtB,CACT,CACA,uBAAuB,CAAO,CAAE,QAC9B,AAAI,GAAS,WACJ,CADgB,CAGlB,CACL,GAAG,IAAI,EAAC,CAAA,AAAe,CAAC,SAAS,CACjC,GAAG,GAAS,aAAe,IAAI,CAAC,mBAAmB,CAAC,EAAQ,WAAW,CAAC,CACxE,GAAG,CAAO,CACV,YAAY,CACd,CACF,CACA,OAAQ,CACN,IAAI,EAAC,CAAA,AAAW,CAAC,KAAK,GACtB,IAAI,EAAC,CAAA,AAAc,CAAC,KAAK,EAC3B,CACF,ECtSA,EAAA,EAAA,CAAA,CAAA,OAaO,IAAM,EAAc,IAAI,EAAY,CACzC,WAAY,IAAI,EAAA,UAAU,CAAC,CACzB,QAAS,CAAC,EAAO,KACf,EAAA,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,EAAM,OAAO,CAAA,CAAE,CAAE,CACrC,OAAQ,CACN,MAAO,QACP,QAAS,KACM,MAAT,GAA6C,YAA5B,AAAwC,OAAjC,EAAM,UAAU,EAC1C,EAAM,UAAU,EAEpB,CACF,CACF,EACF,CACF,EACF,GAEa,EAAO,IAAI,EAAA,OAAO,CAAC,CAC9B,GAAA,EAAK,EAvBH,QAAQ,GAAG,CAAC,mBAAmB,GAC9B,CAAD,OAAS,GAAG,CAAC,UAAU,CAAG,CAAC,QAAQ,EAAE,QAAQ,GAAG,CAAC,UAAU,CAAA,CAAE,CAAG,uBAAA,CAAuB,CAClF,CAAA,EAAG,EAAK,QAAQ,CAAC,QAsBxB,CAAM,EAAK,CAAF,GACA,GADS,GACH,EAAK,CAChB,GAAG,CAAO,CACV,YAAa,SACf,GAEF,QAAS,UAKP,GAAM,SAAE,CAAO,CAAE,CAAG,MAAA,EAAA,CAAA,CAAA,OACpB,OAAO,OAAO,WAAW,CAAC,MAAM,IAClC,CACF,GAEa,EAA0B,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,GAEpC,CAAA,EAAA,EAAA,wBAAA,AAAwB,EAAC","ignoreList":[1,2,3,4,5,6,7,8,11,15,16,17,22,23,25]}